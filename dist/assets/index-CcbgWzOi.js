(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function i(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=i(n);fetch(n.href,s)}})();/**
* @vue/shared v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Zm(t){const e=Object.create(null);for(const i of t.split(","))e[i]=1;return i=>i in e}const gt={},fa=[],Kr=()=>{},RO=()=>!1,Rd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),eg=t=>t.startsWith("onUpdate:"),fi=Object.assign,tg=(t,e)=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)},DO=Object.prototype.hasOwnProperty,lt=(t,e)=>DO.call(t,e),ze=Array.isArray,pa=t=>Dd(t)==="[object Map]",qT=t=>Dd(t)==="[object Set]",Qe=t=>typeof t=="function",Lt=t=>typeof t=="string",On=t=>typeof t=="symbol",At=t=>t!==null&&typeof t=="object",VT=t=>(At(t)||Qe(t))&&Qe(t.then)&&Qe(t.catch),WT=Object.prototype.toString,Dd=t=>WT.call(t),IO=t=>Dd(t).slice(8,-1),zT=t=>Dd(t)==="[object Object]",ig=t=>Lt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,iu=Zm(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Id=t=>{const e=Object.create(null);return i=>e[i]||(e[i]=t(i))},kO=/-(\w)/g,rr=Id(t=>t.replace(kO,(e,i)=>i?i.toUpperCase():"")),LO=/\B([A-Z])/g,as=Id(t=>t.replace(LO,"-$1").toLowerCase()),kd=Id(t=>t.charAt(0).toUpperCase()+t.slice(1)),$h=Id(t=>t?`on${kd(t)}`:""),Jn=(t,e)=>!Object.is(t,e),jh=(t,...e)=>{for(let i=0;i<t.length;i++)t[i](...e)},GT=(t,e,i,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:i})},NO=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let xv;const Ld=()=>xv||(xv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ji(t){if(ze(t)){const e={};for(let i=0;i<t.length;i++){const r=t[i],n=Lt(r)?jO(r):ji(r);if(n)for(const s in n)e[s]=n[s]}return e}else if(Lt(t)||At(t))return t}const FO=/;(?![^(]*\))/g,MO=/:([^]+)/,$O=/\/\*[^]*?\*\//g;function jO(t){const e={};return t.replace($O,"").split(FO).forEach(i=>{if(i){const r=i.split(MO);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ue(t){let e="";if(Lt(t))e=t;else if(ze(t))for(let i=0;i<t.length;i++){const r=ue(t[i]);r&&(e+=r+" ")}else if(At(t))for(const i in t)t[i]&&(e+=i+" ");return e.trim()}function ta(t){if(!t)return null;let{class:e,style:i}=t;return e&&!Lt(e)&&(t.class=ue(e)),i&&(t.style=ji(i)),t}const BO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",UO=Zm(BO);function KT(t){return!!t||t===""}const QT=t=>!!(t&&t.__v_isRef===!0),je=t=>Lt(t)?t:t==null?"":ze(t)||At(t)&&(t.toString===WT||!Qe(t.toString))?QT(t)?je(t.value):JSON.stringify(t,XT,2):String(t),XT=(t,e)=>QT(e)?XT(t,e.value):pa(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((i,[r,n],s)=>(i[Bh(r,s)+" =>"]=n,i),{})}:qT(e)?{[`Set(${e.size})`]:[...e.values()].map(i=>Bh(i))}:On(e)?Bh(e):At(e)&&!ze(e)&&!zT(e)?String(e):e,Bh=(t,e="")=>{var i;return On(t)?`Symbol(${(i=t.description)!=null?i:e})`:t};/**
* @vue/reactivity v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pi;class HO{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Pi,!e&&Pi&&(this.index=(Pi.scopes||(Pi.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,i;if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].pause();for(e=0,i=this.effects.length;e<i;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,i;if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].resume();for(e=0,i=this.effects.length;e<i;e++)this.effects[e].resume()}}run(e){if(this._active){const i=Pi;try{return Pi=this,e()}finally{Pi=i}}}on(){++this._on===1&&(this.prevScope=Pi,Pi=this)}off(){this._on>0&&--this._on===0&&(Pi=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let i,r;for(i=0,r=this.effects.length;i<r;i++)this.effects[i].stop();for(this.effects.length=0,i=0,r=this.cleanups.length;i<r;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,r=this.scopes.length;i<r;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function qO(){return Pi}let vt;const Uh=new WeakSet;class YT{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Pi&&Pi.active&&Pi.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Uh.has(this)&&(Uh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ZT(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,wv(this),e1(this);const e=vt,i=Sr;vt=this,Sr=!0;try{return this.fn()}finally{t1(this),vt=e,Sr=i,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)sg(e);this.deps=this.depsTail=void 0,wv(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Uh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Up(this)&&this.run()}get dirty(){return Up(this)}}let JT=0,ru,nu;function ZT(t,e=!1){if(t.flags|=8,e){t.next=nu,nu=t;return}t.next=ru,ru=t}function rg(){JT++}function ng(){if(--JT>0)return;if(nu){let e=nu;for(nu=void 0;e;){const i=e.next;e.next=void 0,e.flags&=-9,e=i}}let t;for(;ru;){let e=ru;for(ru=void 0;e;){const i=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=i}}if(t)throw t}function e1(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function t1(t){let e,i=t.depsTail,r=i;for(;r;){const n=r.prevDep;r.version===-1?(r===i&&(i=n),sg(r),VO(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=i}function Up(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(i1(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function i1(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===_u)||(t.globalVersion=_u,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Up(t))))return;t.flags|=2;const e=t.dep,i=vt,r=Sr;vt=t,Sr=!0;try{e1(t);const n=t.fn(t._value);(e.version===0||Jn(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{vt=i,Sr=r,t1(t),t.flags&=-3}}function sg(t,e=!1){const{dep:i,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),i.subs===t&&(i.subs=r,!r&&i.computed)){i.computed.flags&=-5;for(let s=i.computed.deps;s;s=s.nextDep)sg(s,!0)}!e&&!--i.sc&&i.map&&i.map.delete(i.key)}function VO(t){const{prevDep:e,nextDep:i}=t;e&&(e.nextDep=i,t.prevDep=void 0),i&&(i.prevDep=e,t.nextDep=void 0)}let Sr=!0;const r1=[];function En(){r1.push(Sr),Sr=!1}function xn(){const t=r1.pop();Sr=t===void 0?!0:t}function wv(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const i=vt;vt=void 0;try{e()}finally{vt=i}}}let _u=0;class WO{constructor(e,i){this.sub=e,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ag{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!vt||!Sr||vt===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==vt)i=this.activeLink=new WO(vt,this),vt.deps?(i.prevDep=vt.depsTail,vt.depsTail.nextDep=i,vt.depsTail=i):vt.deps=vt.depsTail=i,n1(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const r=i.nextDep;r.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=r),i.prevDep=vt.depsTail,i.nextDep=void 0,vt.depsTail.nextDep=i,vt.depsTail=i,vt.deps===i&&(vt.deps=r)}return i}trigger(e){this.version++,_u++,this.notify(e)}notify(e){rg();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{ng()}}}function n1(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)n1(r)}const i=t.dep.subs;i!==t&&(t.prevSub=i,i&&(i.nextSub=t)),t.dep.subs=t}}const Hp=new WeakMap,Ps=Symbol(""),qp=Symbol(""),bu=Symbol("");function oi(t,e,i){if(Sr&&vt){let r=Hp.get(t);r||Hp.set(t,r=new Map);let n=r.get(i);n||(r.set(i,n=new ag),n.map=r,n.key=i),n.track()}}function mn(t,e,i,r,n,s){const a=Hp.get(t);if(!a){_u++;return}const o=u=>{u&&u.trigger()};if(rg(),e==="clear")a.forEach(o);else{const u=ze(t),l=u&&ig(i);if(u&&i==="length"){const c=Number(r);a.forEach((f,m)=>{(m==="length"||m===bu||!On(m)&&m>=c)&&o(f)})}else switch((i!==void 0||a.has(void 0))&&o(a.get(i)),l&&o(a.get(bu)),e){case"add":u?l&&o(a.get("length")):(o(a.get(Ps)),pa(t)&&o(a.get(qp)));break;case"delete":u||(o(a.get(Ps)),pa(t)&&o(a.get(qp)));break;case"set":pa(t)&&o(a.get(Ps));break}}ng()}function Vs(t){const e=ut(t);return e===t?e:(oi(e,"iterate",bu),Zi(t)?e:e.map(Zt))}function Nd(t){return oi(t=ut(t),"iterate",bu),t}const zO={__proto__:null,[Symbol.iterator](){return Hh(this,Symbol.iterator,Zt)},concat(...t){return Vs(this).concat(...t.map(e=>ze(e)?Vs(e):e))},entries(){return Hh(this,"entries",t=>(t[1]=Zt(t[1]),t))},every(t,e){return un(this,"every",t,e,void 0,arguments)},filter(t,e){return un(this,"filter",t,e,i=>i.map(Zt),arguments)},find(t,e){return un(this,"find",t,e,Zt,arguments)},findIndex(t,e){return un(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return un(this,"findLast",t,e,Zt,arguments)},findLastIndex(t,e){return un(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return un(this,"forEach",t,e,void 0,arguments)},includes(...t){return qh(this,"includes",t)},indexOf(...t){return qh(this,"indexOf",t)},join(t){return Vs(this).join(t)},lastIndexOf(...t){return qh(this,"lastIndexOf",t)},map(t,e){return un(this,"map",t,e,void 0,arguments)},pop(){return Io(this,"pop")},push(...t){return Io(this,"push",t)},reduce(t,...e){return Cv(this,"reduce",t,e)},reduceRight(t,...e){return Cv(this,"reduceRight",t,e)},shift(){return Io(this,"shift")},some(t,e){return un(this,"some",t,e,void 0,arguments)},splice(...t){return Io(this,"splice",t)},toReversed(){return Vs(this).toReversed()},toSorted(t){return Vs(this).toSorted(t)},toSpliced(...t){return Vs(this).toSpliced(...t)},unshift(...t){return Io(this,"unshift",t)},values(){return Hh(this,"values",Zt)}};function Hh(t,e,i){const r=Nd(t),n=r[e]();return r!==t&&!Zi(t)&&(n._next=n.next,n.next=()=>{const s=n._next();return s.value&&(s.value=i(s.value)),s}),n}const GO=Array.prototype;function un(t,e,i,r,n,s){const a=Nd(t),o=a!==t&&!Zi(t),u=a[e];if(u!==GO[e]){const f=u.apply(t,s);return o?Zt(f):f}let l=i;a!==t&&(o?l=function(f,m){return i.call(this,Zt(f),m,t)}:i.length>2&&(l=function(f,m){return i.call(this,f,m,t)}));const c=u.call(a,l,r);return o&&n?n(c):c}function Cv(t,e,i,r){const n=Nd(t);let s=i;return n!==t&&(Zi(t)?i.length>3&&(s=function(a,o,u){return i.call(this,a,o,u,t)}):s=function(a,o,u){return i.call(this,a,Zt(o),u,t)}),n[e](s,...r)}function qh(t,e,i){const r=ut(t);oi(r,"iterate",bu);const n=r[e](...i);return(n===-1||n===!1)&&lg(i[0])?(i[0]=ut(i[0]),r[e](...i)):n}function Io(t,e,i=[]){En(),rg();const r=ut(t)[e].apply(t,i);return ng(),xn(),r}const KO=Zm("__proto__,__v_isRef,__isVue"),s1=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(On));function QO(t){On(t)||(t=String(t));const e=ut(this);return oi(e,"has",t),e.hasOwnProperty(t)}class a1{constructor(e=!1,i=!1){this._isReadonly=e,this._isShallow=i}get(e,i,r){if(i==="__v_skip")return e.__v_skip;const n=this._isReadonly,s=this._isShallow;if(i==="__v_isReactive")return!n;if(i==="__v_isReadonly")return n;if(i==="__v_isShallow")return s;if(i==="__v_raw")return r===(n?s?sR:c1:s?l1:u1).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=ze(e);if(!n){let u;if(a&&(u=zO[i]))return u;if(i==="hasOwnProperty")return QO}const o=Reflect.get(e,i,li(e)?e:r);return(On(i)?s1.has(i):KO(i))||(n||oi(e,"get",i),s)?o:li(o)?a&&ig(i)?o:o.value:At(o)?n?h1(o):Fd(o):o}}class o1 extends a1{constructor(e=!1){super(!1,e)}set(e,i,r,n){let s=e[i];if(!this._isShallow){const u=es(s);if(!Zi(r)&&!es(r)&&(s=ut(s),r=ut(r)),!ze(e)&&li(s)&&!li(r))return u?!1:(s.value=r,!0)}const a=ze(e)&&ig(i)?Number(i)<e.length:lt(e,i),o=Reflect.set(e,i,r,li(e)?e:n);return e===ut(n)&&(a?Jn(r,s)&&mn(e,"set",i,r):mn(e,"add",i,r)),o}deleteProperty(e,i){const r=lt(e,i);e[i];const n=Reflect.deleteProperty(e,i);return n&&r&&mn(e,"delete",i,void 0),n}has(e,i){const r=Reflect.has(e,i);return(!On(i)||!s1.has(i))&&oi(e,"has",i),r}ownKeys(e){return oi(e,"iterate",ze(e)?"length":Ps),Reflect.ownKeys(e)}}class XO extends a1{constructor(e=!1){super(!0,e)}set(e,i){return!0}deleteProperty(e,i){return!0}}const YO=new o1,JO=new XO,ZO=new o1(!0);const Vp=t=>t,sc=t=>Reflect.getPrototypeOf(t);function eR(t,e,i){return function(...r){const n=this.__v_raw,s=ut(n),a=pa(s),o=t==="entries"||t===Symbol.iterator&&a,u=t==="keys"&&a,l=n[t](...r),c=i?Vp:e?Gc:Zt;return!e&&oi(s,"iterate",u?qp:Ps),{next(){const{value:f,done:m}=l.next();return m?{value:f,done:m}:{value:o?[c(f[0]),c(f[1])]:c(f),done:m}},[Symbol.iterator](){return this}}}}function ac(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function tR(t,e){const i={get(n){const s=this.__v_raw,a=ut(s),o=ut(n);t||(Jn(n,o)&&oi(a,"get",n),oi(a,"get",o));const{has:u}=sc(a),l=e?Vp:t?Gc:Zt;if(u.call(a,n))return l(s.get(n));if(u.call(a,o))return l(s.get(o));s!==a&&s.get(n)},get size(){const n=this.__v_raw;return!t&&oi(ut(n),"iterate",Ps),Reflect.get(n,"size",n)},has(n){const s=this.__v_raw,a=ut(s),o=ut(n);return t||(Jn(n,o)&&oi(a,"has",n),oi(a,"has",o)),n===o?s.has(n):s.has(n)||s.has(o)},forEach(n,s){const a=this,o=a.__v_raw,u=ut(o),l=e?Vp:t?Gc:Zt;return!t&&oi(u,"iterate",Ps),o.forEach((c,f)=>n.call(s,l(c),l(f),a))}};return fi(i,t?{add:ac("add"),set:ac("set"),delete:ac("delete"),clear:ac("clear")}:{add(n){!e&&!Zi(n)&&!es(n)&&(n=ut(n));const s=ut(this);return sc(s).has.call(s,n)||(s.add(n),mn(s,"add",n,n)),this},set(n,s){!e&&!Zi(s)&&!es(s)&&(s=ut(s));const a=ut(this),{has:o,get:u}=sc(a);let l=o.call(a,n);l||(n=ut(n),l=o.call(a,n));const c=u.call(a,n);return a.set(n,s),l?Jn(s,c)&&mn(a,"set",n,s):mn(a,"add",n,s),this},delete(n){const s=ut(this),{has:a,get:o}=sc(s);let u=a.call(s,n);u||(n=ut(n),u=a.call(s,n)),o&&o.call(s,n);const l=s.delete(n);return u&&mn(s,"delete",n,void 0),l},clear(){const n=ut(this),s=n.size!==0,a=n.clear();return s&&mn(n,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(n=>{i[n]=eR(n,t,e)}),i}function og(t,e){const i=tR(t,e);return(r,n,s)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(lt(i,n)&&n in r?i:r,n,s)}const iR={get:og(!1,!1)},rR={get:og(!1,!0)},nR={get:og(!0,!1)};const u1=new WeakMap,l1=new WeakMap,c1=new WeakMap,sR=new WeakMap;function aR(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function oR(t){return t.__v_skip||!Object.isExtensible(t)?0:aR(IO(t))}function Fd(t){return es(t)?t:ug(t,!1,YO,iR,u1)}function d1(t){return ug(t,!1,ZO,rR,l1)}function h1(t){return ug(t,!0,JO,nR,c1)}function ug(t,e,i,r,n){if(!At(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=oR(t);if(s===0)return t;const a=n.get(t);if(a)return a;const o=new Proxy(t,s===2?r:i);return n.set(t,o),o}function ma(t){return es(t)?ma(t.__v_raw):!!(t&&t.__v_isReactive)}function es(t){return!!(t&&t.__v_isReadonly)}function Zi(t){return!!(t&&t.__v_isShallow)}function lg(t){return t?!!t.__v_raw:!1}function ut(t){const e=t&&t.__v_raw;return e?ut(e):t}function uR(t){return!lt(t,"__v_skip")&&Object.isExtensible(t)&&GT(t,"__v_skip",!0),t}const Zt=t=>At(t)?Fd(t):t,Gc=t=>At(t)?h1(t):t;function li(t){return t?t.__v_isRef===!0:!1}function lR(t){return f1(t,!1)}function cR(t){return f1(t,!0)}function f1(t,e){return li(t)?t:new dR(t,e)}class dR{constructor(e,i){this.dep=new ag,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?e:ut(e),this._value=i?e:Zt(e),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(e){const i=this._rawValue,r=this.__v_isShallow||Zi(e)||es(e);e=r?e:ut(e),Jn(e,i)&&(this._rawValue=e,this._value=r?e:Zt(e),this.dep.trigger())}}function er(t){return li(t)?t.value:t}const hR={get:(t,e,i)=>e==="__v_raw"?t:er(Reflect.get(t,e,i)),set:(t,e,i,r)=>{const n=t[e];return li(n)&&!li(i)?(n.value=i,!0):Reflect.set(t,e,i,r)}};function p1(t){return ma(t)?t:new Proxy(t,hR)}class fR{constructor(e,i,r){this.fn=e,this.setter=i,this._value=void 0,this.dep=new ag(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=_u-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&vt!==this)return ZT(this,!0),!0}get value(){const e=this.dep.track();return i1(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function pR(t,e,i=!1){let r,n;return Qe(t)?r=t:(r=t.get,n=t.set),new fR(r,n,i)}const oc={},Kc=new WeakMap;let Ss;function mR(t,e=!1,i=Ss){if(i){let r=Kc.get(i);r||Kc.set(i,r=[]),r.push(t)}}function gR(t,e,i=gt){const{immediate:r,deep:n,once:s,scheduler:a,augmentJob:o,call:u}=i,l=C=>n?C:Zi(C)||n===!1||n===0?gn(C,1):gn(C);let c,f,m,h,g=!1,p=!1;if(li(t)?(f=()=>t.value,g=Zi(t)):ma(t)?(f=()=>l(t),g=!0):ze(t)?(p=!0,g=t.some(C=>ma(C)||Zi(C)),f=()=>t.map(C=>{if(li(C))return C.value;if(ma(C))return l(C);if(Qe(C))return u?u(C,2):C()})):Qe(t)?e?f=u?()=>u(t,2):t:f=()=>{if(m){En();try{m()}finally{xn()}}const C=Ss;Ss=c;try{return u?u(t,3,[h]):t(h)}finally{Ss=C}}:f=Kr,e&&n){const C=f,R=n===!0?1/0:n;f=()=>gn(C(),R)}const _=qO(),y=()=>{c.stop(),_&&_.active&&tg(_.effects,c)};if(s&&e){const C=e;e=(...R)=>{C(...R),y()}}let T=p?new Array(t.length).fill(oc):oc;const E=C=>{if(!(!(c.flags&1)||!c.dirty&&!C))if(e){const R=c.run();if(n||g||(p?R.some((I,D)=>Jn(I,T[D])):Jn(R,T))){m&&m();const I=Ss;Ss=c;try{const D=[R,T===oc?void 0:p&&T[0]===oc?[]:T,h];u?u(e,3,D):e(...D),T=R}finally{Ss=I}}}else c.run()};return o&&o(E),c=new YT(f),c.scheduler=a?()=>a(E,!1):E,h=C=>mR(C,!1,c),m=c.onStop=()=>{const C=Kc.get(c);if(C){if(u)u(C,4);else for(const R of C)R();Kc.delete(c)}},e?r?E(!0):T=c.run():a?a(E.bind(null,!0),!0):c.run(),y.pause=c.pause.bind(c),y.resume=c.resume.bind(c),y.stop=y,y}function gn(t,e=1/0,i){if(e<=0||!At(t)||t.__v_skip||(i=i||new Set,i.has(t)))return t;if(i.add(t),e--,li(t))gn(t.value,e,i);else if(ze(t))for(let r=0;r<t.length;r++)gn(t[r],e,i);else if(qT(t)||pa(t))t.forEach(r=>{gn(r,e,i)});else if(zT(t)){for(const r in t)gn(t[r],e,i);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&gn(t[r],e,i)}return t}/**
* @vue/runtime-core v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function _l(t,e,i,r){try{return r?t(...r):t()}catch(n){Md(n,e,i)}}function Yr(t,e,i,r){if(Qe(t)){const n=_l(t,e,i,r);return n&&VT(n)&&n.catch(s=>{Md(s,e,i)}),n}if(ze(t)){const n=[];for(let s=0;s<t.length;s++)n.push(Yr(t[s],e,i,r));return n}}function Md(t,e,i,r=!0){const n=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||gt;if(e){let o=e.parent;const u=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${i}`;for(;o;){const c=o.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](t,u,l)===!1)return}o=o.parent}if(s){En(),_l(s,null,10,[t,u,l]),xn();return}}yR(t,i,n,r,a)}function yR(t,e,i,r=!0,n=!1){if(n)throw t;console.error(t)}const bi=[];let Fr=-1;const ga=[];let Wn=null,ia=0;const m1=Promise.resolve();let Qc=null;function g1(t){const e=Qc||m1;return t?e.then(this?t.bind(this):t):e}function vR(t){let e=Fr+1,i=bi.length;for(;e<i;){const r=e+i>>>1,n=bi[r],s=Su(n);s<t||s===t&&n.flags&2?e=r+1:i=r}return e}function cg(t){if(!(t.flags&1)){const e=Su(t),i=bi[bi.length-1];!i||!(t.flags&2)&&e>=Su(i)?bi.push(t):bi.splice(vR(e),0,t),t.flags|=1,y1()}}function y1(){Qc||(Qc=m1.then(_1))}function _R(t){ze(t)?ga.push(...t):Wn&&t.id===-1?Wn.splice(ia+1,0,t):t.flags&1||(ga.push(t),t.flags|=1),y1()}function Av(t,e,i=Fr+1){for(;i<bi.length;i++){const r=bi[i];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;bi.splice(i,1),i--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function v1(t){if(ga.length){const e=[...new Set(ga)].sort((i,r)=>Su(i)-Su(r));if(ga.length=0,Wn){Wn.push(...e);return}for(Wn=e,ia=0;ia<Wn.length;ia++){const i=Wn[ia];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}Wn=null,ia=0}}const Su=t=>t.id==null?t.flags&2?-1:1/0:t.id;function _1(t){try{for(Fr=0;Fr<bi.length;Fr++){const e=bi[Fr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),_l(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Fr<bi.length;Fr++){const e=bi[Fr];e&&(e.flags&=-2)}Fr=-1,bi.length=0,v1(),Qc=null,(bi.length||ga.length)&&_1()}}let ei=null,b1=null;function Xc(t){const e=ei;return ei=t,b1=t&&t.type.__scopeId||null,e}function Ut(t,e=ei,i){if(!e||t._n)return t;const r=(...n)=>{r._d&&Mv(-1);const s=Xc(e);let a;try{a=t(...n)}finally{Xc(s),r._d&&Mv(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Wp(t,e){if(ei===null)return t;const i=Ud(ei),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[s,a,o,u=gt]=e[n];s&&(Qe(s)&&(s={mounted:s,updated:s}),s.deep&&gn(a),r.push({dir:s,instance:i,value:a,oldValue:void 0,arg:o,modifiers:u}))}return t}function gs(t,e,i,r){const n=t.dirs,s=e&&e.dirs;for(let a=0;a<n.length;a++){const o=n[a];s&&(o.oldValue=s[a].value);let u=o.dir[r];u&&(En(),Yr(u,i,8,[t.el,o,t,e]),xn())}}const bR=Symbol("_vte"),SR=t=>t.__isTeleport;function dg(t,e){t.shapeFlag&6&&t.component?(t.transition=e,dg(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function S1(t,e){return Qe(t)?fi({name:t.name},e,{setup:t}):t}function T1(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Yc(t,e,i,r,n=!1){if(ze(t)){t.forEach((g,p)=>Yc(g,e&&(ze(e)?e[p]:e),i,r,n));return}if(ya(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Yc(t,e,i,r.component.subTree);return}const s=r.shapeFlag&4?Ud(r.component):r.el,a=n?null:s,{i:o,r:u}=t,l=e&&e.r,c=o.refs===gt?o.refs={}:o.refs,f=o.setupState,m=ut(f),h=f===gt?()=>!1:g=>lt(m,g);if(l!=null&&l!==u&&(Lt(l)?(c[l]=null,h(l)&&(f[l]=null)):li(l)&&(l.value=null)),Qe(u))_l(u,o,12,[a,c]);else{const g=Lt(u),p=li(u);if(g||p){const _=()=>{if(t.f){const y=g?h(u)?f[u]:c[u]:u.value;n?ze(y)&&tg(y,s):ze(y)?y.includes(s)||y.push(s):g?(c[u]=[s],h(u)&&(f[u]=c[u])):(u.value=[s],t.k&&(c[t.k]=u.value))}else g?(c[u]=a,h(u)&&(f[u]=a)):p&&(u.value=a,t.k&&(c[t.k]=a))};a?(_.id=-1,$i(_,i)):_()}}}Ld().requestIdleCallback;Ld().cancelIdleCallback;const ya=t=>!!t.type.__asyncLoader,E1=t=>t.type.__isKeepAlive;function TR(t,e){x1(t,"a",e)}function ER(t,e){x1(t,"da",e)}function x1(t,e,i=ui){const r=t.__wdc||(t.__wdc=()=>{let n=i;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if($d(e,r,i),i){let n=i.parent;for(;n&&n.parent;)E1(n.parent.vnode)&&xR(r,e,i,n),n=n.parent}}function xR(t,e,i,r){const n=$d(e,t,r,!0);w1(()=>{tg(r[e],n)},i)}function $d(t,e,i=ui,r=!1){if(i){const n=i[t]||(i[t]=[]),s=e.__weh||(e.__weh=(...a)=>{En();const o=bl(i),u=Yr(e,i,t,a);return o(),xn(),u});return r?n.unshift(s):n.push(s),s}}const Rn=t=>(e,i=ui)=>{(!xu||t==="sp")&&$d(t,(...r)=>e(...r),i)},wR=Rn("bm"),CR=Rn("m"),AR=Rn("bu"),PR=Rn("u"),OR=Rn("bum"),w1=Rn("um"),RR=Rn("sp"),DR=Rn("rtg"),IR=Rn("rtc");function kR(t,e=ui){$d("ec",t,e)}const C1="components";function Jr(t,e){return P1(C1,t,!0,e)||t}const A1=Symbol.for("v-ndc");function LR(t){return Lt(t)?P1(C1,t,!1)||t:t||A1}function P1(t,e,i=!0,r=!1){const n=ei||ui;if(n){const s=n.type;{const o=vD(s,!1);if(o&&(o===e||o===rr(e)||o===kd(rr(e))))return s}const a=Pv(n[t]||s[t],e)||Pv(n.appContext[t],e);return!a&&r?s:a}}function Pv(t,e){return t&&(t[e]||t[rr(e)]||t[kd(rr(e))])}function Pt(t,e,i,r){let n;const s=i,a=ze(t);if(a||Lt(t)){const o=a&&ma(t);let u=!1,l=!1;o&&(u=!Zi(t),l=es(t),t=Nd(t)),n=new Array(t.length);for(let c=0,f=t.length;c<f;c++)n[c]=e(u?l?Gc(Zt(t[c])):Zt(t[c]):t[c],c,void 0,s)}else if(typeof t=="number"){n=new Array(t);for(let o=0;o<t;o++)n[o]=e(o+1,o,void 0,s)}else if(At(t))if(t[Symbol.iterator])n=Array.from(t,(o,u)=>e(o,u,void 0,s));else{const o=Object.keys(t);n=new Array(o.length);for(let u=0,l=o.length;u<l;u++){const c=o[u];n[u]=e(t[c],c,u,s)}}else n=[];return n}function zp(t,e){for(let i=0;i<e.length;i++){const r=e[i];if(ze(r))for(let n=0;n<r.length;n++)t[r[n].name]=r[n].fn;else r&&(t[r.name]=r.key?(...n)=>{const s=r.fn(...n);return s&&(s.key=r.key),s}:r.fn)}return t}function Re(t,e,i={},r,n){if(ei.ce||ei.parent&&ya(ei.parent)&&ei.parent.ce)return e!=="default"&&(i.name=e),ne(),Xt(We,null,[rt("slot",i,r&&r())],64);let s=t[e];s&&s._c&&(s._d=!1),ne();const a=s&&O1(s(i)),o=i.key||a&&a.key,u=Xt(We,{key:(o&&!On(o)?o:`_${e}`)+(!a&&r?"_fb":"")},a||(r?r():[]),a&&t._===1?64:-2);return u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),s&&s._c&&(s._d=!0),u}function O1(t){return t.some(e=>Eu(e)?!(e.type===wn||e.type===We&&!O1(e.children)):!0)?t:null}const Gp=t=>t?X1(t)?Ud(t):Gp(t.parent):null,su=fi(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Gp(t.parent),$root:t=>Gp(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>D1(t),$forceUpdate:t=>t.f||(t.f=()=>{cg(t.update)}),$nextTick:t=>t.n||(t.n=g1.bind(t.proxy)),$watch:t=>tD.bind(t)}),Vh=(t,e)=>t!==gt&&!t.__isScriptSetup&&lt(t,e),NR={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:i,setupState:r,data:n,props:s,accessCache:a,type:o,appContext:u}=t;let l;if(e[0]!=="$"){const h=a[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return n[e];case 4:return i[e];case 3:return s[e]}else{if(Vh(r,e))return a[e]=1,r[e];if(n!==gt&&lt(n,e))return a[e]=2,n[e];if((l=t.propsOptions[0])&&lt(l,e))return a[e]=3,s[e];if(i!==gt&&lt(i,e))return a[e]=4,i[e];Kp&&(a[e]=0)}}const c=su[e];let f,m;if(c)return e==="$attrs"&&oi(t.attrs,"get",""),c(t);if((f=o.__cssModules)&&(f=f[e]))return f;if(i!==gt&&lt(i,e))return a[e]=4,i[e];if(m=u.config.globalProperties,lt(m,e))return m[e]},set({_:t},e,i){const{data:r,setupState:n,ctx:s}=t;return Vh(n,e)?(n[e]=i,!0):r!==gt&&lt(r,e)?(r[e]=i,!0):lt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=i,!0)},has({_:{data:t,setupState:e,accessCache:i,ctx:r,appContext:n,propsOptions:s}},a){let o;return!!i[a]||t!==gt&&lt(t,a)||Vh(e,a)||(o=s[0])&&lt(o,a)||lt(r,a)||lt(su,a)||lt(n.config.globalProperties,a)},defineProperty(t,e,i){return i.get!=null?t._.accessCache[e]=0:lt(i,"value")&&this.set(t,e,i.value,null),Reflect.defineProperty(t,e,i)}};function Ov(t){return ze(t)?t.reduce((e,i)=>(e[i]=null,e),{}):t}let Kp=!0;function FR(t){const e=D1(t),i=t.proxy,r=t.ctx;Kp=!1,e.beforeCreate&&Rv(e.beforeCreate,t,"bc");const{data:n,computed:s,methods:a,watch:o,provide:u,inject:l,created:c,beforeMount:f,mounted:m,beforeUpdate:h,updated:g,activated:p,deactivated:_,beforeDestroy:y,beforeUnmount:T,destroyed:E,unmounted:C,render:R,renderTracked:I,renderTriggered:D,errorCaptured:O,serverPrefetch:w,expose:P,inheritAttrs:L,components:M,directives:j,filters:Q}=e;if(l&&MR(l,r,null),a)for(const H in a){const W=a[H];Qe(W)&&(r[H]=W.bind(i))}if(n){const H=n.call(i,i);At(H)&&(t.data=Fd(H))}if(Kp=!0,s)for(const H in s){const W=s[H],G=Qe(W)?W.bind(i,i):Qe(W.get)?W.get.bind(i,i):Kr,Y=!Qe(W)&&Qe(W.set)?W.set.bind(i):Kr,ie=br({get:G,set:Y});Object.defineProperty(r,H,{enumerable:!0,configurable:!0,get:()=>ie.value,set:me=>ie.value=me})}if(o)for(const H in o)R1(o[H],r,i,H);if(u){const H=Qe(u)?u.call(i):u;Reflect.ownKeys(H).forEach(W=>{Dc(W,H[W])})}c&&Rv(c,t,"c");function J(H,W){ze(W)?W.forEach(G=>H(G.bind(i))):W&&H(W.bind(i))}if(J(wR,f),J(CR,m),J(AR,h),J(PR,g),J(TR,p),J(ER,_),J(kR,O),J(IR,I),J(DR,D),J(OR,T),J(w1,C),J(RR,w),ze(P))if(P.length){const H=t.exposed||(t.exposed={});P.forEach(W=>{Object.defineProperty(H,W,{get:()=>i[W],set:G=>i[W]=G})})}else t.exposed||(t.exposed={});R&&t.render===Kr&&(t.render=R),L!=null&&(t.inheritAttrs=L),M&&(t.components=M),j&&(t.directives=j),w&&T1(t)}function MR(t,e,i=Kr){ze(t)&&(t=Qp(t));for(const r in t){const n=t[r];let s;At(n)?"default"in n?s=_n(n.from||r,n.default,!0):s=_n(n.from||r):s=_n(n),li(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[r]=s}}function Rv(t,e,i){Yr(ze(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,i)}function R1(t,e,i,r){let n=r.includes(".")?V1(i,r):()=>i[r];if(Lt(t)){const s=e[t];Qe(s)&&Zn(n,s)}else if(Qe(t))Zn(n,t.bind(i));else if(At(t))if(ze(t))t.forEach(s=>R1(s,e,i,r));else{const s=Qe(t.handler)?t.handler.bind(i):e[t.handler];Qe(s)&&Zn(n,s,t)}}function D1(t){const e=t.type,{mixins:i,extends:r}=e,{mixins:n,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let u;return o?u=o:!n.length&&!i&&!r?u=e:(u={},n.length&&n.forEach(l=>Jc(u,l,a,!0)),Jc(u,e,a)),At(e)&&s.set(e,u),u}function Jc(t,e,i,r=!1){const{mixins:n,extends:s}=e;s&&Jc(t,s,i,!0),n&&n.forEach(a=>Jc(t,a,i,!0));for(const a in e)if(!(r&&a==="expose")){const o=$R[a]||i&&i[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const $R={data:Dv,props:Iv,emits:Iv,methods:Ko,computed:Ko,beforeCreate:_i,created:_i,beforeMount:_i,mounted:_i,beforeUpdate:_i,updated:_i,beforeDestroy:_i,beforeUnmount:_i,destroyed:_i,unmounted:_i,activated:_i,deactivated:_i,errorCaptured:_i,serverPrefetch:_i,components:Ko,directives:Ko,watch:BR,provide:Dv,inject:jR};function Dv(t,e){return e?t?function(){return fi(Qe(t)?t.call(this,this):t,Qe(e)?e.call(this,this):e)}:e:t}function jR(t,e){return Ko(Qp(t),Qp(e))}function Qp(t){if(ze(t)){const e={};for(let i=0;i<t.length;i++)e[t[i]]=t[i];return e}return t}function _i(t,e){return t?[...new Set([].concat(t,e))]:e}function Ko(t,e){return t?fi(Object.create(null),t,e):e}function Iv(t,e){return t?ze(t)&&ze(e)?[...new Set([...t,...e])]:fi(Object.create(null),Ov(t),Ov(e??{})):e}function BR(t,e){if(!t)return e;if(!e)return t;const i=fi(Object.create(null),t);for(const r in e)i[r]=_i(t[r],e[r]);return i}function I1(){return{app:null,config:{isNativeTag:RO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let UR=0;function HR(t,e){return function(r,n=null){Qe(r)||(r=fi({},r)),n!=null&&!At(n)&&(n=null);const s=I1(),a=new WeakSet,o=[];let u=!1;const l=s.app={_uid:UR++,_component:r,_props:n,_container:null,_context:s,_instance:null,version:J1,get config(){return s.config},set config(c){},use(c,...f){return a.has(c)||(c&&Qe(c.install)?(a.add(c),c.install(l,...f)):Qe(c)&&(a.add(c),c(l,...f))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,f){return f?(s.components[c]=f,l):s.components[c]},directive(c,f){return f?(s.directives[c]=f,l):s.directives[c]},mount(c,f,m){if(!u){const h=l._ceVNode||rt(r,n);return h.appContext=s,m===!0?m="svg":m===!1&&(m=void 0),t(h,c,m),u=!0,l._container=c,c.__vue_app__=l,Ud(h.component)}},onUnmount(c){o.push(c)},unmount(){u&&(Yr(o,l._instance,16),t(null,l._container),delete l._container.__vue_app__)},provide(c,f){return s.provides[c]=f,l},runWithContext(c){const f=va;va=l;try{return c()}finally{va=f}}};return l}}let va=null;function Dc(t,e){if(ui){let i=ui.provides;const r=ui.parent&&ui.parent.provides;r===i&&(i=ui.provides=Object.create(r)),i[t]=e}}function _n(t,e,i=!1){const r=ui||ei;if(r||va){const n=va?va._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return i&&Qe(e)?e.call(r&&r.proxy):e}}const k1={},L1=()=>Object.create(k1),N1=t=>Object.getPrototypeOf(t)===k1;function qR(t,e,i,r=!1){const n={},s=L1();t.propsDefaults=Object.create(null),F1(t,e,n,s);for(const a in t.propsOptions[0])a in n||(n[a]=void 0);i?t.props=r?n:d1(n):t.type.props?t.props=n:t.props=s,t.attrs=s}function VR(t,e,i,r){const{props:n,attrs:s,vnode:{patchFlag:a}}=t,o=ut(n),[u]=t.propsOptions;let l=!1;if((r||a>0)&&!(a&16)){if(a&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let m=c[f];if(jd(t.emitsOptions,m))continue;const h=e[m];if(u)if(lt(s,m))h!==s[m]&&(s[m]=h,l=!0);else{const g=rr(m);n[g]=Xp(u,o,g,h,t,!1)}else h!==s[m]&&(s[m]=h,l=!0)}}}else{F1(t,e,n,s)&&(l=!0);let c;for(const f in o)(!e||!lt(e,f)&&((c=as(f))===f||!lt(e,c)))&&(u?i&&(i[f]!==void 0||i[c]!==void 0)&&(n[f]=Xp(u,o,f,void 0,t,!0)):delete n[f]);if(s!==o)for(const f in s)(!e||!lt(e,f))&&(delete s[f],l=!0)}l&&mn(t.attrs,"set","")}function F1(t,e,i,r){const[n,s]=t.propsOptions;let a=!1,o;if(e)for(let u in e){if(iu(u))continue;const l=e[u];let c;n&&lt(n,c=rr(u))?!s||!s.includes(c)?i[c]=l:(o||(o={}))[c]=l:jd(t.emitsOptions,u)||(!(u in r)||l!==r[u])&&(r[u]=l,a=!0)}if(s){const u=ut(i),l=o||gt;for(let c=0;c<s.length;c++){const f=s[c];i[f]=Xp(n,u,f,l[f],t,!lt(l,f))}}return a}function Xp(t,e,i,r,n,s){const a=t[i];if(a!=null){const o=lt(a,"default");if(o&&r===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&Qe(u)){const{propsDefaults:l}=n;if(i in l)r=l[i];else{const c=bl(n);r=l[i]=u.call(null,e),c()}}else r=u;n.ce&&n.ce._setProp(i,r)}a[0]&&(s&&!o?r=!1:a[1]&&(r===""||r===as(i))&&(r=!0))}return r}const WR=new WeakMap;function M1(t,e,i=!1){const r=i?WR:e.propsCache,n=r.get(t);if(n)return n;const s=t.props,a={},o=[];let u=!1;if(!Qe(t)){const c=f=>{u=!0;const[m,h]=M1(f,e,!0);fi(a,m),h&&o.push(...h)};!i&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!u)return At(t)&&r.set(t,fa),fa;if(ze(s))for(let c=0;c<s.length;c++){const f=rr(s[c]);kv(f)&&(a[f]=gt)}else if(s)for(const c in s){const f=rr(c);if(kv(f)){const m=s[c],h=a[f]=ze(m)||Qe(m)?{type:m}:fi({},m),g=h.type;let p=!1,_=!0;if(ze(g))for(let y=0;y<g.length;++y){const T=g[y],E=Qe(T)&&T.name;if(E==="Boolean"){p=!0;break}else E==="String"&&(_=!1)}else p=Qe(g)&&g.name==="Boolean";h[0]=p,h[1]=_,(p||lt(h,"default"))&&o.push(f)}}const l=[a,o];return At(t)&&r.set(t,l),l}function kv(t){return t[0]!=="$"&&!iu(t)}const hg=t=>t[0]==="_"||t==="$stable",fg=t=>ze(t)?t.map($r):[$r(t)],zR=(t,e,i)=>{if(e._n)return e;const r=Ut((...n)=>fg(e(...n)),i);return r._c=!1,r},$1=(t,e,i)=>{const r=t._ctx;for(const n in t){if(hg(n))continue;const s=t[n];if(Qe(s))e[n]=zR(n,s,r);else if(s!=null){const a=fg(s);e[n]=()=>a}}},j1=(t,e)=>{const i=fg(e);t.slots.default=()=>i},B1=(t,e,i)=>{for(const r in e)(i||!hg(r))&&(t[r]=e[r])},GR=(t,e,i)=>{const r=t.slots=L1();if(t.vnode.shapeFlag&32){const n=e._;n?(B1(r,e,i),i&&GT(r,"_",n,!0)):$1(e,r)}else e&&j1(t,e)},KR=(t,e,i)=>{const{vnode:r,slots:n}=t;let s=!0,a=gt;if(r.shapeFlag&32){const o=e._;o?i&&o===1?s=!1:B1(n,e,i):(s=!e.$stable,$1(e,n)),a=e}else e&&(j1(t,e),a={default:1});if(s)for(const o in n)!hg(o)&&a[o]==null&&delete n[o]},$i=uD;function QR(t){return XR(t)}function XR(t,e){const i=Ld();i.__VUE__=!0;const{insert:r,remove:n,patchProp:s,createElement:a,createText:o,createComment:u,setText:l,setElementText:c,parentNode:f,nextSibling:m,setScopeId:h=Kr,insertStaticContent:g}=t,p=(B,z,te,pe=null,he=null,be=null,Ae=void 0,xe=null,ye=!!z.dynamicChildren)=>{if(B===z)return;B&&!ko(B,z)&&(pe=re(B),me(B,he,be,!0),B=null),z.patchFlag===-2&&(ye=!1,z.dynamicChildren=null);const{type:fe,ref:ke,shapeFlag:Pe}=z;switch(fe){case Bd:_(B,z,te,pe);break;case wn:y(B,z,te,pe);break;case Ic:B==null&&T(z,te,pe,Ae);break;case We:M(B,z,te,pe,he,be,Ae,xe,ye);break;default:Pe&1?R(B,z,te,pe,he,be,Ae,xe,ye):Pe&6?j(B,z,te,pe,he,be,Ae,xe,ye):(Pe&64||Pe&128)&&fe.process(B,z,te,pe,he,be,Ae,xe,ye,Ee)}ke!=null&&he&&Yc(ke,B&&B.ref,be,z||B,!z)},_=(B,z,te,pe)=>{if(B==null)r(z.el=o(z.children),te,pe);else{const he=z.el=B.el;z.children!==B.children&&l(he,z.children)}},y=(B,z,te,pe)=>{B==null?r(z.el=u(z.children||""),te,pe):z.el=B.el},T=(B,z,te,pe)=>{[B.el,B.anchor]=g(B.children,z,te,pe,B.el,B.anchor)},E=({el:B,anchor:z},te,pe)=>{let he;for(;B&&B!==z;)he=m(B),r(B,te,pe),B=he;r(z,te,pe)},C=({el:B,anchor:z})=>{let te;for(;B&&B!==z;)te=m(B),n(B),B=te;n(z)},R=(B,z,te,pe,he,be,Ae,xe,ye)=>{z.type==="svg"?Ae="svg":z.type==="math"&&(Ae="mathml"),B==null?I(z,te,pe,he,be,Ae,xe,ye):w(B,z,he,be,Ae,xe,ye)},I=(B,z,te,pe,he,be,Ae,xe)=>{let ye,fe;const{props:ke,shapeFlag:Pe,transition:Me,dirs:$e}=B;if(ye=B.el=a(B.type,be,ke&&ke.is,ke),Pe&8?c(ye,B.children):Pe&16&&O(B.children,ye,null,pe,he,Wh(B,be),Ae,xe),$e&&gs(B,null,pe,"created"),D(ye,B,B.scopeId,Ae,pe),ke){for(const Je in ke)Je!=="value"&&!iu(Je)&&s(ye,Je,null,ke[Je],be,pe);"value"in ke&&s(ye,"value",null,ke.value,be),(fe=ke.onVnodeBeforeMount)&&Ir(fe,pe,B)}$e&&gs(B,null,pe,"beforeMount");const Ge=YR(he,Me);Ge&&Me.beforeEnter(ye),r(ye,z,te),((fe=ke&&ke.onVnodeMounted)||Ge||$e)&&$i(()=>{fe&&Ir(fe,pe,B),Ge&&Me.enter(ye),$e&&gs(B,null,pe,"mounted")},he)},D=(B,z,te,pe,he)=>{if(te&&h(B,te),pe)for(let be=0;be<pe.length;be++)h(B,pe[be]);if(he){let be=he.subTree;if(z===be||z1(be.type)&&(be.ssContent===z||be.ssFallback===z)){const Ae=he.vnode;D(B,Ae,Ae.scopeId,Ae.slotScopeIds,he.parent)}}},O=(B,z,te,pe,he,be,Ae,xe,ye=0)=>{for(let fe=ye;fe<B.length;fe++){const ke=B[fe]=xe?zn(B[fe]):$r(B[fe]);p(null,ke,z,te,pe,he,be,Ae,xe)}},w=(B,z,te,pe,he,be,Ae)=>{const xe=z.el=B.el;let{patchFlag:ye,dynamicChildren:fe,dirs:ke}=z;ye|=B.patchFlag&16;const Pe=B.props||gt,Me=z.props||gt;let $e;if(te&&ys(te,!1),($e=Me.onVnodeBeforeUpdate)&&Ir($e,te,z,B),ke&&gs(z,B,te,"beforeUpdate"),te&&ys(te,!0),(Pe.innerHTML&&Me.innerHTML==null||Pe.textContent&&Me.textContent==null)&&c(xe,""),fe?P(B.dynamicChildren,fe,xe,te,pe,Wh(z,he),be):Ae||W(B,z,xe,null,te,pe,Wh(z,he),be,!1),ye>0){if(ye&16)L(xe,Pe,Me,te,he);else if(ye&2&&Pe.class!==Me.class&&s(xe,"class",null,Me.class,he),ye&4&&s(xe,"style",Pe.style,Me.style,he),ye&8){const Ge=z.dynamicProps;for(let Je=0;Je<Ge.length;Je++){const Ze=Ge[Je],Bt=Pe[Ze],Nt=Me[Ze];(Nt!==Bt||Ze==="value")&&s(xe,Ze,Bt,Nt,he,te)}}ye&1&&B.children!==z.children&&c(xe,z.children)}else!Ae&&fe==null&&L(xe,Pe,Me,te,he);(($e=Me.onVnodeUpdated)||ke)&&$i(()=>{$e&&Ir($e,te,z,B),ke&&gs(z,B,te,"updated")},pe)},P=(B,z,te,pe,he,be,Ae)=>{for(let xe=0;xe<z.length;xe++){const ye=B[xe],fe=z[xe],ke=ye.el&&(ye.type===We||!ko(ye,fe)||ye.shapeFlag&70)?f(ye.el):te;p(ye,fe,ke,null,pe,he,be,Ae,!0)}},L=(B,z,te,pe,he)=>{if(z!==te){if(z!==gt)for(const be in z)!iu(be)&&!(be in te)&&s(B,be,z[be],null,he,pe);for(const be in te){if(iu(be))continue;const Ae=te[be],xe=z[be];Ae!==xe&&be!=="value"&&s(B,be,xe,Ae,he,pe)}"value"in te&&s(B,"value",z.value,te.value,he)}},M=(B,z,te,pe,he,be,Ae,xe,ye)=>{const fe=z.el=B?B.el:o(""),ke=z.anchor=B?B.anchor:o("");let{patchFlag:Pe,dynamicChildren:Me,slotScopeIds:$e}=z;$e&&(xe=xe?xe.concat($e):$e),B==null?(r(fe,te,pe),r(ke,te,pe),O(z.children||[],te,ke,he,be,Ae,xe,ye)):Pe>0&&Pe&64&&Me&&B.dynamicChildren?(P(B.dynamicChildren,Me,te,he,be,Ae,xe),(z.key!=null||he&&z===he.subTree)&&U1(B,z,!0)):W(B,z,te,ke,he,be,Ae,xe,ye)},j=(B,z,te,pe,he,be,Ae,xe,ye)=>{z.slotScopeIds=xe,B==null?z.shapeFlag&512?he.ctx.activate(z,te,pe,Ae,ye):Q(z,te,pe,he,be,Ae,ye):Z(B,z,ye)},Q=(B,z,te,pe,he,be,Ae)=>{const xe=B.component=fD(B,pe,he);if(E1(B)&&(xe.ctx.renderer=Ee),pD(xe,!1,Ae),xe.asyncDep){if(he&&he.registerDep(xe,J,Ae),!B.el){const ye=xe.subTree=rt(wn);y(null,ye,z,te)}}else J(xe,B,z,te,he,be,Ae)},Z=(B,z,te)=>{const pe=z.component=B.component;if(aD(B,z,te))if(pe.asyncDep&&!pe.asyncResolved){H(pe,z,te);return}else pe.next=z,pe.update();else z.el=B.el,pe.vnode=z},J=(B,z,te,pe,he,be,Ae)=>{const xe=()=>{if(B.isMounted){let{next:Pe,bu:Me,u:$e,parent:Ge,vnode:Je}=B;{const Ye=H1(B);if(Ye){Pe&&(Pe.el=Je.el,H(B,Pe,Ae)),Ye.asyncDep.then(()=>{B.isUnmounted||xe()});return}}let Ze=Pe,Bt;ys(B,!1),Pe?(Pe.el=Je.el,H(B,Pe,Ae)):Pe=Je,Me&&jh(Me),(Bt=Pe.props&&Pe.props.onVnodeBeforeUpdate)&&Ir(Bt,Ge,Pe,Je),ys(B,!0);const Nt=Nv(B),Ht=B.subTree;B.subTree=Nt,p(Ht,Nt,f(Ht.el),re(Ht),B,he,be),Pe.el=Nt.el,Ze===null&&oD(B,Nt.el),$e&&$i($e,he),(Bt=Pe.props&&Pe.props.onVnodeUpdated)&&$i(()=>Ir(Bt,Ge,Pe,Je),he)}else{let Pe;const{el:Me,props:$e}=z,{bm:Ge,m:Je,parent:Ze,root:Bt,type:Nt}=B,Ht=ya(z);ys(B,!1),Ge&&jh(Ge),!Ht&&(Pe=$e&&$e.onVnodeBeforeMount)&&Ir(Pe,Ze,z),ys(B,!0);{Bt.ce&&Bt.ce._injectChildStyle(Nt);const Ye=B.subTree=Nv(B);p(null,Ye,te,pe,B,he,be),z.el=Ye.el}if(Je&&$i(Je,he),!Ht&&(Pe=$e&&$e.onVnodeMounted)){const Ye=z;$i(()=>Ir(Pe,Ze,Ye),he)}(z.shapeFlag&256||Ze&&ya(Ze.vnode)&&Ze.vnode.shapeFlag&256)&&B.a&&$i(B.a,he),B.isMounted=!0,z=te=pe=null}};B.scope.on();const ye=B.effect=new YT(xe);B.scope.off();const fe=B.update=ye.run.bind(ye),ke=B.job=ye.runIfDirty.bind(ye);ke.i=B,ke.id=B.uid,ye.scheduler=()=>cg(ke),ys(B,!0),fe()},H=(B,z,te)=>{z.component=B;const pe=B.vnode.props;B.vnode=z,B.next=null,VR(B,z.props,pe,te),KR(B,z.children,te),En(),Av(B),xn()},W=(B,z,te,pe,he,be,Ae,xe,ye=!1)=>{const fe=B&&B.children,ke=B?B.shapeFlag:0,Pe=z.children,{patchFlag:Me,shapeFlag:$e}=z;if(Me>0){if(Me&128){Y(fe,Pe,te,pe,he,be,Ae,xe,ye);return}else if(Me&256){G(fe,Pe,te,pe,he,be,Ae,xe,ye);return}}$e&8?(ke&16&&Oe(fe,he,be),Pe!==fe&&c(te,Pe)):ke&16?$e&16?Y(fe,Pe,te,pe,he,be,Ae,xe,ye):Oe(fe,he,be,!0):(ke&8&&c(te,""),$e&16&&O(Pe,te,pe,he,be,Ae,xe,ye))},G=(B,z,te,pe,he,be,Ae,xe,ye)=>{B=B||fa,z=z||fa;const fe=B.length,ke=z.length,Pe=Math.min(fe,ke);let Me;for(Me=0;Me<Pe;Me++){const $e=z[Me]=ye?zn(z[Me]):$r(z[Me]);p(B[Me],$e,te,null,he,be,Ae,xe,ye)}fe>ke?Oe(B,he,be,!0,!1,Pe):O(z,te,pe,he,be,Ae,xe,ye,Pe)},Y=(B,z,te,pe,he,be,Ae,xe,ye)=>{let fe=0;const ke=z.length;let Pe=B.length-1,Me=ke-1;for(;fe<=Pe&&fe<=Me;){const $e=B[fe],Ge=z[fe]=ye?zn(z[fe]):$r(z[fe]);if(ko($e,Ge))p($e,Ge,te,null,he,be,Ae,xe,ye);else break;fe++}for(;fe<=Pe&&fe<=Me;){const $e=B[Pe],Ge=z[Me]=ye?zn(z[Me]):$r(z[Me]);if(ko($e,Ge))p($e,Ge,te,null,he,be,Ae,xe,ye);else break;Pe--,Me--}if(fe>Pe){if(fe<=Me){const $e=Me+1,Ge=$e<ke?z[$e].el:pe;for(;fe<=Me;)p(null,z[fe]=ye?zn(z[fe]):$r(z[fe]),te,Ge,he,be,Ae,xe,ye),fe++}}else if(fe>Me)for(;fe<=Pe;)me(B[fe],he,be,!0),fe++;else{const $e=fe,Ge=fe,Je=new Map;for(fe=Ge;fe<=Me;fe++){const qt=z[fe]=ye?zn(z[fe]):$r(z[fe]);qt.key!=null&&Je.set(qt.key,fe)}let Ze,Bt=0;const Nt=Me-Ge+1;let Ht=!1,Ye=0;const Ar=new Array(Nt);for(fe=0;fe<Nt;fe++)Ar[fe]=0;for(fe=$e;fe<=Pe;fe++){const qt=B[fe];if(Bt>=Nt){me(qt,he,be,!0);continue}let ti;if(qt.key!=null)ti=Je.get(qt.key);else for(Ze=Ge;Ze<=Me;Ze++)if(Ar[Ze-Ge]===0&&ko(qt,z[Ze])){ti=Ze;break}ti===void 0?me(qt,he,be,!0):(Ar[ti-Ge]=fe+1,ti>=Ye?Ye=ti:Ht=!0,p(qt,z[ti],te,null,he,be,Ae,xe,ye),Bt++)}const Pr=Ht?JR(Ar):fa;for(Ze=Pr.length-1,fe=Nt-1;fe>=0;fe--){const qt=Ge+fe,ti=z[qt],dr=qt+1<ke?z[qt+1].el:pe;Ar[fe]===0?p(null,ti,te,dr,he,be,Ae,xe,ye):Ht&&(Ze<0||fe!==Pr[Ze]?ie(ti,te,dr,2):Ze--)}}},ie=(B,z,te,pe,he=null)=>{const{el:be,type:Ae,transition:xe,children:ye,shapeFlag:fe}=B;if(fe&6){ie(B.component.subTree,z,te,pe);return}if(fe&128){B.suspense.move(z,te,pe);return}if(fe&64){Ae.move(B,z,te,Ee);return}if(Ae===We){r(be,z,te);for(let Pe=0;Pe<ye.length;Pe++)ie(ye[Pe],z,te,pe);r(B.anchor,z,te);return}if(Ae===Ic){E(B,z,te);return}if(pe!==2&&fe&1&&xe)if(pe===0)xe.beforeEnter(be),r(be,z,te),$i(()=>xe.enter(be),he);else{const{leave:Pe,delayLeave:Me,afterLeave:$e}=xe,Ge=()=>{B.ctx.isUnmounted?n(be):r(be,z,te)},Je=()=>{Pe(be,()=>{Ge(),$e&&$e()})};Me?Me(be,Ge,Je):Je()}else r(be,z,te)},me=(B,z,te,pe=!1,he=!1)=>{const{type:be,props:Ae,ref:xe,children:ye,dynamicChildren:fe,shapeFlag:ke,patchFlag:Pe,dirs:Me,cacheIndex:$e}=B;if(Pe===-2&&(he=!1),xe!=null&&(En(),Yc(xe,null,te,B,!0),xn()),$e!=null&&(z.renderCache[$e]=void 0),ke&256){z.ctx.deactivate(B);return}const Ge=ke&1&&Me,Je=!ya(B);let Ze;if(Je&&(Ze=Ae&&Ae.onVnodeBeforeUnmount)&&Ir(Ze,z,B),ke&6)ge(B.component,te,pe);else{if(ke&128){B.suspense.unmount(te,pe);return}Ge&&gs(B,null,z,"beforeUnmount"),ke&64?B.type.remove(B,z,te,Ee,pe):fe&&!fe.hasOnce&&(be!==We||Pe>0&&Pe&64)?Oe(fe,z,te,!1,!0):(be===We&&Pe&384||!he&&ke&16)&&Oe(ye,z,te),pe&&Te(B)}(Je&&(Ze=Ae&&Ae.onVnodeUnmounted)||Ge)&&$i(()=>{Ze&&Ir(Ze,z,B),Ge&&gs(B,null,z,"unmounted")},te)},Te=B=>{const{type:z,el:te,anchor:pe,transition:he}=B;if(z===We){Ce(te,pe);return}if(z===Ic){C(B);return}const be=()=>{n(te),he&&!he.persisted&&he.afterLeave&&he.afterLeave()};if(B.shapeFlag&1&&he&&!he.persisted){const{leave:Ae,delayLeave:xe}=he,ye=()=>Ae(te,be);xe?xe(B.el,be,ye):ye()}else be()},Ce=(B,z)=>{let te;for(;B!==z;)te=m(B),n(B),B=te;n(z)},ge=(B,z,te)=>{const{bum:pe,scope:he,job:be,subTree:Ae,um:xe,m:ye,a:fe,parent:ke,slots:{__:Pe}}=B;Lv(ye),Lv(fe),pe&&jh(pe),ke&&ze(Pe)&&Pe.forEach(Me=>{ke.renderCache[Me]=void 0}),he.stop(),be&&(be.flags|=8,me(Ae,B,z,te)),xe&&$i(xe,z),$i(()=>{B.isUnmounted=!0},z),z&&z.pendingBranch&&!z.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===z.pendingId&&(z.deps--,z.deps===0&&z.resolve())},Oe=(B,z,te,pe=!1,he=!1,be=0)=>{for(let Ae=be;Ae<B.length;Ae++)me(B[Ae],z,te,pe,he)},re=B=>{if(B.shapeFlag&6)return re(B.component.subTree);if(B.shapeFlag&128)return B.suspense.next();const z=m(B.anchor||B.el),te=z&&z[bR];return te?m(te):z};let ce=!1;const _e=(B,z,te)=>{B==null?z._vnode&&me(z._vnode,null,null,!0):p(z._vnode||null,B,z,null,null,null,te),z._vnode=B,ce||(ce=!0,Av(),v1(),ce=!1)},Ee={p,um:me,m:ie,r:Te,mt:Q,mc:O,pc:W,pbc:P,n:re,o:t};return{render:_e,hydrate:void 0,createApp:HR(_e)}}function Wh({type:t,props:e},i){return i==="svg"&&t==="foreignObject"||i==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:i}function ys({effect:t,job:e},i){i?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function YR(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function U1(t,e,i=!1){const r=t.children,n=e.children;if(ze(r)&&ze(n))for(let s=0;s<r.length;s++){const a=r[s];let o=n[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=n[s]=zn(n[s]),o.el=a.el),!i&&o.patchFlag!==-2&&U1(a,o)),o.type===Bd&&(o.el=a.el),o.type===wn&&!o.el&&(o.el=a.el)}}function JR(t){const e=t.slice(),i=[0];let r,n,s,a,o;const u=t.length;for(r=0;r<u;r++){const l=t[r];if(l!==0){if(n=i[i.length-1],t[n]<l){e[r]=n,i.push(r);continue}for(s=0,a=i.length-1;s<a;)o=s+a>>1,t[i[o]]<l?s=o+1:a=o;l<t[i[s]]&&(s>0&&(e[r]=i[s-1]),i[s]=r)}}for(s=i.length,a=i[s-1];s-- >0;)i[s]=a,a=e[a];return i}function H1(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:H1(e)}function Lv(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const ZR=Symbol.for("v-scx"),eD=()=>_n(ZR);function Zn(t,e,i){return q1(t,e,i)}function q1(t,e,i=gt){const{immediate:r,deep:n,flush:s,once:a}=i,o=fi({},i),u=e&&r||!e&&s!=="post";let l;if(xu){if(s==="sync"){const h=eD();l=h.__watcherHandles||(h.__watcherHandles=[])}else if(!u){const h=()=>{};return h.stop=Kr,h.resume=Kr,h.pause=Kr,h}}const c=ui;o.call=(h,g,p)=>Yr(h,c,g,p);let f=!1;s==="post"?o.scheduler=h=>{$i(h,c&&c.suspense)}:s!=="sync"&&(f=!0,o.scheduler=(h,g)=>{g?h():cg(h)}),o.augmentJob=h=>{e&&(h.flags|=4),f&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const m=gR(t,e,o);return xu&&(l?l.push(m):u&&m()),m}function tD(t,e,i){const r=this.proxy,n=Lt(t)?t.includes(".")?V1(r,t):()=>r[t]:t.bind(r,r);let s;Qe(e)?s=e:(s=e.handler,i=e);const a=bl(this),o=q1(n,s.bind(r),i);return a(),o}function V1(t,e){const i=e.split(".");return()=>{let r=t;for(let n=0;n<i.length&&r;n++)r=r[i[n]];return r}}const iD=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${rr(e)}Modifiers`]||t[`${as(e)}Modifiers`];function rD(t,e,...i){if(t.isUnmounted)return;const r=t.vnode.props||gt;let n=i;const s=e.startsWith("update:"),a=s&&iD(r,e.slice(7));a&&(a.trim&&(n=i.map(c=>Lt(c)?c.trim():c)),a.number&&(n=i.map(NO)));let o,u=r[o=$h(e)]||r[o=$h(rr(e))];!u&&s&&(u=r[o=$h(as(e))]),u&&Yr(u,t,6,n);const l=r[o+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,Yr(l,t,6,n)}}function W1(t,e,i=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const s=t.emits;let a={},o=!1;if(!Qe(t)){const u=l=>{const c=W1(l,e,!0);c&&(o=!0,fi(a,c))};!i&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!s&&!o?(At(t)&&r.set(t,null),null):(ze(s)?s.forEach(u=>a[u]=null):fi(a,s),At(t)&&r.set(t,a),a)}function jd(t,e){return!t||!Rd(e)?!1:(e=e.slice(2).replace(/Once$/,""),lt(t,e[0].toLowerCase()+e.slice(1))||lt(t,as(e))||lt(t,e))}function Nv(t){const{type:e,vnode:i,proxy:r,withProxy:n,propsOptions:[s],slots:a,attrs:o,emit:u,render:l,renderCache:c,props:f,data:m,setupState:h,ctx:g,inheritAttrs:p}=t,_=Xc(t);let y,T;try{if(i.shapeFlag&4){const C=n||r,R=C;y=$r(l.call(R,C,c,f,h,m,g)),T=o}else{const C=e;y=$r(C.length>1?C(f,{attrs:o,slots:a,emit:u}):C(f,null)),T=e.props?o:nD(o)}}catch(C){au.length=0,Md(C,t,1),y=rt(wn)}let E=y;if(T&&p!==!1){const C=Object.keys(T),{shapeFlag:R}=E;C.length&&R&7&&(s&&C.some(eg)&&(T=sD(T,s)),E=Oa(E,T,!1,!0))}return i.dirs&&(E=Oa(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(i.dirs):i.dirs),i.transition&&dg(E,i.transition),y=E,Xc(_),y}const nD=t=>{let e;for(const i in t)(i==="class"||i==="style"||Rd(i))&&((e||(e={}))[i]=t[i]);return e},sD=(t,e)=>{const i={};for(const r in t)(!eg(r)||!(r.slice(9)in e))&&(i[r]=t[r]);return i};function aD(t,e,i){const{props:r,children:n,component:s}=t,{props:a,children:o,patchFlag:u}=e,l=s.emitsOptions;if(e.dirs||e.transition)return!0;if(i&&u>=0){if(u&1024)return!0;if(u&16)return r?Fv(r,a,l):!!a;if(u&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const m=c[f];if(a[m]!==r[m]&&!jd(l,m))return!0}}}else return(n||o)&&(!o||!o.$stable)?!0:r===a?!1:r?a?Fv(r,a,l):!0:!!a;return!1}function Fv(t,e,i){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const s=r[n];if(e[s]!==t[s]&&!jd(i,s))return!0}return!1}function oD({vnode:t,parent:e},i){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=i,e=e.parent;else break}}const z1=t=>t.__isSuspense;function uD(t,e){e&&e.pendingBranch?ze(t)?e.effects.push(...t):e.effects.push(t):_R(t)}const We=Symbol.for("v-fgt"),Bd=Symbol.for("v-txt"),wn=Symbol.for("v-cmt"),Ic=Symbol.for("v-stc"),au=[];let Ui=null;function ne(t=!1){au.push(Ui=t?null:[])}function lD(){au.pop(),Ui=au[au.length-1]||null}let Tu=1;function Mv(t,e=!1){Tu+=t,t<0&&Ui&&e&&(Ui.hasOnce=!0)}function G1(t){return t.dynamicChildren=Tu>0?Ui||fa:null,lD(),Tu>0&&Ui&&Ui.push(t),t}function ae(t,e,i,r,n,s){return G1(X(t,e,i,r,n,s,!0))}function Xt(t,e,i,r,n){return G1(rt(t,e,i,r,n,!0))}function Eu(t){return t?t.__v_isVNode===!0:!1}function ko(t,e){return t.type===e.type&&t.key===e.key}const K1=({key:t})=>t??null,kc=({ref:t,ref_key:e,ref_for:i})=>(typeof t=="number"&&(t=""+t),t!=null?Lt(t)||li(t)||Qe(t)?{i:ei,r:t,k:e,f:!!i}:t:null);function X(t,e=null,i=null,r=0,n=null,s=t===We?0:1,a=!1,o=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&K1(e),ref:e&&kc(e),scopeId:b1,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:ei};return o?(pg(u,i),s&128&&t.normalize(u)):i&&(u.shapeFlag|=Lt(i)?8:16),Tu>0&&!a&&Ui&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&Ui.push(u),u}const rt=cD;function cD(t,e=null,i=null,r=0,n=null,s=!1){if((!t||t===A1)&&(t=wn),Eu(t)){const o=Oa(t,e,!0);return i&&pg(o,i),Tu>0&&!s&&Ui&&(o.shapeFlag&6?Ui[Ui.indexOf(t)]=o:Ui.push(o)),o.patchFlag=-2,o}if(_D(t)&&(t=t.__vccOpts),e){e=ou(e);let{class:o,style:u}=e;o&&!Lt(o)&&(e.class=ue(o)),At(u)&&(lg(u)&&!ze(u)&&(u=fi({},u)),e.style=ji(u))}const a=Lt(t)?1:z1(t)?128:SR(t)?64:At(t)?4:Qe(t)?2:0;return X(t,e,i,r,n,a,s,!0)}function ou(t){return t?lg(t)||N1(t)?fi({},t):t:null}function Oa(t,e,i=!1,r=!1){const{props:n,ref:s,patchFlag:a,children:o,transition:u}=t,l=e?Ra(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&K1(l),ref:e&&e.ref?i&&s?ze(s)?s.concat(kc(e)):[s,kc(e)]:kc(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==We?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Oa(t.ssContent),ssFallback:t.ssFallback&&Oa(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&r&&dg(c,u.clone(c)),c}function Rt(t=" ",e=0){return rt(Bd,null,t,e)}function Q1(t,e){const i=rt(Ic,null,t);return i.staticCount=e,i}function Le(t="",e=!1){return e?(ne(),Xt(wn,null,t)):rt(wn,null,t)}function $r(t){return t==null||typeof t=="boolean"?rt(wn):ze(t)?rt(We,null,t.slice()):Eu(t)?zn(t):rt(Bd,null,String(t))}function zn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Oa(t)}function pg(t,e){let i=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ze(e))i=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),pg(t,n()),n._c&&(n._d=!0));return}else{i=32;const n=e._;!n&&!N1(e)?e._ctx=ei:n===3&&ei&&(ei.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Qe(e)?(e={default:e,_ctx:ei},i=32):(e=String(e),r&64?(i=16,e=[Rt(e)]):i=8);t.children=e,t.shapeFlag|=i}function Ra(...t){const e={};for(let i=0;i<t.length;i++){const r=t[i];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=ue([e.class,r.class]));else if(n==="style")e.style=ji([e.style,r.style]);else if(Rd(n)){const s=e[n],a=r[n];a&&s!==a&&!(ze(s)&&s.includes(a))&&(e[n]=s?[].concat(s,a):a)}else n!==""&&(e[n]=r[n])}return e}function Ir(t,e,i,r=null){Yr(t,e,7,[i,r])}const dD=I1();let hD=0;function fD(t,e,i){const r=t.type,n=(e?e.appContext:t.appContext)||dD,s={uid:hD++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new HO(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:M1(r,n),emitsOptions:W1(r,n),emit:null,emitted:null,propsDefaults:gt,inheritAttrs:r.inheritAttrs,ctx:gt,data:gt,props:gt,attrs:gt,slots:gt,refs:gt,setupState:gt,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=rD.bind(null,s),t.ce&&t.ce(s),s}let ui=null,Zc,Yp;{const t=Ld(),e=(i,r)=>{let n;return(n=t[i])||(n=t[i]=[]),n.push(r),s=>{n.length>1?n.forEach(a=>a(s)):n[0](s)}};Zc=e("__VUE_INSTANCE_SETTERS__",i=>ui=i),Yp=e("__VUE_SSR_SETTERS__",i=>xu=i)}const bl=t=>{const e=ui;return Zc(t),t.scope.on(),()=>{t.scope.off(),Zc(e)}},$v=()=>{ui&&ui.scope.off(),Zc(null)};function X1(t){return t.vnode.shapeFlag&4}let xu=!1;function pD(t,e=!1,i=!1){e&&Yp(e);const{props:r,children:n}=t.vnode,s=X1(t);qR(t,r,s,e),GR(t,n,i||e);const a=s?mD(t,e):void 0;return e&&Yp(!1),a}function mD(t,e){const i=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,NR);const{setup:r}=i;if(r){En();const n=t.setupContext=r.length>1?yD(t):null,s=bl(t),a=_l(r,t,0,[t.props,n]),o=VT(a);if(xn(),s(),(o||t.sp)&&!ya(t)&&T1(t),o){if(a.then($v,$v),e)return a.then(u=>{jv(t,u)}).catch(u=>{Md(u,t,0)});t.asyncDep=a}else jv(t,a)}else Y1(t)}function jv(t,e,i){Qe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:At(e)&&(t.setupState=p1(e)),Y1(t)}function Y1(t,e,i){const r=t.type;t.render||(t.render=r.render||Kr);{const n=bl(t);En();try{FR(t)}finally{xn(),n()}}}const gD={get(t,e){return oi(t,"get",""),t[e]}};function yD(t){const e=i=>{t.exposed=i||{}};return{attrs:new Proxy(t.attrs,gD),slots:t.slots,emit:t.emit,expose:e}}function Ud(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(p1(uR(t.exposed)),{get(e,i){if(i in e)return e[i];if(i in su)return su[i](t)},has(e,i){return i in e||i in su}})):t.proxy}function vD(t,e=!0){return Qe(t)?t.displayName||t.name:t.name||e&&t.__name}function _D(t){return Qe(t)&&"__vccOpts"in t}const br=(t,e)=>pR(t,e,xu);function Os(t,e,i){const r=arguments.length;return r===2?At(e)&&!ze(e)?Eu(e)?rt(t,null,[e]):rt(t,e):rt(t,null,e):(r>3?i=Array.prototype.slice.call(arguments,2):r===3&&Eu(i)&&(i=[i]),rt(t,e,i))}const J1="3.5.14";/**
* @vue/runtime-dom v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Jp;const Bv=typeof window<"u"&&window.trustedTypes;if(Bv)try{Jp=Bv.createPolicy("vue",{createHTML:t=>t})}catch{}const Z1=Jp?t=>Jp.createHTML(t):t=>t,bD="http://www.w3.org/2000/svg",SD="http://www.w3.org/1998/Math/MathML",pn=typeof document<"u"?document:null,Uv=pn&&pn.createElement("template"),TD={insert:(t,e,i)=>{e.insertBefore(t,i||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,i,r)=>{const n=e==="svg"?pn.createElementNS(bD,t):e==="mathml"?pn.createElementNS(SD,t):i?pn.createElement(t,{is:i}):pn.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>pn.createTextNode(t),createComment:t=>pn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>pn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,i,r,n,s){const a=i?i.previousSibling:e.lastChild;if(n&&(n===s||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),i),!(n===s||!(n=n.nextSibling)););else{Uv.innerHTML=Z1(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const o=Uv.content;if(r==="svg"||r==="mathml"){const u=o.firstChild;for(;u.firstChild;)o.appendChild(u.firstChild);o.removeChild(u)}e.insertBefore(o,i)}return[a?a.nextSibling:e.firstChild,i?i.previousSibling:e.lastChild]}},ED=Symbol("_vtc");function xD(t,e,i){const r=t[ED];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):i?t.setAttribute("class",e):t.className=e}const ed=Symbol("_vod"),eE=Symbol("_vsh"),Zp={beforeMount(t,{value:e},{transition:i}){t[ed]=t.style.display==="none"?"":t.style.display,i&&e?i.beforeEnter(t):Lo(t,e)},mounted(t,{value:e},{transition:i}){i&&e&&i.enter(t)},updated(t,{value:e,oldValue:i},{transition:r}){!e!=!i&&(r?e?(r.beforeEnter(t),Lo(t,!0),r.enter(t)):r.leave(t,()=>{Lo(t,!1)}):Lo(t,e))},beforeUnmount(t,{value:e}){Lo(t,e)}};function Lo(t,e){t.style.display=e?t[ed]:"none",t[eE]=!e}const wD=Symbol(""),CD=/(^|;)\s*display\s*:/;function AD(t,e,i){const r=t.style,n=Lt(i);let s=!1;if(i&&!n){if(e)if(Lt(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();i[o]==null&&Lc(r,o,"")}else for(const a in e)i[a]==null&&Lc(r,a,"");for(const a in i)a==="display"&&(s=!0),Lc(r,a,i[a])}else if(n){if(e!==i){const a=r[wD];a&&(i+=";"+a),r.cssText=i,s=CD.test(i)}}else e&&t.removeAttribute("style");ed in t&&(t[ed]=s?r.display:"",t[eE]&&(r.display="none"))}const Hv=/\s*!important$/;function Lc(t,e,i){if(ze(i))i.forEach(r=>Lc(t,e,r));else if(i==null&&(i=""),e.startsWith("--"))t.setProperty(e,i);else{const r=PD(t,e);Hv.test(i)?t.setProperty(as(r),i.replace(Hv,""),"important"):t[r]=i}}const qv=["Webkit","Moz","ms"],zh={};function PD(t,e){const i=zh[e];if(i)return i;let r=rr(e);if(r!=="filter"&&r in t)return zh[e]=r;r=kd(r);for(let n=0;n<qv.length;n++){const s=qv[n]+r;if(s in t)return zh[e]=s}return e}const Vv="http://www.w3.org/1999/xlink";function Wv(t,e,i,r,n,s=UO(e)){r&&e.startsWith("xlink:")?i==null?t.removeAttributeNS(Vv,e.slice(6,e.length)):t.setAttributeNS(Vv,e,i):i==null||s&&!KT(i)?t.removeAttribute(e):t.setAttribute(e,s?"":On(i)?String(i):i)}function zv(t,e,i,r,n){if(e==="innerHTML"||e==="textContent"){i!=null&&(t[e]=e==="innerHTML"?Z1(i):i);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const o=s==="OPTION"?t.getAttribute("value")||"":t.value,u=i==null?t.type==="checkbox"?"on":"":String(i);(o!==u||!("_value"in t))&&(t.value=u),i==null&&t.removeAttribute(e),t._value=i;return}let a=!1;if(i===""||i==null){const o=typeof t[e];o==="boolean"?i=KT(i):i==null&&o==="string"?(i="",a=!0):o==="number"&&(i=0,a=!0)}try{t[e]=i}catch{}a&&t.removeAttribute(n||e)}function OD(t,e,i,r){t.addEventListener(e,i,r)}function RD(t,e,i,r){t.removeEventListener(e,i,r)}const Gv=Symbol("_vei");function DD(t,e,i,r,n=null){const s=t[Gv]||(t[Gv]={}),a=s[e];if(r&&a)a.value=r;else{const[o,u]=ID(e);if(r){const l=s[e]=ND(r,n);OD(t,o,l,u)}else a&&(RD(t,o,a,u),s[e]=void 0)}}const Kv=/(?:Once|Passive|Capture)$/;function ID(t){let e;if(Kv.test(t)){e={};let r;for(;r=t.match(Kv);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):as(t.slice(2)),e]}let Gh=0;const kD=Promise.resolve(),LD=()=>Gh||(kD.then(()=>Gh=0),Gh=Date.now());function ND(t,e){const i=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=i.attached)return;Yr(FD(r,i.value),e,5,[r])};return i.value=t,i.attached=LD(),i}function FD(t,e){if(ze(e)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const Qv=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,MD=(t,e,i,r,n,s)=>{const a=n==="svg";e==="class"?xD(t,r,a):e==="style"?AD(t,i,r):Rd(e)?eg(e)||DD(t,e,i,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):$D(t,e,r,a))?(zv(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Wv(t,e,r,a,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Lt(r))?zv(t,rr(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Wv(t,e,r,a))};function $D(t,e,i,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Qv(e)&&Qe(i));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Qv(e)&&Lt(i)?!1:e in t}const jD=["ctrl","shift","alt","meta"],BD={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>jD.some(i=>t[`${i}Key`]&&!e.includes(i))},Kt=(t,e)=>{const i=t._withMods||(t._withMods={}),r=e.join(".");return i[r]||(i[r]=(n,...s)=>{for(let a=0;a<e.length;a++){const o=BD[e[a]];if(o&&o(n,e))return}return t(n,...s)})},UD={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},hn=(t,e)=>{const i=t._withKeys||(t._withKeys={}),r=e.join(".");return i[r]||(i[r]=n=>{if(!("key"in n))return;const s=as(n.key);if(e.some(a=>a===s||UD[a]===s))return t(n)})},HD=fi({patchProp:MD},TD);let Xv;function qD(){return Xv||(Xv=QR(HD))}const VD=(...t)=>{const e=qD().createApp(...t),{mount:i}=e;return e.mount=r=>{const n=zD(r);if(!n)return;const s=e._component;!Qe(s)&&!s.render&&!s.template&&(s.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const a=i(n,!1,WD(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),a},e};function WD(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function zD(t){return Lt(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const ra=typeof document<"u";function tE(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function GD(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&tE(t.default)}const ot=Object.assign;function Kh(t,e){const i={};for(const r in e){const n=e[r];i[r]=Er(n)?n.map(t):t(n)}return i}const uu=()=>{},Er=Array.isArray,iE=/#/g,KD=/&/g,QD=/\//g,XD=/=/g,YD=/\?/g,rE=/\+/g,JD=/%5B/g,ZD=/%5D/g,nE=/%5E/g,eI=/%60/g,sE=/%7B/g,tI=/%7C/g,aE=/%7D/g,iI=/%20/g;function mg(t){return encodeURI(""+t).replace(tI,"|").replace(JD,"[").replace(ZD,"]")}function rI(t){return mg(t).replace(sE,"{").replace(aE,"}").replace(nE,"^")}function em(t){return mg(t).replace(rE,"%2B").replace(iI,"+").replace(iE,"%23").replace(KD,"%26").replace(eI,"`").replace(sE,"{").replace(aE,"}").replace(nE,"^")}function nI(t){return em(t).replace(XD,"%3D")}function sI(t){return mg(t).replace(iE,"%23").replace(YD,"%3F")}function aI(t){return t==null?"":sI(t).replace(QD,"%2F")}function wu(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const oI=/\/$/,uI=t=>t.replace(oI,"");function Qh(t,e,i="/"){let r,n={},s="",a="";const o=e.indexOf("#");let u=e.indexOf("?");return o<u&&o>=0&&(u=-1),u>-1&&(r=e.slice(0,u),s=e.slice(u+1,o>-1?o:e.length),n=t(s)),o>-1&&(r=r||e.slice(0,o),a=e.slice(o,e.length)),r=hI(r??e,i),{fullPath:r+(s&&"?")+s+a,path:r,query:n,hash:wu(a)}}function lI(t,e){const i=e.query?t(e.query):"";return e.path+(i&&"?")+i+(e.hash||"")}function Yv(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function cI(t,e,i){const r=e.matched.length-1,n=i.matched.length-1;return r>-1&&r===n&&Da(e.matched[r],i.matched[n])&&oE(e.params,i.params)&&t(e.query)===t(i.query)&&e.hash===i.hash}function Da(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function oE(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(!dI(t[i],e[i]))return!1;return!0}function dI(t,e){return Er(t)?Jv(t,e):Er(e)?Jv(e,t):t===e}function Jv(t,e){return Er(e)?t.length===e.length&&t.every((i,r)=>i===e[r]):t.length===1&&t[0]===e}function hI(t,e){if(t.startsWith("/"))return t;if(!t)return e;const i=e.split("/"),r=t.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let s=i.length-1,a,o;for(a=0;a<r.length;a++)if(o=r[a],o!==".")if(o==="..")s>1&&s--;else break;return i.slice(0,s).join("/")+"/"+r.slice(a).join("/")}const Nn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Cu;(function(t){t.pop="pop",t.push="push"})(Cu||(Cu={}));var lu;(function(t){t.back="back",t.forward="forward",t.unknown=""})(lu||(lu={}));function fI(t){if(!t)if(ra){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),uI(t)}const pI=/^[^#]+#/;function mI(t,e){return t.replace(pI,"#")+e}function gI(t,e){const i=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-i.left-(e.left||0),top:r.top-i.top-(e.top||0)}}const Hd=()=>({left:window.scrollX,top:window.scrollY});function yI(t){let e;if("el"in t){const i=t.el,r=typeof i=="string"&&i.startsWith("#"),n=typeof i=="string"?r?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!n)return;e=gI(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Zv(t,e){return(history.state?history.state.position-e:-1)+t}const tm=new Map;function vI(t,e){tm.set(t,e)}function _I(t){const e=tm.get(t);return tm.delete(t),e}let bI=()=>location.protocol+"//"+location.host;function uE(t,e){const{pathname:i,search:r,hash:n}=e,s=t.indexOf("#");if(s>-1){let o=n.includes(t.slice(s))?t.slice(s).length:1,u=n.slice(o);return u[0]!=="/"&&(u="/"+u),Yv(u,"")}return Yv(i,t)+r+n}function SI(t,e,i,r){let n=[],s=[],a=null;const o=({state:m})=>{const h=uE(t,location),g=i.value,p=e.value;let _=0;if(m){if(i.value=h,e.value=m,a&&a===g){a=null;return}_=p?m.position-p.position:0}else r(h);n.forEach(y=>{y(i.value,g,{delta:_,type:Cu.pop,direction:_?_>0?lu.forward:lu.back:lu.unknown})})};function u(){a=i.value}function l(m){n.push(m);const h=()=>{const g=n.indexOf(m);g>-1&&n.splice(g,1)};return s.push(h),h}function c(){const{history:m}=window;m.state&&m.replaceState(ot({},m.state,{scroll:Hd()}),"")}function f(){for(const m of s)m();s=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:u,listen:l,destroy:f}}function e0(t,e,i,r=!1,n=!1){return{back:t,current:e,forward:i,replaced:r,position:window.history.length,scroll:n?Hd():null}}function TI(t){const{history:e,location:i}=window,r={value:uE(t,i)},n={value:e.state};n.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(u,l,c){const f=t.indexOf("#"),m=f>-1?(i.host&&document.querySelector("base")?t:t.slice(f))+u:bI()+t+u;try{e[c?"replaceState":"pushState"](l,"",m),n.value=l}catch(h){console.error(h),i[c?"replace":"assign"](m)}}function a(u,l){const c=ot({},e.state,e0(n.value.back,u,n.value.forward,!0),l,{position:n.value.position});s(u,c,!0),r.value=u}function o(u,l){const c=ot({},n.value,e.state,{forward:u,scroll:Hd()});s(c.current,c,!0);const f=ot({},e0(r.value,u,null),{position:c.position+1},l);s(u,f,!1),r.value=u}return{location:r,state:n,push:o,replace:a}}function EI(t){t=fI(t);const e=TI(t),i=SI(t,e.state,e.location,e.replace);function r(s,a=!0){a||i.pauseListeners(),history.go(s)}const n=ot({location:"",base:t,go:r,createHref:mI.bind(null,t)},e,i);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function xI(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),EI(t)}function wI(t){return typeof t=="string"||t&&typeof t=="object"}function lE(t){return typeof t=="string"||typeof t=="symbol"}const cE=Symbol("");var t0;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(t0||(t0={}));function Ia(t,e){return ot(new Error,{type:t,[cE]:!0},e)}function ln(t,e){return t instanceof Error&&cE in t&&(e==null||!!(t.type&e))}const i0="[^/]+?",CI={sensitive:!1,strict:!1,start:!0,end:!0},AI=/[.+*?^${}()[\]/\\]/g;function PI(t,e){const i=ot({},CI,e),r=[];let n=i.start?"^":"";const s=[];for(const l of t){const c=l.length?[]:[90];i.strict&&!l.length&&(n+="/");for(let f=0;f<l.length;f++){const m=l[f];let h=40+(i.sensitive?.25:0);if(m.type===0)f||(n+="/"),n+=m.value.replace(AI,"\\$&"),h+=40;else if(m.type===1){const{value:g,repeatable:p,optional:_,regexp:y}=m;s.push({name:g,repeatable:p,optional:_});const T=y||i0;if(T!==i0){h+=10;try{new RegExp(`(${T})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${g}" (${T}): `+C.message)}}let E=p?`((?:${T})(?:/(?:${T}))*)`:`(${T})`;f||(E=_&&l.length<2?`(?:/${E})`:"/"+E),_&&(E+="?"),n+=E,h+=20,_&&(h+=-8),p&&(h+=-20),T===".*"&&(h+=-50)}c.push(h)}r.push(c)}if(i.strict&&i.end){const l=r.length-1;r[l][r[l].length-1]+=.7000000000000001}i.strict||(n+="/?"),i.end?n+="$":i.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const a=new RegExp(n,i.sensitive?"":"i");function o(l){const c=l.match(a),f={};if(!c)return null;for(let m=1;m<c.length;m++){const h=c[m]||"",g=s[m-1];f[g.name]=h&&g.repeatable?h.split("/"):h}return f}function u(l){let c="",f=!1;for(const m of t){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const h of m)if(h.type===0)c+=h.value;else if(h.type===1){const{value:g,repeatable:p,optional:_}=h,y=g in l?l[g]:"";if(Er(y)&&!p)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const T=Er(y)?y.join("/"):y;if(!T)if(_)m.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${g}"`);c+=T}}return c||"/"}return{re:a,score:r,keys:s,parse:o,stringify:u}}function OI(t,e){let i=0;for(;i<t.length&&i<e.length;){const r=e[i]-t[i];if(r)return r;i++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function dE(t,e){let i=0;const r=t.score,n=e.score;for(;i<r.length&&i<n.length;){const s=OI(r[i],n[i]);if(s)return s;i++}if(Math.abs(n.length-r.length)===1){if(r0(r))return 1;if(r0(n))return-1}return n.length-r.length}function r0(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const RI={type:0,value:""},DI=/[a-zA-Z0-9_]/;function II(t){if(!t)return[[]];if(t==="/")return[[RI]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${i})/"${l}": ${h}`)}let i=0,r=i;const n=[];let s;function a(){s&&n.push(s),s=[]}let o=0,u,l="",c="";function f(){l&&(i===0?s.push({type:0,value:l}):i===1||i===2||i===3?(s.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:l,regexp:c,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),l="")}function m(){l+=u}for(;o<t.length;){if(u=t[o++],u==="\\"&&i!==2){r=i,i=4;continue}switch(i){case 0:u==="/"?(l&&f(),a()):u===":"?(f(),i=1):m();break;case 4:m(),i=r;break;case 1:u==="("?i=2:DI.test(u)?m():(f(),i=0,u!=="*"&&u!=="?"&&u!=="+"&&o--);break;case 2:u===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+u:i=3:c+=u;break;case 3:f(),i=0,u!=="*"&&u!=="?"&&u!=="+"&&o--,c="";break;default:e("Unknown state");break}}return i===2&&e(`Unfinished custom RegExp for param "${l}"`),f(),a(),n}function kI(t,e,i){const r=PI(II(t.path),i),n=ot(r,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function LI(t,e){const i=[],r=new Map;e=o0({strict:!1,end:!0,sensitive:!1},e);function n(f){return r.get(f)}function s(f,m,h){const g=!h,p=s0(f);p.aliasOf=h&&h.record;const _=o0(e,f),y=[p];if("alias"in f){const C=typeof f.alias=="string"?[f.alias]:f.alias;for(const R of C)y.push(s0(ot({},p,{components:h?h.record.components:p.components,path:R,aliasOf:h?h.record:p})))}let T,E;for(const C of y){const{path:R}=C;if(m&&R[0]!=="/"){const I=m.record.path,D=I[I.length-1]==="/"?"":"/";C.path=m.record.path+(R&&D+R)}if(T=kI(C,m,_),h?h.alias.push(T):(E=E||T,E!==T&&E.alias.push(T),g&&f.name&&!a0(T)&&a(f.name)),hE(T)&&u(T),p.children){const I=p.children;for(let D=0;D<I.length;D++)s(I[D],T,h&&h.children[D])}h=h||T}return E?()=>{a(E)}:uu}function a(f){if(lE(f)){const m=r.get(f);m&&(r.delete(f),i.splice(i.indexOf(m),1),m.children.forEach(a),m.alias.forEach(a))}else{const m=i.indexOf(f);m>-1&&(i.splice(m,1),f.record.name&&r.delete(f.record.name),f.children.forEach(a),f.alias.forEach(a))}}function o(){return i}function u(f){const m=MI(f,i);i.splice(m,0,f),f.record.name&&!a0(f)&&r.set(f.record.name,f)}function l(f,m){let h,g={},p,_;if("name"in f&&f.name){if(h=r.get(f.name),!h)throw Ia(1,{location:f});_=h.record.name,g=ot(n0(m.params,h.keys.filter(E=>!E.optional).concat(h.parent?h.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),f.params&&n0(f.params,h.keys.map(E=>E.name))),p=h.stringify(g)}else if(f.path!=null)p=f.path,h=i.find(E=>E.re.test(p)),h&&(g=h.parse(p),_=h.record.name);else{if(h=m.name?r.get(m.name):i.find(E=>E.re.test(m.path)),!h)throw Ia(1,{location:f,currentLocation:m});_=h.record.name,g=ot({},m.params,f.params),p=h.stringify(g)}const y=[];let T=h;for(;T;)y.unshift(T.record),T=T.parent;return{name:_,path:p,params:g,matched:y,meta:FI(y)}}t.forEach(f=>s(f));function c(){i.length=0,r.clear()}return{addRoute:s,resolve:l,removeRoute:a,clearRoutes:c,getRoutes:o,getRecordMatcher:n}}function n0(t,e){const i={};for(const r of e)r in t&&(i[r]=t[r]);return i}function s0(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:NI(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function NI(t){const e={},i=t.props||!1;if("component"in t)e.default=i;else for(const r in t.components)e[r]=typeof i=="object"?i[r]:i;return e}function a0(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function FI(t){return t.reduce((e,i)=>ot(e,i.meta),{})}function o0(t,e){const i={};for(const r in t)i[r]=r in e?e[r]:t[r];return i}function MI(t,e){let i=0,r=e.length;for(;i!==r;){const s=i+r>>1;dE(t,e[s])<0?r=s:i=s+1}const n=$I(t);return n&&(r=e.lastIndexOf(n,r-1)),r}function $I(t){let e=t;for(;e=e.parent;)if(hE(e)&&dE(t,e)===0)return e}function hE({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function jI(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<r.length;++n){const s=r[n].replace(rE," "),a=s.indexOf("="),o=wu(a<0?s:s.slice(0,a)),u=a<0?null:wu(s.slice(a+1));if(o in e){let l=e[o];Er(l)||(l=e[o]=[l]),l.push(u)}else e[o]=u}return e}function u0(t){let e="";for(let i in t){const r=t[i];if(i=nI(i),r==null){r!==void 0&&(e+=(e.length?"&":"")+i);continue}(Er(r)?r.map(s=>s&&em(s)):[r&&em(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+i,s!=null&&(e+="="+s))})}return e}function BI(t){const e={};for(const i in t){const r=t[i];r!==void 0&&(e[i]=Er(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return e}const UI=Symbol(""),l0=Symbol(""),gg=Symbol(""),fE=Symbol(""),im=Symbol("");function No(){let t=[];function e(r){return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)}}function i(){t=[]}return{add:e,list:()=>t.slice(),reset:i}}function Gn(t,e,i,r,n,s=a=>a()){const a=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((o,u)=>{const l=m=>{m===!1?u(Ia(4,{from:i,to:e})):m instanceof Error?u(m):wI(m)?u(Ia(2,{from:e,to:m})):(a&&r.enterCallbacks[n]===a&&typeof m=="function"&&a.push(m),o())},c=s(()=>t.call(r&&r.instances[n],e,i,l));let f=Promise.resolve(c);t.length<3&&(f=f.then(l)),f.catch(m=>u(m))})}function Xh(t,e,i,r,n=s=>s()){const s=[];for(const a of t)for(const o in a.components){let u=a.components[o];if(!(e!=="beforeRouteEnter"&&!a.instances[o]))if(tE(u)){const c=(u.__vccOpts||u)[e];c&&s.push(Gn(c,i,r,a,o,n))}else{let l=u();s.push(()=>l.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${o}" at "${a.path}"`);const f=GD(c)?c.default:c;a.mods[o]=c,a.components[o]=f;const h=(f.__vccOpts||f)[e];return h&&Gn(h,i,r,a,o,n)()}))}}return s}function c0(t){const e=_n(gg),i=_n(fE),r=br(()=>{const u=er(t.to);return e.resolve(u)}),n=br(()=>{const{matched:u}=r.value,{length:l}=u,c=u[l-1],f=i.matched;if(!c||!f.length)return-1;const m=f.findIndex(Da.bind(null,c));if(m>-1)return m;const h=d0(u[l-2]);return l>1&&d0(c)===h&&f[f.length-1].path!==h?f.findIndex(Da.bind(null,u[l-2])):m}),s=br(()=>n.value>-1&&zI(i.params,r.value.params)),a=br(()=>n.value>-1&&n.value===i.matched.length-1&&oE(i.params,r.value.params));function o(u={}){if(WI(u)){const l=e[er(t.replace)?"replace":"push"](er(t.to)).catch(uu);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>l),l}return Promise.resolve()}return{route:r,href:br(()=>r.value.href),isActive:s,isExactActive:a,navigate:o}}function HI(t){return t.length===1?t[0]:t}const qI=S1({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:c0,setup(t,{slots:e}){const i=Fd(c0(t)),{options:r}=_n(gg),n=br(()=>({[h0(t.activeClass,r.linkActiveClass,"router-link-active")]:i.isActive,[h0(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const s=e.default&&HI(e.default(i));return t.custom?s:Os("a",{"aria-current":i.isExactActive?t.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:n.value},s)}}}),VI=qI;function WI(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function zI(t,e){for(const i in e){const r=e[i],n=t[i];if(typeof r=="string"){if(r!==n)return!1}else if(!Er(n)||n.length!==r.length||r.some((s,a)=>s!==n[a]))return!1}return!0}function d0(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const h0=(t,e,i)=>t??e??i,GI=S1({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:i}){const r=_n(im),n=br(()=>t.route||r.value),s=_n(l0,0),a=br(()=>{let l=er(s);const{matched:c}=n.value;let f;for(;(f=c[l])&&!f.components;)l++;return l}),o=br(()=>n.value.matched[a.value]);Dc(l0,br(()=>a.value+1)),Dc(UI,o),Dc(im,n);const u=lR();return Zn(()=>[u.value,o.value,t.name],([l,c,f],[m,h,g])=>{c&&(c.instances[f]=l,h&&h!==c&&l&&l===m&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),l&&c&&(!h||!Da(c,h)||!m)&&(c.enterCallbacks[f]||[]).forEach(p=>p(l))},{flush:"post"}),()=>{const l=n.value,c=t.name,f=o.value,m=f&&f.components[c];if(!m)return f0(i.default,{Component:m,route:l});const h=f.props[c],g=h?h===!0?l.params:typeof h=="function"?h(l):h:null,_=Os(m,ot({},g,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(f.instances[c]=null)},ref:u}));return f0(i.default,{Component:_,route:l})||_}}});function f0(t,e){if(!t)return null;const i=t(e);return i.length===1?i[0]:i}const KI=GI;function QI(t){const e=LI(t.routes,t),i=t.parseQuery||jI,r=t.stringifyQuery||u0,n=t.history,s=No(),a=No(),o=No(),u=cR(Nn);let l=Nn;ra&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Kh.bind(null,re=>""+re),f=Kh.bind(null,aI),m=Kh.bind(null,wu);function h(re,ce){let _e,Ee;return lE(re)?(_e=e.getRecordMatcher(re),Ee=ce):Ee=re,e.addRoute(Ee,_e)}function g(re){const ce=e.getRecordMatcher(re);ce&&e.removeRoute(ce)}function p(){return e.getRoutes().map(re=>re.record)}function _(re){return!!e.getRecordMatcher(re)}function y(re,ce){if(ce=ot({},ce||u.value),typeof re=="string"){const te=Qh(i,re,ce.path),pe=e.resolve({path:te.path},ce),he=n.createHref(te.fullPath);return ot(te,pe,{params:m(pe.params),hash:wu(te.hash),redirectedFrom:void 0,href:he})}let _e;if(re.path!=null)_e=ot({},re,{path:Qh(i,re.path,ce.path).path});else{const te=ot({},re.params);for(const pe in te)te[pe]==null&&delete te[pe];_e=ot({},re,{params:f(te)}),ce.params=f(ce.params)}const Ee=e.resolve(_e,ce),Fe=re.hash||"";Ee.params=c(m(Ee.params));const B=lI(r,ot({},re,{hash:rI(Fe),path:Ee.path})),z=n.createHref(B);return ot({fullPath:B,hash:Fe,query:r===u0?BI(re.query):re.query||{}},Ee,{redirectedFrom:void 0,href:z})}function T(re){return typeof re=="string"?Qh(i,re,u.value.path):ot({},re)}function E(re,ce){if(l!==re)return Ia(8,{from:ce,to:re})}function C(re){return D(re)}function R(re){return C(ot(T(re),{replace:!0}))}function I(re){const ce=re.matched[re.matched.length-1];if(ce&&ce.redirect){const{redirect:_e}=ce;let Ee=typeof _e=="function"?_e(re):_e;return typeof Ee=="string"&&(Ee=Ee.includes("?")||Ee.includes("#")?Ee=T(Ee):{path:Ee},Ee.params={}),ot({query:re.query,hash:re.hash,params:Ee.path!=null?{}:re.params},Ee)}}function D(re,ce){const _e=l=y(re),Ee=u.value,Fe=re.state,B=re.force,z=re.replace===!0,te=I(_e);if(te)return D(ot(T(te),{state:typeof te=="object"?ot({},Fe,te.state):Fe,force:B,replace:z}),ce||_e);const pe=_e;pe.redirectedFrom=ce;let he;return!B&&cI(r,Ee,_e)&&(he=Ia(16,{to:pe,from:Ee}),ie(Ee,Ee,!0,!1)),(he?Promise.resolve(he):P(pe,Ee)).catch(be=>ln(be)?ln(be,2)?be:Y(be):W(be,pe,Ee)).then(be=>{if(be){if(ln(be,2))return D(ot({replace:z},T(be.to),{state:typeof be.to=="object"?ot({},Fe,be.to.state):Fe,force:B}),ce||pe)}else be=M(pe,Ee,!0,z,Fe);return L(pe,Ee,be),be})}function O(re,ce){const _e=E(re,ce);return _e?Promise.reject(_e):Promise.resolve()}function w(re){const ce=Ce.values().next().value;return ce&&typeof ce.runWithContext=="function"?ce.runWithContext(re):re()}function P(re,ce){let _e;const[Ee,Fe,B]=XI(re,ce);_e=Xh(Ee.reverse(),"beforeRouteLeave",re,ce);for(const te of Ee)te.leaveGuards.forEach(pe=>{_e.push(Gn(pe,re,ce))});const z=O.bind(null,re,ce);return _e.push(z),Oe(_e).then(()=>{_e=[];for(const te of s.list())_e.push(Gn(te,re,ce));return _e.push(z),Oe(_e)}).then(()=>{_e=Xh(Fe,"beforeRouteUpdate",re,ce);for(const te of Fe)te.updateGuards.forEach(pe=>{_e.push(Gn(pe,re,ce))});return _e.push(z),Oe(_e)}).then(()=>{_e=[];for(const te of B)if(te.beforeEnter)if(Er(te.beforeEnter))for(const pe of te.beforeEnter)_e.push(Gn(pe,re,ce));else _e.push(Gn(te.beforeEnter,re,ce));return _e.push(z),Oe(_e)}).then(()=>(re.matched.forEach(te=>te.enterCallbacks={}),_e=Xh(B,"beforeRouteEnter",re,ce,w),_e.push(z),Oe(_e))).then(()=>{_e=[];for(const te of a.list())_e.push(Gn(te,re,ce));return _e.push(z),Oe(_e)}).catch(te=>ln(te,8)?te:Promise.reject(te))}function L(re,ce,_e){o.list().forEach(Ee=>w(()=>Ee(re,ce,_e)))}function M(re,ce,_e,Ee,Fe){const B=E(re,ce);if(B)return B;const z=ce===Nn,te=ra?history.state:{};_e&&(Ee||z?n.replace(re.fullPath,ot({scroll:z&&te&&te.scroll},Fe)):n.push(re.fullPath,Fe)),u.value=re,ie(re,ce,_e,z),Y()}let j;function Q(){j||(j=n.listen((re,ce,_e)=>{if(!ge.listening)return;const Ee=y(re),Fe=I(Ee);if(Fe){D(ot(Fe,{replace:!0,force:!0}),Ee).catch(uu);return}l=Ee;const B=u.value;ra&&vI(Zv(B.fullPath,_e.delta),Hd()),P(Ee,B).catch(z=>ln(z,12)?z:ln(z,2)?(D(ot(T(z.to),{force:!0}),Ee).then(te=>{ln(te,20)&&!_e.delta&&_e.type===Cu.pop&&n.go(-1,!1)}).catch(uu),Promise.reject()):(_e.delta&&n.go(-_e.delta,!1),W(z,Ee,B))).then(z=>{z=z||M(Ee,B,!1),z&&(_e.delta&&!ln(z,8)?n.go(-_e.delta,!1):_e.type===Cu.pop&&ln(z,20)&&n.go(-1,!1)),L(Ee,B,z)}).catch(uu)}))}let Z=No(),J=No(),H;function W(re,ce,_e){Y(re);const Ee=J.list();return Ee.length?Ee.forEach(Fe=>Fe(re,ce,_e)):console.error(re),Promise.reject(re)}function G(){return H&&u.value!==Nn?Promise.resolve():new Promise((re,ce)=>{Z.add([re,ce])})}function Y(re){return H||(H=!re,Q(),Z.list().forEach(([ce,_e])=>re?_e(re):ce()),Z.reset()),re}function ie(re,ce,_e,Ee){const{scrollBehavior:Fe}=t;if(!ra||!Fe)return Promise.resolve();const B=!_e&&_I(Zv(re.fullPath,0))||(Ee||!_e)&&history.state&&history.state.scroll||null;return g1().then(()=>Fe(re,ce,B)).then(z=>z&&yI(z)).catch(z=>W(z,re,ce))}const me=re=>n.go(re);let Te;const Ce=new Set,ge={currentRoute:u,listening:!0,addRoute:h,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:_,getRoutes:p,resolve:y,options:t,push:C,replace:R,go:me,back:()=>me(-1),forward:()=>me(1),beforeEach:s.add,beforeResolve:a.add,afterEach:o.add,onError:J.add,isReady:G,install(re){const ce=this;re.component("RouterLink",VI),re.component("RouterView",KI),re.config.globalProperties.$router=ce,Object.defineProperty(re.config.globalProperties,"$route",{enumerable:!0,get:()=>er(u)}),ra&&!Te&&u.value===Nn&&(Te=!0,C(n.location).catch(Fe=>{}));const _e={};for(const Fe in Nn)Object.defineProperty(_e,Fe,{get:()=>u.value[Fe],enumerable:!0});re.provide(gg,ce),re.provide(fE,d1(_e)),re.provide(im,u);const Ee=re.unmount;Ce.add(re),re.unmount=function(){Ce.delete(re),Ce.size<1&&(l=Nn,j&&j(),j=null,u.value=Nn,Te=!1,H=!1),Ee()}}};function Oe(re){return re.reduce((ce,_e)=>ce.then(()=>w(_e)),Promise.resolve())}return ge}function XI(t,e){const i=[],r=[],n=[],s=Math.max(e.matched.length,t.matched.length);for(let a=0;a<s;a++){const o=e.matched[a];o&&(t.matched.find(l=>Da(l,o))?r.push(o):i.push(o));const u=t.matched[a];u&&(e.matched.find(l=>Da(l,u))||n.push(u))}return[i,r,n]}const YI=["src"],JI=["src"],ZI=["src"],ek=["src"],tk=["src"],ik={key:2},rk={class:"vueperslide__content-wrapper"},nk=["innerHTML"],sk=["innerHTML"],ak={class:"vueperslide__content-wrapper"},ok=["innerHTML"],uk=["innerHTML"],lk={key:4,class:"vueperslide__loader"};function ck(t,e,i,r,n,s){return ne(),Xt(LR(i.link?"a":"div"),{class:ue(["vueperslide",s.slideClasses]),href:i.link&&!s.justDragged?i.link:!1,target:i.link&&i.openInNew?typeof i.openInNew=="boolean"?"_blank":i.openInNew:"_self",face:s.slideFace3d,style:ji(s.slideStyles),"aria-hidden":s.slides.activeId===t._.uid||s.isSlideVisible?"false":"true",onMouseenter:e[0]||(e[0]=a=>t.$emit("mouse-enter",{slideIndex:s.slideIndex,title:i.title,content:i.content,image:i.image,link:i.link},t.$el)),onMouseleave:e[1]||(e[1]=a=>t.$emit("mouse-leave"))},{default:Ut(()=>[s.videoObj?(ne(),ae(We,{key:0},[s.videoObj.webm||s.videoObj.mp4?(ne(),ae("video",Ra({key:0,class:"vueperslide__video",width:"100%",height:"100%"},s.videoObj.props||{}),[s.videoObj.webm?(ne(),ae("source",{key:0,src:s.videoObj.webm,type:"video/webm"},null,8,YI)):Le("",!0),s.videoObj.mp4?(ne(),ae("source",{key:1,src:s.videoObj.mp4,type:"video/mp4"},null,8,JI)):Le("",!0),s.videoObj.ogv?(ne(),ae("source",{key:2,src:s.videoObj.ogv,type:"video/ogg"},null,8,ZI)):Le("",!0),s.videoObj.avi?(ne(),ae("source",{key:3,src:s.videoObj.avi,type:"video/avi"},null,8,ek)):Le("",!0),Rt(je(s.videoObj.alt||"Sorry, your browser doesn't support embedded videos."),1)],16)):s.videoObj.url?(ne(),ae("iframe",Ra({key:1,class:"vueperslide__video",src:s.videoObj.url,type:"text/html",frameborder:"0",width:"100%",height:"100%"},s.videoObj.props||{}),null,16,tk)):Le("",!0)],64)):Le("",!0),t.imageSrc&&s.conf.slideImageInside?(ne(),ae("div",{key:1,class:"vueperslide__image",style:ji(s.imageStyles)},null,4)):Le("",!0),s.conf.slideContentOutside?Wp((ne(),ae("div",ik,[Re(t.$slots,"content",{},()=>[X("div",rk,[i.title?(ne(),ae("div",{key:0,class:"vueperslide__title",innerHTML:i.title},null,8,nk)):Le("",!0),i.content?(ne(),ae("div",{key:1,class:"vueperslide__content",innerHTML:i.content},null,8,sk)):Le("",!0)])])],512)),[[Zp,!1]]):Re(t.$slots,"content",{key:3},()=>[X("div",ak,[i.title?(ne(),ae("div",{key:0,class:"vueperslide__title",innerHTML:i.title},null,8,ok)):Le("",!0),i.content?(ne(),ae("div",{key:1,class:"vueperslide__content",innerHTML:i.content},null,8,uk)):Le("",!0)])]),s.conf.lazy&&!t.loaded?(ne(),ae("div",lk,[Re(t.$slots,"loader")])):Le("",!0)]),_:3},40,["href","target","class","face","style","aria-hidden"])}const pE=(t,e)=>{const i=t.__vccOpts||t;for(const[r,n]of e)i[r]=n;return i},dk={inject:["slides","touch","updateSlide","addClone","addSlide","removeSlide"],props:{clone:{type:Boolean},image:{type:String,default:""},video:{type:[String,Object],default:""},title:{type:String,default:""},content:{type:String,default:""},link:{type:String,default:""},duration:{type:Number,default:0},lazyloaded:{type:Boolean},openInNew:{type:[Boolean,String]}},emits:["mouse-enter","mouse-leave"],data:()=>({imageSrc:"",loading:!1,loaded:!1}),computed:{conf(){return this.$parent.conf},slideClasses(){return{"vueperslide--active":this.slides.activeId===this._.uid,"vueperslide--previous-slide":this.isPreviousSlide,"vueperslide--next-slide":this.isNextSlide,"vueperslide--visible":this.isSlideVisible,"vueperslide--loading":this.conf.lazy&&!this.loaded,"vueperslide--has-video":this.videoObj,"vueperslide--has-image-inside":this.conf.slideImageInside,"vueperslide--no-pointer-events":this.videoObj&&this.videoObj.pointerEvents===!1}},slideStyles(){const{visibleSlides:t,fade:e,slideImageInside:i,gap:r,gapPx:n}=this.conf;return{...!i&&this.imageSrc&&{backgroundImage:`url("${this.imageSrc}")`},...t>1&&{width:(100-(r?r*(t-1):0))/t+"%"},...t>1&&e&&{[this.conf.rtl?"right":"left"]:this.slideIndex%t/t*100+"%"},...r&&{[this.conf.rtl?"marginLeft":"marginRight"]:r+(n?"px":"%")}}},videoObj(){if(!this.video)return null;let t={url:"",alt:"",props:{controls:!0}};return typeof this.video=="object"?t=Object.assign(t,this.video):typeof this.video=="string"&&(t.url=this.video),t},youtubeVideo(){return/youtube\.|youtu\.be/.test(this.videoObj.url)},imageStyles(){return{...this.conf.slideImageInside&&this.imageSrc&&{backgroundImage:`url("${this.imageSrc}")`}}},slideFace3d(){if(!this.conf["3d"])return!1;const t=["front","right","back","left"],e=(this.slides.current-1+this.slidesCount)%this.slidesCount,i=(this.slides.current+1)%this.slidesCount;let r="front";return this.slideIndex===e?r=t[(4+this.slides.current-1)%4]:this.slideIndex===i&&(r=t[(this.slides.current+1)%4]),r=t[this.slideIndex%4],this.conf.rtl&&r==="left"?r="right":this.conf.rtl&&r==="right"&&(r="left"),r},isPreviousSlide(){if(!this.conf["3d"])return!1;const t=(this.slides.current-1+this.slidesCount)%this.slidesCount;return this._.uid===this.slides.list[t].id},isNextSlide(){if(!this.conf["3d"])return!1;const t=(this.slides.current+1)%this.slidesCount;return this._.uid===this.slides.list[t].id},isSlideVisible(){return this.slideIndex>=this.slides.firstVisible&&this.slideIndex<this.slides.firstVisible+this.conf.visibleSlides},slidesList(){return this.slides.list.map(t=>t.id)},slidesCount(){return this.slidesList.length},slideIndex(){return this.slidesList.indexOf(this._.uid)},justDragged(){return this.touch.justDragged}},methods:{updateThisSlide(t){this.updateSlide(this._.uid,t)},loadImage(){if(!(this.loading||this.loaded))return this.loading=!0,new Promise((t,e)=>{const i=document.createElement("img");i.onload=()=>{this.imageSrc=this.image,this.loading=!1,this.loaded=!0,this.$nextTick(()=>{t({image:this.imageSrc,style:((this.$el.attributes||{}).style||{}).value})})},i.onerror=(this.loading=!1)||e,i.src=this.image})},playVideo(){this.videoObj&&(this.videoObj.url?this.$el.querySelector("iframe").contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*"):this.$el.querySelector("video").play())},pauseVideo(){this.videoObj&&(this.videoObj.url?this.$el.querySelector("iframe").contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*"):this.$el.querySelector("video").pause())}},created(){if(this.imageSrc=this.conf.lazy?"":this.image,this.clone)return this.addClone();this.addSlide({id:this._.uid,image:this.imageSrc,video:this.videoObj&&{...this.videoObj,play:this.playVideo,pause:this.pauseVideo},title:this.title,content:this.content,contentSlot:this.$slots.content,loaderSlot:this.$slots.loader,link:this.link,style:"",loadImage:this.loadImage,duration:this.duration})},mounted(){this.clone||this.updateThisSlide({contentSlot:this.$slots.content,loaderSlot:this.$slots.loader,style:((this.$el.attributes||{}).style||{}).value})},beforeUnmount(){this.clone||this.removeSlide(this._.uid)},watch:{image(){this.imageSrc=this.conf.lazy&&!this.isSlideVisible?"":this.image,this.clone||this.updateThisSlide({image:this.imageSrc,...!this.conf.slideImageInside&&{style:this.slideStyles}})},title(){this.clone||this.updateThisSlide({title:this.title})},content(){this.clone||this.updateThisSlide({content:this.content})},link(){this.clone||this.updateThisSlide({link:this.link})},lazyloaded(){this.clone&&(this.loaded=this.lazyloaded)}}},qd=pE(dk,[["render",ck]]),hk=["innerHTML"],fk=["innerHTML"],pk={class:"vueperslides__inner"},mk={key:0,class:"vueperslides__paused"},gk={key:1,class:"vueperslides__progress"},yk={key:2,class:"vueperslides__fractions"},vk={viewBox:"0 0 9 18"},_k=["d"],bk={viewBox:"0 0 9 18"},Sk=["d"],Tk={key:4,class:"vueperslides__bullets",ref:"bullets",role:"tablist","aria-label":"Slideshow navigation"},Ek=["aria-label","onClick"],xk={class:"default"},wk={key:1,class:"vueperslides__bullets vueperslides__bullets--outside",ref:"bullets",role:"tablist","aria-label":"Slideshow navigation"},Ck=["aria-label","onClick"],Ak={class:"default"},Pk=["innerHTML"],Ok=["innerHTML"];function Rk(t,e,i,r,n,s){const a=Jr("vnodes"),o=Jr("vueper-slide");return ne(),ae("div",{class:ue(["vueperslides",s.vueperslidesClasses]),ref:"vueperslides","aria-label":"Slideshow",style:ji(s.vueperslidesStyles)},[s.slidesCount&&s.conf.slideContentOutside==="top"?(ne(),ae("div",{key:0,class:ue(["vueperslide__content-wrapper vueperslide__content-wrapper--outside-top",s.conf.slideContentOutsideClass])},[s.currentSlide.contentSlot?(ne(),Xt(a,{key:0,vnodes:s.currentSlide.contentSlot()},null,8,["vnodes"])):(ne(),ae(We,{key:1},[s.currentSlide.title?(ne(),ae("div",{key:0,class:"vueperslide__title",innerHTML:s.currentSlide.title},null,8,hk)):Le("",!0),s.currentSlide.content?(ne(),ae("div",{key:1,class:"vueperslide__content",innerHTML:s.currentSlide.content},null,8,fk)):Le("",!0)],64))],2)):Le("",!0),X("div",pk,[X("div",{class:"vueperslides__parallax-wrapper",style:ji(`padding-bottom: ${s.conf.slideRatio*100}%`),"aria-live":"polite"},[X("div",{class:ue(["vueperslides__track",{"vueperslides__track--dragging":t.touch.dragging,"vueperslides__track--mousedown":t.mouseDown}]),ref:"track",style:ji(s.trackStyles)},[X("div",{class:"vueperslides__track-inner",style:ji(s.trackInnerStyles)},[Re(t.$slots,"default"),t.isReady&&s.conf.infinite&&s.canSlide&&s.lastSlide?(ne(),Xt(o,{key:0,class:"vueperslide--clone vueperslide--clone-1",clone:"",title:s.lastSlide.title,content:s.lastSlide.content,image:s.lastSlide.image,link:s.lastSlide.link,style:ji(s.lastSlide.style),lazyloaded:s.lastSlide.loaded,"aria-hidden":"true"},zp({_:2},[s.lastSlide.contentSlot?{name:"content",fn:Ut(()=>[rt(a,{vnodes:s.lastSlide.contentSlot()},null,8,["vnodes"])]),key:"0"}:void 0,s.conf.lazy&&!s.lastSlide.loaded&&s.lastSlide.loaderSlot?{name:"loader",fn:Ut(()=>[rt(a,{vnodes:s.lastSlide.loaderSlot()},null,8,["vnodes"])]),key:"1"}:void 0]),1032,["title","content","image","link","style","lazyloaded"])):Le("",!0),t.isReady&&s.conf.infinite&&s.canSlide&&s.firstSlide?(ne(),Xt(o,{key:1,class:"vueperslide--clone vueperslide--clone-2",clone:"",title:s.firstSlide.title,content:s.firstSlide.content,image:s.firstSlide.image,link:s.firstSlide.link,style:ji(s.firstSlide.style),lazyloaded:s.firstSlide.loaded,"aria-hidden":"true"},zp({_:2},[s.firstSlide.contentSlot?{name:"content",fn:Ut(()=>[rt(a,{vnodes:s.firstSlide.contentSlot()},null,8,["vnodes"])]),key:"0"}:void 0,s.conf.lazy&&!s.firstSlide.loaded&&s.firstSlide.loaderSlot?{name:"loader",fn:Ut(()=>[rt(a,{vnodes:s.firstSlide.loaderSlot()},null,8,["vnodes"])]),key:"1"}:void 0]),1032,["title","content","image","link","style","lazyloaded"])):Le("",!0)],4)],6)],4),(s.conf.pauseOnHover||s.conf.pauseOnTouch)&&t.$slots.pause?(ne(),ae("div",mk,[Re(t.$slots,"pause")])):Le("",!0),s.conf.progress?(ne(),ae("div",gk,[Re(t.$slots,"progress",{current:t.slides.current+1,total:s.slidesCount},()=>[X("div",{style:ji(`width: ${(t.slides.current+1)*100/s.slidesCount}%`)},null,4)])])):Le("",!0),s.conf.fractions?(ne(),ae("div",yk,[Re(t.$slots,"fraction",{current:t.slides.current+1,total:s.slidesCount},()=>[Rt(je(`${t.slides.current+1} / ${s.slidesCount}`),1)])])):Le("",!0),s.conf.arrows&&s.canSlide&&!i.disable?(ne(),ae("div",{key:3,class:ue(["vueperslides__arrows",{"vueperslides__arrows--outside":s.conf.arrowsOutside}])},[Wp(X("button",{class:"vueperslides__arrow vueperslides__arrow--prev",type:"button",onClick:e[0]||(e[0]=u=>s.previous()),"aria-label":"Previous",onKeyup:[e[1]||(e[1]=hn(u=>s.conf.rtl?s.next():s.previous(),["left"])),e[2]||(e[2]=hn(u=>s.conf.rtl?s.previous():s.next(),["right"]))]},[Re(t.$slots,`arrow-${s.conf.rtl?"right":"left"}`,{},()=>[(ne(),ae("svg",vk,[X("path",{"stroke-linecap":"round",d:s.conf.rtl?"m1 1 l7 8 -7 8":"m8 1 l-7 8 7 8"},null,8,_k)]))])],544),[[Zp,!s.arrowPrevDisabled]]),Wp(X("button",{class:"vueperslides__arrow vueperslides__arrow--next",type:"button",onClick:e[3]||(e[3]=u=>s.next()),"aria-label":"Next",onKeyup:[e[4]||(e[4]=hn(u=>s.conf.rtl?s.next():s.previous(),["left"])),e[5]||(e[5]=hn(u=>s.conf.rtl?s.previous():s.next(),["right"]))]},[Re(t.$slots,`arrow-${s.conf.rtl?"left":"right"}`,{},()=>[(ne(),ae("svg",bk,[X("path",{"stroke-linecap":"round",d:s.conf.rtl?"m8 1 l-7 8 7 8":"m1 1 l7 8 -7 8"},null,8,Sk)]))])],544),[[Zp,!s.arrowNextDisabled]])],2)):Le("",!0),s.conf.bullets&&s.canSlide&&!i.disable&&!s.conf.bulletsOutside?(ne(),ae("div",Tk,[Re(t.$slots,"bullets",{currentSlide:t.slides.current,bulletIndexes:s.bulletIndexes,goToSlide:s.goToSlide,previous:s.previous,next:s.next},()=>[(ne(!0),ae(We,null,Pt(s.bulletIndexes,(u,l)=>(ne(),ae("button",{class:ue(["vueperslides__bullet",{"vueperslides__bullet--active":t.slides.current===u}]),type:"button",key:l,role:"tab","aria-label":`Slide ${l+1}`,onClick:c=>s.goToSlide(u),onKeyup:[e[6]||(e[6]=hn(c=>s.conf.rtl?s.next():s.previous(),["left"])),e[7]||(e[7]=hn(c=>s.conf.rtl?s.previous():s.next(),["right"]))]},[Re(t.$slots,"bullet",{active:t.slides.current===u,slideIndex:u,index:l+1},()=>[X("div",xk,[X("span",null,je(l+1),1)])])],42,Ek))),128))])],512)):Le("",!0)]),s.conf.bullets&&s.canSlide&&!i.disable&&s.conf.bulletsOutside?(ne(),ae("div",wk,[Re(t.$slots,"bullets",{currentSlide:t.slides.current,bulletIndexes:s.bulletIndexes,goToSlide:s.goToSlide,previous:s.previous,next:s.next},()=>[(ne(!0),ae(We,null,Pt(s.bulletIndexes,(u,l)=>(ne(),ae("button",{class:ue(["vueperslides__bullet",{"vueperslides__bullet--active":t.slides.current===u}]),type:"button",key:l,role:"tab","aria-label":`Slide ${l+1}`,onClick:c=>s.goToSlide(u),onKeyup:[e[8]||(e[8]=hn(c=>s.conf.rtl?s.next():s.previous(),["left"])),e[9]||(e[9]=hn(c=>s.conf.rtl?s.previous():s.next(),["right"]))]},[Re(t.$slots,"bullet",{active:t.slides.current===u,slideIndex:u,index:l+1},()=>[X("div",Ak,[X("span",null,je(l+1),1)])])],42,Ck))),128))])],512)):Le("",!0),s.slidesCount&&s.conf.slideContentOutside==="bottom"?(ne(),ae("div",{key:2,class:ue(["vueperslide__content-wrapper vueperslide__content-wrapper--outside-bottom",s.conf.slideContentOutsideClass])},[s.currentSlide.contentSlot?(ne(),Xt(a,{key:0,vnodes:s.currentSlide.contentSlot()},null,8,["vnodes"])):(ne(),ae(We,{key:1},[s.currentSlide.title?(ne(),ae("div",{key:0,class:"vueperslide__title",innerHTML:s.currentSlide.title},null,8,Pk)):Le("",!0),s.currentSlide.content?(ne(),ae("div",{key:1,class:"vueperslide__content",innerHTML:s.currentSlide.content},null,8,Ok)):Le("",!0)],64))],2)):Le("",!0)],6)}const Dk={name:"vueper-slides",components:{VueperSlide:qd,vnodes:{render(){return this.$attrs.vnodes}}},provide(){return{conf:this.conf,slides:this.slides,touch:this.touch,updateSlide:this.updateSlide,addClone:this.addClone,addSlide:this.addSlide,removeSlide:this.removeSlide}},props:{alwaysRefreshClones:{type:Boolean,default:!1},arrows:{type:Boolean,default:!0},arrowsOutside:{type:Boolean,default:null},autoplay:{type:Boolean,default:!1},breakpoints:{type:Object,default:()=>({})},bullets:{type:Boolean,default:!0},bulletsOutside:{type:Boolean,default:null},disable:{type:Boolean,default:!1},disableArrowsOnEdges:{type:[Boolean,String],default:!1},draggingDistance:{type:Number,default:null},duration:{type:[Number,String],default:4e3},infinite:{type:Boolean,default:!0},fade:{type:Boolean,default:!1},fixedHeight:{type:[Boolean,String],default:!1},fractions:{type:Boolean,default:!1},gap:{type:Number,default:0},initSlide:{type:Number,default:1},lazy:{type:Boolean,default:!1},lazyLoadOnDrag:{type:Boolean,default:!1},pauseOnHover:{type:Boolean,default:!0},pauseOnTouch:{type:Boolean,default:!0},parallax:{type:[Boolean,Number],default:!1},pageScrollingElement:{type:String,default:""},parallaxFixedContent:{type:Boolean,default:!1},preventYScroll:{type:Boolean,default:!1},progress:{type:Boolean,default:!1},rtl:{type:Boolean,default:!1},slideContentOutside:{type:[Boolean,String],default:!1},slideContentOutsideClass:{type:String,default:""},slideImageInside:{type:Boolean,default:!1},slideMultiple:{type:[Boolean,Number],default:!1},slideRatio:{type:Number,default:1/3},touchable:{type:Boolean,default:!0},transitionSpeed:{type:[Number,String],default:600},visibleSlides:{type:Number,default:1},"3d":{type:Boolean,default:!1}},emits:["ready","next","previous","autoplay-pause","autoplay-resume","before-slide","slide","image-loaded","image-failed"],data:()=>({isReady:!1,isPaused:!1,container:null,slides:{list:[],activeId:null,current:0,focus:0,firstVisible:0},mouseDown:!1,mouseOver:!1,touch:{enabled:!0,dragging:!1,lazyloadTriggered:!1,justDragged:!1,dragStartX:0,dragNowX:0,dragAmount:0},transition:{currentTranslation:0,speed:0,animated:!1},autoplayTimer:null,nextSlideIsClone:!1,breakpointsData:{list:[],current:null},parallaxData:{translation:0,slideshowOffsetTop:null,isVisible:!1}}),computed:{conf(){const t={...this.$props,...this.$props.breakpoints&&this.$props.breakpoints[this.breakpointsData.current]||{}};return t.slideMultiple=t.slideMultiple?t.visibleSlides:1,t.gap=this.gap&&parseInt(this.gap)||0,t.visibleSlides>1&&(t["3d"]=!1),(t.fade||t.disableArrowsOnEdges||t.visibleSlides>1||t["3d"])&&(t.infinite=!1),t.visibleSlides>1&&t.arrowsOutside===null&&(t.arrowsOutside=!0),t.visibleSlides>1&&t.bulletsOutside===null&&(t.bulletsOutside=!0),this.touch.enabled!==t.touchable&&this.toggleTouchableOption(t.touchable),t.parallax&&t.parallaxFixedContent&&(t.slideContentOutside="top",t.slideContentOutsideClass="parallax-fixed-content"),t},slidesCount(){return this.slides.list.length},gapsCount(){const{fade:t,"3d":e,slideMultiple:i,gap:r}=this.conf;if(!r||t||e||this.multipleSlides1by1&&this.slides.current<this.preferredPosition)return 0;if(!this.slides.current&&this.nextSlideIsClone)return this.slidesCount;if(this.nextSlideIsClone===0)return-1;let n=this.slides.current/i-this.preferredPosition;return this.multipleSlides1by1&&this.slidePosAfterPreferred>0&&(n-=this.slidePosAfterPreferred),n},slidesAfterCurrent(){return this.slidesCount-(this.slides.current+1)},preferredPosition(){return this.multipleSlides1by1?Math.ceil(this.conf.visibleSlides/2)-1:0},slidePosAfterPreferred(){return this.conf.visibleSlides-this.preferredPosition-this.slidesAfterCurrent-1},multipleSlides1by1(){return this.conf.visibleSlides>1&&this.conf.slideMultiple===1},touchEnabled:{get(){return this.slidesCount>1&&this.touch.enabled},set(t){this.touch.enabled=t}},canSlide(){return this.slidesCount/this.conf.visibleSlides>1},firstSlide(){const t=this.slidesCount?this.slides.list[0]:{};return t.style&&typeof t.style=="string"&&(t.style=t.style.replace(/width: ?\d+.*?;?/,"")),t},lastSlide(){const t=this.slidesCount?this.slides.list[this.slidesCount-1]:{};return t.style&&typeof t.style=="string"&&(t.style=t.style.replace(/width: ?\d+.*?;?/,"")),t},currentSlide(){const t=this.slidesCount&&this.slides.list[this.slides.current]||{};return this.slides.current<this.slidesCount&&t.id!==this.slides.activeId&&this.goToSlide(this.slides.current,{animation:!1,autoPlaying:!0}),t},vueperslidesClasses(){return{"vueperslides--ready":this.isReady,"vueperslides--rtl":this.conf.rtl,"vueperslides--fade":this.conf.fade,"vueperslides--parallax":this.conf.parallax,"vueperslides--slide-image-inside":this.conf.slideImageInside,"vueperslides--touchable":this.touchEnabled&&!this.disable,"vueperslides--fixed-height":this.conf.fixedHeight,"vueperslides--3d":this.conf["3d"],"vueperslides--slide-multiple":this.conf.slideMultiple>1,"vueperslides--bullets-outside":this.conf.bulletsOutside,"vueperslides--animated":this.transition.animated,"vueperslides--no-animation":!this.isReady}},vueperslidesStyles(){return/^-?\d/.test(this.conf.fixedHeight)?`height: ${this.conf.fixedHeight}`:null},trackStyles(){const t={};return this.conf.parallax&&(t.transform=`translate3d(0, ${this.parallaxData.translation}%, 0)`,t.willChange=this.parallaxData.isVisible?"transform":"auto"),t},trackInnerStyles(){const t={},{fade:e,"3d":i}=this.conf;if(t.transitionDuration=`${this.transition.speed}ms`,i){const r=this.transition.currentTranslation*90/100;t.transform=`rotateY(-90deg) translateX(-50%) rotateY(90deg) rotateY(${r}deg)`}else e||(t.transform=`translate3d(${this.transition.currentTranslation}%, 0, 0)`,t.willChange=this.touch.dragging||this.transition.animated?"transform":"auto");return t},bulletIndexes(){return Array(Math.ceil(this.slidesCount/this.conf.slideMultiple)).fill().map((t,e)=>e*this.conf.slideMultiple)},arrowPrevDisabled(){return!this.slides.current&&this.conf.disableArrowsOnEdges},arrowNextDisabled(){const{disableArrowsOnEdges:t,visibleSlides:e,slideMultiple:i}=this.conf;return this.slides.current+(i>1&&e>1?e-1:0)===this.slidesCount-1&&t}},methods:{init(){this.container=this.$refs.vueperslides,this.touchEnabled=this.conf.touchable,this.transition.speed=this.conf.transitionSpeed,Object.keys(this.breakpoints).length&&(this.setBreakpointsList(),this.setBreakpointConfig(this.getCurrentBreakpoint()));const t={animation:!1,autoPlaying:this.conf.autoplay};this.goToSlide(this.conf.initSlide-1,t),this.bindEvents(),this.$nextTick(()=>{this.isReady=!0,this.emit("ready")})},emit(t,e=!0,i=!1){let r=null;if((e||typeof i=="number")&&(r={},e&&this.slides.activeId&&this.slidesCount&&(r.currentSlide=this.getSlideData(this.slides.current)),typeof i=="number"&&this.slidesCount)){const{nextSlide:n}=this.getSlideInRange(i);r.nextSlide=this.getSlideData(n)}this.$emit(...r?[t,r]:[t])},getSlideData(t){const e=this.slides.list[t];let i={};return e&&(i={index:t,title:e.title,content:e.content,contentSlot:e.contentSlot,image:e.image,link:e.link}),i},setBreakpointsList(){this.breakpointsData.list=[99999,...Object.keys(this.breakpoints)].map(t=>parseInt(t)).sort((t,e)=>parseInt(e)-parseInt(t))},getCurrentBreakpoint(){const t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,e=[t,...this.breakpointsData.list].sort((i,r)=>parseInt(r)-parseInt(i));return this.breakpointsData.list[e.indexOf(t)-1]},hasBreakpointChanged(t){return this.breakpointsData.current!==parseInt(t)},setBreakpointConfig(t){const e=this.breakpoints&&this.breakpoints[t]||{},i=e.slideMultiple&&e.slideMultiple!==this.conf.slideMultiple,r=e.visibleSlides&&e.visibleSlides!==this.conf.visibleSlides;this.breakpointsData.current=t,this.slides.current=this.getFirstVisibleSlide(this.slides.focus),i||r?this.goToSlide(this.slides.current,{breakpointChange:!0}):this.updateTrackTranslation()},bindEvents(){const t="ontouchstart"in window;this.touchEnabled&&this.toggleTouchableOption(!0),this.conf.autoplay&&(this.conf.pauseOnHover&&!t?(this.container.addEventListener("mouseenter",this.onMouseEnter),this.container.addEventListener("mouseleave",this.onMouseLeave)):this.conf.pauseOnTouch&&t&&document.addEventListener("touchstart",e=>{this[this.$el.contains(e.target)?"onSlideshowTouch":"onOustideTouch"]()})),(this.breakpointsData.list.length||this.conf.parallax)&&window.addEventListener("resize",this.onResize),this.conf.parallax&&this.enableParallax()},getSlideshowOffsetTop(t=!1){if(this.parallaxData.slideshowOffsetTop===null||t){let e=this.container,i=e.offsetTop;for(;e=e.offsetParent;)i+=e.offsetTop;this.parallaxData.slideshowOffsetTop=i}return this.parallaxData.slideshowOffsetTop},enableParallax(){this.refreshParallax(),this.pageScrollingElement?(this.parallaxData.scrollingEl=document.querySelector(this.pageScrollingElement),this.parallaxData.scrollingEl.addEventListener("scroll",this.onScroll)):document.addEventListener("scroll",this.onScroll)},disableParallax(){(this.pageScrollingElement?document.querySelector(this.pageScrollingElement):document).removeEventListener("scroll",this.onScroll),this.parallaxData.scrollingEl=null,this.parallaxData.isVisible=!1,this.parallaxData.translation=0,this.parallaxData.slideshowOffsetTop=null},onScroll(){const{scrollingEl:t}=this.parallaxData,e=document.documentElement;let i=0;t?i=t.scrollTop:i=(window.pageYOffset||e.scrollTop)-(e.clientTop||0);const r=window.innerHeight||e.clientHeight||document.body.clientHeight,n=this.container.clientHeight,s=this.getSlideshowOffsetTop(),a=s+n-i,o=r+i-s;if(this.parallaxData.isVisible=a>0&&o>0,this.parallaxData.isVisible){const u=r+n,l=a*100/u,c=this.conf.parallax===-1?100-l:l;this.parallaxData.translation=-c/2}},onResize(){if(this.breakpointsData.list.length){const t=this.getCurrentBreakpoint();this.hasBreakpointChanged(t)&&this.setBreakpointConfig(t)}this.conf.parallax&&this.getSlideshowOffsetTop(!0)},onMouseEnter(){this.mouseOver=!0,this.conf.pauseOnHover&&this.conf.autoplay&&(this.isPaused=!0)},onMouseLeave(){this.mouseOver=!1,this.conf.pauseOnHover&&this.conf.autoplay&&(this.isPaused=!1)},onMouseDown(t){!this.touchEnabled||this.disable||(!t.touches&&this.preventYScroll&&t.preventDefault(),this.mouseDown=!0,this.touch.dragStartX=this.getCurrentMouseX(t),this.conf.draggingDistance||this.updateTrackTranslation(this.touch.dragStartX))},onMouseMove(t){if(this.mouseDown||this.touch.dragging)if(this.conf.autoplay&&(this.isPaused=!0),this.preventYScroll&&t.preventDefault(),this.mouseDown=!1,this.touch.dragging=!0,this.touch.dragNowX=this.getCurrentMouseX(t),this.conf.draggingDistance){this.touch.dragAmount=this.touch.dragNowX-this.touch.dragStartX;const e=this.touch.dragAmount/this.container.clientWidth;this.updateTrackTranslation(),this.transition.currentTranslation+=100*e}else this.updateTrackTranslation(this.touch.dragNowX)},onMouseUp(t){if(this.mouseDown=!1,this.touch.dragging)this.conf.autoplay&&(!("ontouchstart"in window)&&!this.mouseOver?this.isPaused=!1:this.conf.pauseOnTouch||(this.isPaused=!1));else return this.cancelSlideChange();this.touch.dragging=!1;const e=this.conf.draggingDistance?-this.touch.dragAmount:0,i=(this.touch.dragStartX-this.container.offsetLeft)/this.container.clientWidth,r=(this.touch.dragNowX-this.container.offsetLeft)/this.container.clientWidth,n=((i<.5?0:1)-r)*100;let s=(e||n)>0;if(this.conf.rtl&&(s=!s),[Math.abs(e)<this.conf.draggingDistance,!this.conf.draggingDistance&&Math.abs(n)<50,this.arrowPrevDisabled&&!this.slides.current&&!s,this.arrowNextDisabled&&this.slides.current===this.slidesCount-1&&s].includes(!0))this.cancelSlideChange();else{const a=this.slides.current+this.conf.slideMultiple*(s?1:-1);this.emit(s?"next":"previous"),this.goToSlide(a)}this.touch.dragStartX=null,this.touch.dragNowX=null,this.touch.dragAmount=null,this.touch.justDragged=!0,setTimeout(()=>this.touch.justDragged=!1,50),this.touch.lazyloadTriggered=!1},onSlideshowTouch(){this.isPaused=!0},onOustideTouch(){this.isPaused=!1},justDragged(){return this.touch.justDragged},cancelSlideChange(){this.conf.fade||this.updateTrackTranslation()},getCurrentMouseX(t){return"ontouchstart"in window?t.touches[0].clientX:t.clientX},getBasicTranslation(){return this.slides.current/this.conf.visibleSlides},updateTrackTranslation(t=null){let e=this.getBasicTranslation();const{infinite:i,visibleSlides:r,slideMultiple:n,gap:s,"3d":a,lazy:o,lazyLoadOnDrag:u}=this.conf;if(i&&this.nextSlideIsClone!==!1&&(e=(this.nextSlideIsClone?this.slidesCount:-1)/r),s&&(e+=this.gapsCount/(r/n)*s/100),this.touch.dragStartX&&t&&!(i&&this.nextSlideIsClone!==!1)){let l=0;const c=(this.touch.dragStartX-this.container.offsetLeft)/this.container.clientWidth;let f=(t-this.container.offsetLeft)/this.container.clientWidth;if(a){const m=Math.round(c)?[0,2]:[-1,1];f=Math.min(Math.max(f,m[0]),m[1])}if(l=(c<.5?0:1)-f,e+=l*(this.conf.rtl?-1:1),o&&u&&!this.touch.lazyloadTriggered){this.touch.lazyloadTriggered=!0;let m=this.slides.current+(l>0?1:-1)*r;i&&m===-1?m=this.slidesCount-1:i&&m===this.slidesCount&&(m=0);for(let h=0;h<r;h++){const g=this.slides.list[m+h];g&&!g.loaded&&this.loadSlide(g,m+h)}}}if(this.multipleSlides1by1&&!i){const l=this.slidePosAfterPreferred>0;let c=Math.min(this.preferredPosition,this.slides.current);l&&(c+=this.slidePosAfterPreferred),e-=c/r}this.transition.currentTranslation=-e*100*(this.conf.rtl?-1:1)},pauseAutoplay(){this.isPaused=!0,clearTimeout(this.autoplayTimer),this.autoplayTimer=0,this.emit("autoplay-pause")},resumeAutoplay(){this.isPaused=!1,this.doAutoplay(),this.emit("autoplay-resume")},doAutoplay(){clearTimeout(this.autoplayTimer),this.autoplayTimer=setTimeout(()=>{this.goToSlide(this.slides.current+this.conf.slideMultiple,{autoPlaying:!0})},this.currentSlide.duration||this.conf.duration)},previous(t=!0){t&&this.emit("previous"),this.goToSlide(this.slides.current-this.conf.slideMultiple)},next(t=!0){t&&this.emit("next"),this.goToSlide(this.slides.current+this.conf.slideMultiple)},refreshParallax(){setTimeout(()=>{this.onResize(),this.onScroll()},100)},getFirstVisibleSlide(t){const{slideMultiple:e,visibleSlides:i}=this.conf;let r=this.slides.current;return i>1&&e===i?r=Math.floor(t/i)*i:this.multipleSlides1by1&&(r=t-Math.min(t,this.preferredPosition)-Math.max(this.slidePosAfterPreferred,0)),r},getSlideInRange(t,e){let i=!1;this.conf.infinite&&t===-1?i=0:this.conf.infinite&&t===this.slidesCount&&(i=1);let r=(t+this.slidesCount)%this.slidesCount;if(this.conf.slideMultiple>1){const n=this.slidesCount%this.conf.slideMultiple||this.conf.slideMultiple,s=this.conf.slideMultiple-n;r+=t<0?s:0,r=this.getFirstVisibleSlide(r)}return this.conf.disableArrowsOnEdges&&(t<0||t>this.slidesCount-1)&&!e&&(r=this.slides.current),{nextSlide:r,clone:i}},goToSlide(t,{animation:e=!0,autoPlaying:i=!1,jumping:r=!1,breakpointChange:n=!1,emit:s=!0}={}){if(!this.slidesCount||this.disable)return;this.conf.autoplay&&!i&&!this.isPaused&&(this.isPaused=!0,this.$nextTick(()=>this.isPaused=!1)),this.transition.animated=e,setTimeout(()=>this.transition.animated=!1,this.transitionSpeed);const{nextSlide:a,clone:o}=this.getSlideInRange(t,i);if(this.nextSlideIsClone=o,!this.slides.list[a])return;if(this.conf.lazy)for(let l=0;l<this.conf.visibleSlides;l++){const c=this.slides.list[a+l];c&&!c.loaded&&this.loadSlide(c,a+l)}this.isReady&&!r&&s&&this.emit("before-slide",!0,a);const u=this.slides.list[a];if(this.isReady&&u.video){const l=this.slides.list[this.slides.current];l.video&&l.video.pause(),u.video.play()}if(o!==!1&&setTimeout(()=>{const l=t===-1&&this.slides.current!==this.slidesCount-1,c=t===this.slidesCount&&this.slides.current!==0;l||c||(this.transition.speed=0,this.goToSlide(o?0:this.slidesCount-1,{animation:!1,jumping:!0}),setTimeout(()=>this.transition.speed=this.conf.transitionSpeed,50))},this.transition.speed-50),this.slides.current=a,this.slides.firstVisible=this.getFirstVisibleSlide(a),n||(this.slides.focus=a),this.conf.fade||this.updateTrackTranslation(),this.slides.activeId=this.slides.list[this.slides.current].id,this.conf.autoplay&&i&&!this.isPaused&&this.doAutoplay(),this.slidesCount&&(this.isReady&&!r&&s&&this.emit("slide"),this.isReady&&this.conf.bullets&&!i&&!r&&this.$refs.bullets)){const l=this.$refs.bullets.children,c=l&&l[this.slides.current/this.conf.slideMultiple];if(c&&c.nodeName.toLowerCase()==="button"){let f=document.documentElement;this.pageScrollingElement&&(f=document.querySelector(this.pageScrollingElement));const m=f.scrollTop;c.focus({preventScroll:!0}),f.scrollTop=m}}},addSlide(t){return this.slides.list.push(t),this.isReady&&this.slidesCount===1&&this.conf.autoplay&&this.isPaused&&(this.isPaused=!1),this.slidesCount},addClone(){return this.updateTrackTranslation(),this.slidesCount},updateSlide(t,e){let i=this.slides.list.find(r=>r.id===t);i&&(i=Object.assign(i,e))},removeSlide(t){const e=this.slides.list.findIndex(i=>i.id===t);e>-1&&(this.slides.list.splice(e,1),this.slidesCount&&t===this.slides.activeId&&this.goToSlide(e-1,{autoPlaying:!0})),this.slides.current>=this.slidesCount&&this.goToSlide(0,{autoPlaying:!0})},loadSlide(t,e){t.loadImage().then(i=>{const{image:r,style:n}=i;t.loaded=!0,t.image=r,t.style=n,this.$emit("image-loaded",this.getSlideData(e))},()=>{t.loaded=!1,this.$emit("image-failed",this.getSlideData(e))})},toggleTouchableOption(t){const{track:e}=this.$refs;if(!e)return;this.touchEnabled=t;const i="ontouchstart"in window;t?(this.$refs.track.addEventListener(i?"touchstart":"mousedown",this.onMouseDown,{passive:!this.preventYScroll}),document.addEventListener(i?"touchmove":"mousemove",this.onMouseMove,{passive:!this.preventYScroll}),document.addEventListener(i?"touchend":"mouseup",this.onMouseUp,{passive:!0})):this.removeEventListeners()},removeEventListeners(){const t="ontouchstart"in window;this.$refs.track.removeEventListener(t?"touchstart":"mousedown",this.onMouseDown,{passive:!this.preventYScroll}),document.removeEventListener(t?"touchmove":"mousemove",this.onMouseMove,{passive:!this.preventYScroll}),document.removeEventListener(t?"touchend":"mouseup",this.onMouseUp,{passive:!0})}},watch:{isPaused(t){this[t?"pauseAutoplay":"resumeAutoplay"]()},parallax(t){this[t?"enableParallax":"disableParallax"]()}},mounted(){this.init()},beforeUnmount(){this.removeEventListeners(),this.conf.parallax&&this.disableParallax(),window.removeEventListener("resize",this.onResize),document.removeEventListener("touchstart",t=>{this[this.$el.contains(t.target)?"onSlideshowTouch":"onOustideTouch"]()}),this.container.removeEventListener("mouseenter",this.onMouseEnter),this.container.removeEventListener("mouseleave",this.onMouseLeave)}},yg=pE(Dk,[["render",Rk]]);function Ik(t,e,i=2,r=-1,n=-2){const s=t.length+1,a=e.length+1,o=Array.from({length:s},()=>Array(a).fill(0));let u=0;for(let l=1;l<s;l++)for(let c=1;c<a;c++){const f=t[l-1]===e[c-1]?i:r,m=o[l-1][c-1]+f,h=o[l-1][c]+n,g=o[l][c-1]+n;o[l][c]=Math.max(0,m,h,g),u=Math.max(u,o[l][c])}return u}function Vd(t,e,i){var r=[];for(let a=0;a<e.length;a++){let o=e[a],u=0;for(let l=0;l<t.length;l++){let c=t[l],f=0,m=[o.name,...o.tags];for(let h=0;h<m.length;h++){let g=Ik(c,m[h]);f<g&&(f=g)}u+=f}r.push([u,o])}var n=0;r.sort(function(a,o){return n<a[0]&&(n=a[0]),n<o[0]&&(n=o[0]),o[0]-a[0]});var s=[];for(let a=0;a<r.length;a++)n*.8<r[a][0]&&i!=r[a][1].id&&s.push(r[a][1]);return s}var qr=[{id:1,name:"Warcraft",pic_src:"images/pic1.jpg",tags:["","","","","hot"],dsec:"brekr[owqke[qwdl[qw,eqw,e[;qw,e",movie_src:""},{id:5,name:"Warcraft 3",pic_src:"images/pic2.jpg",tags:["","","","","hot"],dsec:"brekr[owqke[qwdl[qw,eqw,e[;qw,e",movie_src:""},{id:2,name:"",pic_src:"images/pic1.jpg",tags:["","","romance"],dsec:"brekr[owqke[qwdl[qw,eqw,e[;qw,e",movie_src:""},{id:3,name:"",pic_src:"images/pic2.jpg",tags:["","","hot"],dsec:"brekr[owqke[qwdl[qw,eqw,e[;qw,e",movie_src:""},{id:6,name:"Tale of Acadia 2",pic_src:"images/pic3.jpg",tags:["","","","hot"],dsec:"brekr[owqke[qwdl[qw,eqw,e[;qw,e",movie_src:""},{id:4,name:"Tale of Acadia",pic_src:"images/pic2.jpg",tags:["","","","hot"],dsec:"brekr[owqke[qwdl[qw,eqw,e[;qw,e",movie_src:"",series:[[{name:" 1",pic_src:"images/pic1.jpg",dsec:"brahhhh 2321312321dsdqd"},{name:" 2",pic_src:"images/pic2.jpg",dsec:"brahhhh 2321312321dsdqd1"},{name:" 3",pic_src:"images/pic3.jpg",dsec:"brahhhh 2321312321dsdqd2"},{name:" 4",pic_src:"images/pic1.jpg",dsec:"brahhhh 2321312321dsdqd3"}],[{name:" 1",pic_src:"images/pic1.jpg",dsec:"brahhhh 2321312321dsdqd"},{name:" 2",pic_src:"images/pic2.jpg",dsec:"brahhhh 2321312321dsdqd1"},{name:" 3",pic_src:"images/pic3.jpg",dsec:"brahhhh 2321312321dsdqd2"},{name:" 4",pic_src:"images/pic1.jpg",dsec:"brahhhh 2321312321dsdqd3"}]]}];const kk={class:"vueperslide__content-wrapper"},Lk=["src"],Nk={class:"container",style:{position:"absolute"}},Fk={class:"row"},Mk={class:"col"},$k={align:"left",class:"movide-main-slde fade-in",style:{"padding-top":"2%","margin-left":"10%"}},jk={class:"movie-main-title",style:{"font-family":"noto",color:"#ffffff"}},Bk={class:"movie-main-dsec",style:{"font-family":"noto",color:"#ffffff","word-wrap":"break-word"}},Uk=["onClick"];console.log(new URL("../assets/images/pic1.jpg",import.meta.url));const Hk={props:{movie_type:{type:String,required:!0}},methods:{get_series_string(t){return t.series?"&ep=1&season=1":""}},created(){this.slides=Vd(["hot"],qr)}},qk=Object.assign(Hk,{__name:"main_movie_slide",setup(t){return(e,i)=>(ne(),ae("div",null,[rt(er(yg),{class:"no-shadow fade-in",style:{"mix-blend-mode":"darken"},"visible-slides":1,"slide-multiple":"","fixed-height":"500px","dragging-distance":100,breakpoints:{800:{visibleSlides:1,slideMultiple:2,fixedHeight:"400px"}},touchable:!0},{default:Ut(()=>[(ne(!0),ae(We,null,Pt(e.slides,(r,n)=>(ne(),Xt(er(qd),{key:n,style:"background-color: #000000;"},{content:Ut(()=>[X("div",kk,[X("img",{src:r.pic_src,style:{width:"100%",position:"relative",opacity:"0.5"},alt:""},null,8,Lk),X("div",Nk,[X("div",Fk,[X("div",Mk,[X("div",$k,[X("p",jk,je(r.name),1),X("div",Bk,je(r.dsec),1),i[0]||(i[0]=X("br",null,null,-1)),X("button",{type:"button",class:"btn btn-danger rounded shadow",style:{"background-color":"#8bc819","border-color":"#8bc819"},onClick:s=>this.$router.push("/videoplay?id="+r.id+e.get_series_string(r))},"Watch",8,Uk)])]),i[1]||(i[1]=X("div",{class:"col",style:{width:"50%"}},null,-1))])])])]),_:2},1024))),128))]),_:1})]))}}),Vk={class:"shadow",style:{"background-color":"#000000"}},Wk={align:"left",class:"fade-in",style:{"padding-top":"2%","margin-left":"10%"}},zk=["href"],Gk={class:"title-name",style:{"font-family":"noto",color:"#8bc819"}},Kk={style:{"margin-left":"5%","margin-right":"5%"}},Qk={class:"vueperslide__content-wrapper",style:{}},Xk=["href"],Yk=["src"],Jk={class:"loaded",style:{display:"none","font-family":"noto-regular",color:"#8bc819"}},Zk={props:{movie_type:{type:String,required:!0}},methods:{get_series_string(t){return t.series?"&ep=1&season=1":""}},created(){this.slides=Vd(this.movie_type.split(" "),qr)}},eL=Object.assign(Zk,{__name:"sub_movie_slide",setup(t){return(e,i)=>(ne(),ae("div",Vk,[X("div",Wk,[X("a",{href:"#/catalogue?movietype="+t.movie_type},[X("p",Gk,je(t.movie_type),1)],8,zk)]),X("div",Kk,[rt(er(yg),{class:"no-shadow fade-in","visible-slides":5,"slide-multiple":"","fixed-height":"400px","dragging-distance":100,breakpoints:{800:{visibleSlides:3,slideMultiple:2,fixedHeight:"300px"}},autoplay:"","bullets-outside":"",touchable:!0},{default:Ut(()=>[(ne(!0),ae(We,null,Pt(e.slides,(r,n)=>(ne(),Xt(er(qd),{key:n,style:"background-color: transparent;"},{content:Ut(()=>[X("div",Qk,[X("a",{href:"#/videoplay?id="+r.id+e.get_series_string(r)},[X("div",null,[X("img",{src:r.pic_src,draggable:"false",class:"rounded shadow loaded img-sub-movie",alt:"...",style:{display:"none"}},null,8,Yk)]),i[0]||(i[0]=X("br",null,null,-1)),X("div",Jk,je(r.name),1)],8,Xk)])]),_:2},1024))),128))]),_:1})])]))}}),tL={class:"input-group"},iL={class:"form-outline"},rL=["value"],nL={methods:{do_search(){let t=document.getElementById("form1").value;t&&(window.location.href="#/catalogue?search="+t)}}},sL=Object.assign(nL,{__name:"searchbar",setup(t){return(e,i)=>(ne(),ae("div",tL,[X("div",iL,[X("input",{type:"search",id:"form1",class:"form-control",placeholder:"Search",value:this.$route.query.search,onKeyup:i[0]||(i[0]=hn(r=>this.do_search(),["enter"]))},null,40,rL)]),X("button",{type:"button",class:"btn btn-primary",onClick:i[1]||(i[1]=r=>this.do_search()),style:{"background-color":"#8bc819","border-color":"#8bc819"}},i[2]||(i[2]=[X("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-search",viewBox:"0 0 20 20"},[X("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"})],-1)]))]))}}),aL={id:"navbar-example2",class:"navbar sticky-top navbar-expand-lg",style:{"background-color":"#000000"}},oL={class:"container-fluid"},uL={class:"collapse navbar-collapse justify-content-center",id:"navbarCenteredExample"},lL={class:"navbar-nav mb-2 mb-lg-0"},cL={class:"nav-item"},dL=["href"],hL={class:"navbar-brand"},fL={methods:{to_page(t){}}},pL=Object.assign(fL,{__name:"header",setup(t){const e=[{name:""},{name:""},{name:""},{name:""}];return(i,r)=>(ne(),ae("nav",aL,[X("div",oL,[r[1]||(r[1]=X("button",{class:"navbar-toggler",type:"button",style:{"background-color":"#8bc819"},"data-bs-toggle":"collapse","data-bs-target":"#navbarCenteredExample","aria-controls":"navbarCenteredExample","aria-expanded":"false","aria-label":"Toggle navigation"},[X("span",{class:"navbar-toggler-icon"})],-1)),X("div",uL,[X("ul",lL,[r[0]||(r[0]=X("li",{class:"nav-item"},[X("a",{class:"nav-link","aria-current":"page",href:"#/",style:{"font-family":"noto-regular","font-size":"20px",color:"#8bc819"}},"")],-1)),(ne(),ae(We,null,Pt(e,n=>X("li",cL,[X("a",{class:"nav-link","aria-current":"page",href:"#/catalogue?movietype="+n.name,style:{"font-family":"noto-regular","font-size":"20px",color:"#8bc819"}},je(n.name),9,dL)])),64))])]),X("div",hL,[rt(sL)])])]))}}),mL={mounted(){this.array_l=Array.from(document.getElementsByClassName("loaded")),this.array_l_ing=Array.from(document.getElementsByClassName("loading"));for(let t in this.array_l_ing)this.array_l_ing[t].style.display="none";for(let t in this.array_l)this.array_l[t].style.display="inline-block"}},vg=Object.assign(mL,{__name:"mainpage",setup(t){return(e,i)=>(ne(),ae(We,null,[X("head",null,[Re(e.$slots,"head")]),X("body",null,[rt(pL),Re(e.$slots,"body")])],64))}}),gL={style:{"background-color":"#000000",overflow:"auto"}},yL={__name:"homepage",setup(t){const e=["Fantasy","Military","Action","Romance"];return(i,r)=>(ne(),Xt(vg,null,{body:Ut(()=>[rt(qk),X("div",gL,[(ne(),ae(We,null,Pt(e,n=>rt(eL,{movie_type:n},null,8,["movie_type"])),64))])]),_:1}))}},vL={key:0,class:""},_L={style:{"margin-left":"5%","margin-right":"5%"}},bL={class:"vueperslide__content-wrapper",style:{}},SL=["href"],TL=["src"],EL={class:"loaded",style:{display:"none","font-family":"noto-regular",color:"#000"}},xL={props:{movie_type:{type:String,required:!0}},methods:{get_movie_by_id(t){for(let e=0;e<qr.length;e++)if(parseInt(t)==qr[e].id)return qr[e]},get_series_string(t){return t.series?"&ep=1&season=1":""}},created(){this.item=this.get_movie_by_id(this.$route.query.id),this.slides=Vd([this.item.name,...this.item.tags],qr,this.$route.query.id),console.log(this.slides)}},wL=Object.assign(xL,{__name:"other_videoes",setup(t){return(e,i)=>e.slides&&e.slides.length>0?(ne(),ae("div",vL,[i[1]||(i[1]=X("div",{id:"doctors",align:"left",class:"",style:{"padding-top":"2%","margin-left":"10%"}},[X("p",{class:"title-name",style:{"font-family":"noto-regular",color:"#000"}},"")],-1)),X("div",_L,[rt(er(yg),{class:"no-shadow","visible-slides":5,"slide-multiple":"","fixed-height":"400px","dragging-distance":100,bullets:!1,breakpoints:{800:{visibleSlides:3,slideMultiple:2,fixedHeight:"300px"}},autoplay:"",touchable:!0},{default:Ut(()=>[(ne(!0),ae(We,null,Pt(e.slides,(r,n)=>(ne(),Xt(er(qd),{key:n,style:"background-color: transparent;"},{content:Ut(()=>[X("div",bL,[X("a",{href:"#/videoplay?id="+r.id+e.get_series_string(r)},[X("div",null,[X("img",{src:r.pic_src,draggable:"false",class:"rounded shadow loaded other-vid-img",alt:"...",style:{display:"none"}},null,8,TL)]),i[0]||(i[0]=X("br",null,null,-1)),X("div",EL,je(r.name),1)],8,SL)])]),_:2},1024))),128))]),_:1})])])):Le("",!0)}});var td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function os(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function CL(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var i=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(i,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),i}var Yh,p0;function Wd(){if(p0)return Yh;p0=1;var t;return typeof window<"u"?t=window:typeof td<"u"?t=td:typeof self<"u"?t=self:t={},Yh=t,Yh}var AL=Wd();const q=os(AL),PL={},OL=Object.freeze(Object.defineProperty({__proto__:null,default:PL},Symbol.toStringTag,{value:"Module"})),RL=CL(OL);var Jh,m0;function mE(){if(m0)return Jh;m0=1;var t=typeof td<"u"?td:typeof window<"u"?window:{},e=RL,i;return typeof document<"u"?i=document:(i=t["__GLOBAL_DOCUMENT_CACHE@4"],i||(i=t["__GLOBAL_DOCUMENT_CACHE@4"]=e)),Jh=i,Jh}var DL=mE();const we=os(DL);var uc={exports:{}},Zh={exports:{}},g0;function IL(){return g0||(g0=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)({}).hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Zh)),Zh.exports}var ef,y0;function kL(){if(y0)return ef;y0=1,ef=e;var t=Object.prototype.toString;function e(i){if(!i)return!1;var r=t.call(i);return r==="[object Function]"||typeof i=="function"&&r!=="[object RegExp]"||typeof window<"u"&&(i===window.setTimeout||i===window.alert||i===window.confirm||i===window.prompt)}return ef}var tf,v0;function LL(){if(v0)return tf;v0=1;function t(n,s){var a=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a)return(a=a.call(n)).next.bind(a);if(Array.isArray(n)||(a=e(n))||s){a&&(n=a);var o=0;return function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e(n,s){if(n){if(typeof n=="string")return i(n,s);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return i(n,s)}}function i(n,s){(s==null||s>n.length)&&(s=n.length);for(var a=0,o=new Array(s);a<s;a++)o[a]=n[a];return o}var r=function(){function n(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var s=n.prototype;return s.getIsEnabled=function(){return this.enabled_},s.enable=function(){this.enabled_=!0},s.disable=function(){this.enabled_=!1},s.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},s.addInterceptor=function(o,u){this.typeToInterceptorsMap_.has(o)||this.typeToInterceptorsMap_.set(o,new Set);var l=this.typeToInterceptorsMap_.get(o);return l.has(u)?!1:(l.add(u),!0)},s.removeInterceptor=function(o,u){var l=this.typeToInterceptorsMap_.get(o);return l&&l.has(u)?(l.delete(u),!0):!1},s.clearInterceptorsByType=function(o){var u=this.typeToInterceptorsMap_.get(o);return u?(this.typeToInterceptorsMap_.delete(o),this.typeToInterceptorsMap_.set(o,new Set),!0):!1},s.clear=function(){return this.typeToInterceptorsMap_.size?(this.typeToInterceptorsMap_=new Map,!0):!1},s.getForType=function(o){return this.typeToInterceptorsMap_.get(o)||new Set},s.execute=function(o,u){for(var l=this.getForType(o),c=t(l),f;!(f=c()).done;){var m=f.value;try{u=m(u)}catch{}}return u},n}();return tf=r,tf}var rf,_0;function NL(){if(_0)return rf;_0=1;var t=function(){function i(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var r=i.prototype;return r.getIsEnabled=function(){return this.enabled_},r.enable=function(){this.enabled_=!0},r.disable=function(){this.enabled_=!1},r.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},r.getMaxAttempts=function(){return this.maxAttempts_},r.setMaxAttempts=function(s){this.maxAttempts_=s},r.getDelayFactor=function(){return this.delayFactor_},r.setDelayFactor=function(s){this.delayFactor_=s},r.getFuzzFactor=function(){return this.fuzzFactor_},r.setFuzzFactor=function(s){this.fuzzFactor_=s},r.getInitialDelay=function(){return this.initialDelay_},r.setInitialDelay=function(s){this.initialDelay_=s},r.createRetry=function(s){var a=s===void 0?{}:s,o=a.maxAttempts,u=a.delayFactor,l=a.fuzzFactor,c=a.initialDelay;return new e({maxAttempts:o||this.maxAttempts_,delayFactor:u||this.delayFactor_,fuzzFactor:l||this.fuzzFactor_,initialDelay:c||this.initialDelay_})},i}(),e=function(){function i(n){this.maxAttempts_=n.maxAttempts,this.delayFactor_=n.delayFactor,this.fuzzFactor_=n.fuzzFactor,this.currentDelay_=n.initialDelay,this.currentAttempt_=1}var r=i.prototype;return r.moveToNextAttempt=function(){this.currentAttempt_++;var s=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+s},r.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},r.getCurrentDelay=function(){return this.currentDelay_},r.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},r.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},r.getCurrentFuzzedDelay=function(){var s=this.getCurrentMinPossibleDelay(),a=this.getCurrentMaxPossibleDelay();return s+Math.random()*(a-s)},i}();return rf=t,rf}var nf,b0;function FL(){if(b0)return nf;b0=1;var t=Wd(),e=function(n,s){return s===void 0&&(s=!1),function(a,o,u){if(a){n(a);return}if(o.statusCode>=400&&o.statusCode<=599){var l=u;if(s)if(t.TextDecoder){var c=i(o.headers&&o.headers["content-type"]);try{l=new TextDecoder(c).decode(u)}catch{}}else l=String.fromCharCode.apply(null,new Uint8Array(u));n({cause:l});return}n(null,u)}};function i(r){return r===void 0&&(r=""),r.toLowerCase().split(";").reduce(function(n,s){var a=s.split("="),o=a[0],u=a[1];return o.trim()==="charset"?u.trim():n},"utf-8")}return nf=e,nf}var S0;function ML(){if(S0)return uc.exports;S0=1;var t=Wd(),e=IL(),i=kL(),r=LL(),n=NL();l.httpHandler=FL(),l.requestInterceptorsStorage=new r,l.responseInterceptorsStorage=new r,l.retryManager=new n;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var s=function(g){var p={};return g&&g.trim().split(`
`).forEach(function(_){var y=_.indexOf(":"),T=_.slice(0,y).trim().toLowerCase(),E=_.slice(y+1).trim();typeof p[T]>"u"?p[T]=E:Array.isArray(p[T])?p[T].push(E):p[T]=[p[T],E]}),p};uc.exports=l,uc.exports.default=l,l.XMLHttpRequest=t.XMLHttpRequest||m,l.XDomainRequest="withCredentials"in new l.XMLHttpRequest?l.XMLHttpRequest:t.XDomainRequest,a(["get","put","post","patch","head","delete"],function(h){l[h==="delete"?"del":h]=function(g,p,_){return p=u(g,p,_),p.method=h.toUpperCase(),c(p)}});function a(h,g){for(var p=0;p<h.length;p++)g(h[p])}function o(h){for(var g in h)if(h.hasOwnProperty(g))return!1;return!0}function u(h,g,p){var _=h;return i(g)?(p=g,typeof h=="string"&&(_={uri:h})):_=e({},g,{uri:h}),_.callback=p,_}function l(h,g,p){return g=u(h,g,p),c(g)}function c(h){if(typeof h.callback>"u")throw new Error("callback argument missing");if(h.requestType&&l.requestInterceptorsStorage.getIsEnabled()){var g={uri:h.uri||h.url,headers:h.headers||{},body:h.body,metadata:h.metadata||{},retry:h.retry,timeout:h.timeout},p=l.requestInterceptorsStorage.execute(h.requestType,g);h.uri=p.uri,h.headers=p.headers,h.body=p.body,h.metadata=p.metadata,h.retry=p.retry,h.timeout=p.timeout}var _=!1,y=function(W,G,Y){_||(_=!0,h.callback(W,G,Y))};function T(){I.readyState===4&&!l.responseInterceptorsStorage.getIsEnabled()&&setTimeout(R,0)}function E(){var H=void 0;if(I.response?H=I.response:H=I.responseText||f(I),Q)try{H=JSON.parse(H)}catch{}return H}function C(H){if(clearTimeout(Z),clearTimeout(h.retryTimeout),H instanceof Error||(H=new Error(""+(H||"Unknown XMLHttpRequest Error"))),H.statusCode=0,!O&&l.retryManager.getIsEnabled()&&h.retry&&h.retry.shouldRetry()){h.retryTimeout=setTimeout(function(){h.retry.moveToNextAttempt(),h.xhr=I,c(h)},h.retry.getCurrentFuzzedDelay());return}if(h.requestType&&l.responseInterceptorsStorage.getIsEnabled()){var W={headers:J.headers||{},body:J.body,responseUrl:I.responseURL,responseType:I.responseType},G=l.responseInterceptorsStorage.execute(h.requestType,W);J.body=G.body,J.headers=G.headers}return y(H,J)}function R(){if(!O){var H;clearTimeout(Z),clearTimeout(h.retryTimeout),h.useXDR&&I.status===void 0?H=200:H=I.status===1223?204:I.status;var W=J,G=null;if(H!==0?(W={body:E(),statusCode:H,method:P,headers:{},url:w,rawRequest:I},I.getAllResponseHeaders&&(W.headers=s(I.getAllResponseHeaders()))):G=new Error("Internal XMLHttpRequest Error"),h.requestType&&l.responseInterceptorsStorage.getIsEnabled()){var Y={headers:W.headers||{},body:W.body,responseUrl:I.responseURL,responseType:I.responseType},ie=l.responseInterceptorsStorage.execute(h.requestType,Y);W.body=ie.body,W.headers=ie.headers}return y(G,W,W.body)}}var I=h.xhr||null;I||(h.cors||h.useXDR?I=new l.XDomainRequest:I=new l.XMLHttpRequest);var D,O,w=I.url=h.uri||h.url,P=I.method=h.method||"GET",L=h.body||h.data,M=I.headers=h.headers||{},j=!!h.sync,Q=!1,Z,J={body:void 0,headers:{},statusCode:0,method:P,url:w,rawRequest:I};if("json"in h&&h.json!==!1&&(Q=!0,M.accept||M.Accept||(M.Accept="application/json"),P!=="GET"&&P!=="HEAD"&&(M["content-type"]||M["Content-Type"]||(M["Content-Type"]="application/json"),L=JSON.stringify(h.json===!0?L:h.json))),I.onreadystatechange=T,I.onload=R,I.onerror=C,I.onprogress=function(){},I.onabort=function(){O=!0,clearTimeout(h.retryTimeout)},I.ontimeout=C,I.open(P,w,!j,h.username,h.password),j||(I.withCredentials=!!h.withCredentials),!j&&h.timeout>0&&(Z=setTimeout(function(){if(!O){O=!0,I.abort("timeout");var H=new Error("XMLHttpRequest timeout");H.code="ETIMEDOUT",C(H)}},h.timeout)),I.setRequestHeader)for(D in M)M.hasOwnProperty(D)&&I.setRequestHeader(D,M[D]);else if(h.headers&&!o(h.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in h&&(I.responseType=h.responseType),"beforeSend"in h&&typeof h.beforeSend=="function"&&h.beforeSend(I),I.send(L||null),I}function f(h){try{if(h.responseType==="document")return h.responseXML;var g=h.responseXML&&h.responseXML.documentElement.nodeName==="parsererror";if(h.responseType===""&&!g)return h.responseXML}catch{}return null}function m(){}return uc.exports}var $L=ML();const gE=os($L);var sf={exports:{}},af,T0;function jL(){if(T0)return af;T0=1;var t=mE(),e=Object.create||function(){function w(){}return function(P){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return w.prototype=P,new w}}();function i(w,P){this.name="ParsingError",this.code=w.code,this.message=P||w.message}i.prototype=e(Error.prototype),i.prototype.constructor=i,i.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function r(w){function P(M,j,Q,Z){return(M|0)*3600+(j|0)*60+(Q|0)+(Z|0)/1e3}var L=w.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return L?L[3]?P(L[1],L[2],L[3].replace(":",""),L[4]):L[1]>59?P(L[1],L[2],0,L[4]):P(0,L[1],L[2],L[4]):null}function n(){this.values=e(null)}n.prototype={set:function(w,P){!this.get(w)&&P!==""&&(this.values[w]=P)},get:function(w,P,L){return L?this.has(w)?this.values[w]:P[L]:this.has(w)?this.values[w]:P},has:function(w){return w in this.values},alt:function(w,P,L){for(var M=0;M<L.length;++M)if(P===L[M]){this.set(w,P);break}},integer:function(w,P){/^-?\d+$/.test(P)&&this.set(w,parseInt(P,10))},percent:function(w,P){return P.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(P=parseFloat(P),P>=0&&P<=100)?(this.set(w,P),!0):!1}};function s(w,P,L,M){var j=M?w.split(M):[w];for(var Q in j)if(typeof j[Q]=="string"){var Z=j[Q].split(L);if(Z.length===2){var J=Z[0].trim(),H=Z[1].trim();P(J,H)}}}function a(w,P,L){var M=w;function j(){var J=r(w);if(J===null)throw new i(i.Errors.BadTimeStamp,"Malformed timestamp: "+M);return w=w.replace(/^[^\sa-zA-Z-]+/,""),J}function Q(J,H){var W=new n;s(J,function(G,Y){switch(G){case"region":for(var ie=L.length-1;ie>=0;ie--)if(L[ie].id===Y){W.set(G,L[ie].region);break}break;case"vertical":W.alt(G,Y,["rl","lr"]);break;case"line":var me=Y.split(","),Te=me[0];W.integer(G,Te),W.percent(G,Te)&&W.set("snapToLines",!1),W.alt(G,Te,["auto"]),me.length===2&&W.alt("lineAlign",me[1],["start","center","end"]);break;case"position":me=Y.split(","),W.percent(G,me[0]),me.length===2&&W.alt("positionAlign",me[1],["start","center","end"]);break;case"size":W.percent(G,Y);break;case"align":W.alt(G,Y,["start","center","end","left","right"]);break}},/:/,/\s/),H.region=W.get("region",null),H.vertical=W.get("vertical","");try{H.line=W.get("line","auto")}catch{}H.lineAlign=W.get("lineAlign","start"),H.snapToLines=W.get("snapToLines",!0),H.size=W.get("size",100);try{H.align=W.get("align","center")}catch{H.align=W.get("align","middle")}try{H.position=W.get("position","auto")}catch{H.position=W.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},H.align)}H.positionAlign=W.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},H.align)}function Z(){w=w.replace(/^\s+/,"")}if(Z(),P.startTime=j(),Z(),w.substr(0,3)!=="-->")throw new i(i.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+M);w=w.substr(3),Z(),P.endTime=j(),Z(),Q(w,P)}var o=t.createElement&&t.createElement("textarea"),u={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},l={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},c={v:"title",lang:"lang"},f={rt:"ruby"};function m(w,P){function L(){if(!P)return null;function Te(ge){return P=P.substr(ge.length),ge}var Ce=P.match(/^([^<]*)(<[^>]*>?)?/);return Te(Ce[1]?Ce[1]:Ce[2])}function M(Te){return o.innerHTML=Te,Te=o.textContent,o.textContent="",Te}function j(Te,Ce){return!f[Ce.localName]||f[Ce.localName]===Te.localName}function Q(Te,Ce){var ge=u[Te];if(!ge)return null;var Oe=w.document.createElement(ge),re=c[Te];return re&&Ce&&(Oe[re]=Ce.trim()),Oe}for(var Z=w.document.createElement("div"),J=Z,H,W=[];(H=L())!==null;){if(H[0]==="<"){if(H[1]==="/"){W.length&&W[W.length-1]===H.substr(2).replace(">","")&&(W.pop(),J=J.parentNode);continue}var G=r(H.substr(1,H.length-2)),Y;if(G){Y=w.document.createProcessingInstruction("timestamp",G),J.appendChild(Y);continue}var ie=H.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!ie||(Y=Q(ie[1],ie[3]),!Y)||!j(J,Y))continue;if(ie[2]){var me=ie[2].split(".");me.forEach(function(Te){var Ce=/^bg_/.test(Te),ge=Ce?Te.slice(3):Te;if(l.hasOwnProperty(ge)){var Oe=Ce?"background-color":"color",re=l[ge];Y.style[Oe]=re}}),Y.className=me.join(" ")}W.push(ie[1]),J.appendChild(Y),J=Y;continue}J.appendChild(w.document.createTextNode(M(H)))}return Z}var h=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function g(w){for(var P=0;P<h.length;P++){var L=h[P];if(w>=L[0]&&w<=L[1])return!0}return!1}function p(w){var P=[],L="",M;if(!w||!w.childNodes)return"ltr";function j(J,H){for(var W=H.childNodes.length-1;W>=0;W--)J.push(H.childNodes[W])}function Q(J){if(!J||!J.length)return null;var H=J.pop(),W=H.textContent||H.innerText;if(W){var G=W.match(/^.*(\n|\r)/);return G?(J.length=0,G[0]):W}if(H.tagName==="ruby")return Q(J);if(H.childNodes)return j(J,H),Q(J)}for(j(P,w);L=Q(P);)for(var Z=0;Z<L.length;Z++)if(M=L.charCodeAt(Z),g(M))return"rtl";return"ltr"}function _(w){if(typeof w.line=="number"&&(w.snapToLines||w.line>=0&&w.line<=100))return w.line;if(!w.track||!w.track.textTrackList||!w.track.textTrackList.mediaElement)return-1;for(var P=w.track,L=P.textTrackList,M=0,j=0;j<L.length&&L[j]!==P;j++)L[j].mode==="showing"&&M++;return++M*-1}function y(){}y.prototype.applyStyles=function(w,P){P=P||this.div;for(var L in w)w.hasOwnProperty(L)&&(P.style[L]=w[L])},y.prototype.formatStyle=function(w,P){return w===0?0:w+P};function T(w,P,L){y.call(this),this.cue=P,this.cueDiv=m(w,P.text);var M={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:P.vertical===""?"horizontal-tb":P.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(M,this.cueDiv),this.div=w.document.createElement("div"),M={direction:p(this.cueDiv),writingMode:P.vertical===""?"horizontal-tb":P.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:P.align==="middle"?"center":P.align,font:L.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(M),this.div.appendChild(this.cueDiv);var j=0;switch(P.positionAlign){case"start":case"line-left":j=P.position;break;case"center":j=P.position-P.size/2;break;case"end":case"line-right":j=P.position-P.size;break}P.vertical===""?this.applyStyles({left:this.formatStyle(j,"%"),width:this.formatStyle(P.size,"%")}):this.applyStyles({top:this.formatStyle(j,"%"),height:this.formatStyle(P.size,"%")}),this.move=function(Q){this.applyStyles({top:this.formatStyle(Q.top,"px"),bottom:this.formatStyle(Q.bottom,"px"),left:this.formatStyle(Q.left,"px"),right:this.formatStyle(Q.right,"px"),height:this.formatStyle(Q.height,"px"),width:this.formatStyle(Q.width,"px")})}}T.prototype=e(y.prototype),T.prototype.constructor=T;function E(w){var P,L,M,j;if(w.div){L=w.div.offsetHeight,M=w.div.offsetWidth,j=w.div.offsetTop;var Q=(Q=w.div.childNodes)&&(Q=Q[0])&&Q.getClientRects&&Q.getClientRects();w=w.div.getBoundingClientRect(),P=Q?Math.max(Q[0]&&Q[0].height||0,w.height/Q.length):0}this.left=w.left,this.right=w.right,this.top=w.top||j,this.height=w.height||L,this.bottom=w.bottom||j+(w.height||L),this.width=w.width||M,this.lineHeight=P!==void 0?P:w.lineHeight}E.prototype.move=function(w,P){switch(P=P!==void 0?P:this.lineHeight,w){case"+x":this.left+=P,this.right+=P;break;case"-x":this.left-=P,this.right-=P;break;case"+y":this.top+=P,this.bottom+=P;break;case"-y":this.top-=P,this.bottom-=P;break}},E.prototype.overlaps=function(w){return this.left<w.right&&this.right>w.left&&this.top<w.bottom&&this.bottom>w.top},E.prototype.overlapsAny=function(w){for(var P=0;P<w.length;P++)if(this.overlaps(w[P]))return!0;return!1},E.prototype.within=function(w){return this.top>=w.top&&this.bottom<=w.bottom&&this.left>=w.left&&this.right<=w.right},E.prototype.overlapsOppositeAxis=function(w,P){switch(P){case"+x":return this.left<w.left;case"-x":return this.right>w.right;case"+y":return this.top<w.top;case"-y":return this.bottom>w.bottom}},E.prototype.intersectPercentage=function(w){var P=Math.max(0,Math.min(this.right,w.right)-Math.max(this.left,w.left)),L=Math.max(0,Math.min(this.bottom,w.bottom)-Math.max(this.top,w.top)),M=P*L;return M/(this.height*this.width)},E.prototype.toCSSCompatValues=function(w){return{top:this.top-w.top,bottom:w.bottom-this.bottom,left:this.left-w.left,right:w.right-this.right,height:this.height,width:this.width}},E.getSimpleBoxPosition=function(w){var P=w.div?w.div.offsetHeight:w.tagName?w.offsetHeight:0,L=w.div?w.div.offsetWidth:w.tagName?w.offsetWidth:0,M=w.div?w.div.offsetTop:w.tagName?w.offsetTop:0;w=w.div?w.div.getBoundingClientRect():w.tagName?w.getBoundingClientRect():w;var j={left:w.left,right:w.right,top:w.top||M,height:w.height||P,bottom:w.bottom||M+(w.height||P),width:w.width||L};return j};function C(w,P,L,M){function j(ge,Oe){for(var re,ce=new E(ge),_e=1,Ee=0;Ee<Oe.length;Ee++){for(;ge.overlapsOppositeAxis(L,Oe[Ee])||ge.within(L)&&ge.overlapsAny(M);)ge.move(Oe[Ee]);if(ge.within(L))return ge;var Fe=ge.intersectPercentage(L);_e>Fe&&(re=new E(ge),_e=Fe),ge=new E(ce)}return re||ce}var Q=new E(P),Z=P.cue,J=_(Z),H=[];if(Z.snapToLines){var W;switch(Z.vertical){case"":H=["+y","-y"],W="height";break;case"rl":H=["+x","-x"],W="width";break;case"lr":H=["-x","+x"],W="width";break}var G=Q.lineHeight,Y=G*Math.round(J),ie=L[W]+G,me=H[0];Math.abs(Y)>ie&&(Y=Y<0?-1:1,Y*=Math.ceil(ie/G)*G),J<0&&(Y+=Z.vertical===""?L.height:L.width,H=H.reverse()),Q.move(me,Y)}else{var Te=Q.lineHeight/L.height*100;switch(Z.lineAlign){case"center":J-=Te/2;break;case"end":J-=Te;break}switch(Z.vertical){case"":P.applyStyles({top:P.formatStyle(J,"%")});break;case"rl":P.applyStyles({left:P.formatStyle(J,"%")});break;case"lr":P.applyStyles({right:P.formatStyle(J,"%")});break}H=["+y","-x","+x","-y"],Q=new E(P)}var Ce=j(Q,H);P.move(Ce.toCSSCompatValues(L))}function R(){}R.StringDecoder=function(){return{decode:function(w){if(!w)return"";if(typeof w!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(w))}}},R.convertCueToDOMTree=function(w,P){return!w||!P?null:m(w,P)};var I=.05,D="sans-serif",O="1.5%";return R.processCues=function(w,P,L){if(!w||!P||!L)return null;for(;L.firstChild;)L.removeChild(L.firstChild);var M=w.document.createElement("div");M.style.position="absolute",M.style.left="0",M.style.right="0",M.style.top="0",M.style.bottom="0",M.style.margin=O,L.appendChild(M);function j(G){for(var Y=0;Y<G.length;Y++)if(G[Y].hasBeenReset||!G[Y].displayState)return!0;return!1}if(!j(P)){for(var Q=0;Q<P.length;Q++)M.appendChild(P[Q].displayState);return}var Z=[],J=E.getSimpleBoxPosition(M),H=Math.round(J.height*I*100)/100,W={font:H+"px "+D};(function(){for(var G,Y,ie=0;ie<P.length;ie++)Y=P[ie],G=new T(w,Y,W),M.appendChild(G.div),C(w,G,J,Z),Y.displayState=G.div,Z.push(E.getSimpleBoxPosition(G))})()},R.Parser=function(w,P,L){L||(L=P,P={}),P||(P={}),this.window=w,this.vttjs=P,this.state="INITIAL",this.buffer="",this.decoder=L||new TextDecoder("utf8"),this.regionList=[]},R.Parser.prototype={reportOrThrowError:function(w){if(w instanceof i)this.onparsingerror&&this.onparsingerror(w);else throw w},parse:function(w){var P=this;w&&(P.buffer+=P.decoder.decode(w,{stream:!0}));function L(){for(var G=P.buffer,Y=0;Y<G.length&&G[Y]!=="\r"&&G[Y]!==`
`;)++Y;var ie=G.substr(0,Y);return G[Y]==="\r"&&++Y,G[Y]===`
`&&++Y,P.buffer=G.substr(Y),ie}function M(G){var Y=new n;if(s(G,function(me,Te){switch(me){case"id":Y.set(me,Te);break;case"width":Y.percent(me,Te);break;case"lines":Y.integer(me,Te);break;case"regionanchor":case"viewportanchor":var Ce=Te.split(",");if(Ce.length!==2)break;var ge=new n;if(ge.percent("x",Ce[0]),ge.percent("y",Ce[1]),!ge.has("x")||!ge.has("y"))break;Y.set(me+"X",ge.get("x")),Y.set(me+"Y",ge.get("y"));break;case"scroll":Y.alt(me,Te,["up"]);break}},/=/,/\s/),Y.has("id")){var ie=new(P.vttjs.VTTRegion||P.window.VTTRegion);ie.width=Y.get("width",100),ie.lines=Y.get("lines",3),ie.regionAnchorX=Y.get("regionanchorX",0),ie.regionAnchorY=Y.get("regionanchorY",100),ie.viewportAnchorX=Y.get("viewportanchorX",0),ie.viewportAnchorY=Y.get("viewportanchorY",100),ie.scroll=Y.get("scroll",""),P.onregion&&P.onregion(ie),P.regionList.push({id:Y.get("id"),region:ie})}}function j(G){var Y=new n;s(G,function(ie,me){switch(ie){case"MPEGT":Y.integer(ie+"S",me);break;case"LOCA":Y.set(ie+"L",r(me));break}},/[^\d]:/,/,/),P.ontimestampmap&&P.ontimestampmap({MPEGTS:Y.get("MPEGTS"),LOCAL:Y.get("LOCAL")})}function Q(G){G.match(/X-TIMESTAMP-MAP/)?s(G,function(Y,ie){switch(Y){case"X-TIMESTAMP-MAP":j(ie);break}},/=/):s(G,function(Y,ie){switch(Y){case"Region":M(ie);break}},/:/)}try{var Z;if(P.state==="INITIAL"){if(!/\r\n|\n/.test(P.buffer))return this;Z=L();var J=Z.match(/^WEBVTT([ \t].*)?$/);if(!J||!J[0])throw new i(i.Errors.BadSignature);P.state="HEADER"}for(var H=!1;P.buffer;){if(!/\r\n|\n/.test(P.buffer))return this;switch(H?H=!1:Z=L(),P.state){case"HEADER":/:/.test(Z)?Q(Z):Z||(P.state="ID");continue;case"NOTE":Z||(P.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(Z)){P.state="NOTE";break}if(!Z)continue;P.cue=new(P.vttjs.VTTCue||P.window.VTTCue)(0,0,"");try{P.cue.align="center"}catch{P.cue.align="middle"}if(P.state="CUE",Z.indexOf("-->")===-1){P.cue.id=Z;continue}case"CUE":try{a(Z,P.cue,P.regionList)}catch(G){P.reportOrThrowError(G),P.cue=null,P.state="BADCUE";continue}P.state="CUETEXT";continue;case"CUETEXT":var W=Z.indexOf("-->")!==-1;if(!Z||W&&(H=!0)){P.oncue&&P.oncue(P.cue),P.cue=null,P.state="ID";continue}P.cue.text&&(P.cue.text+=`
`),P.cue.text+=Z.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":Z||(P.state="ID");continue}}}catch(G){P.reportOrThrowError(G),P.state==="CUETEXT"&&P.cue&&P.oncue&&P.oncue(P.cue),P.cue=null,P.state=P.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var w=this;try{if(w.buffer+=w.decoder.decode(),(w.cue||w.state==="HEADER")&&(w.buffer+=`

`,w.parse()),w.state==="INITIAL")throw new i(i.Errors.BadSignature)}catch(P){w.reportOrThrowError(P)}return w.onflush&&w.onflush(),this}},af=R,af}var of,E0;function BL(){if(E0)return of;E0=1;var t="auto",e={"":1,lr:1,rl:1},i={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function r(a){if(typeof a!="string")return!1;var o=e[a.toLowerCase()];return o?a.toLowerCase():!1}function n(a){if(typeof a!="string")return!1;var o=i[a.toLowerCase()];return o?a.toLowerCase():!1}function s(a,o,u){this.hasBeenReset=!1;var l="",c=!1,f=a,m=o,h=u,g=null,p="",_=!0,y="auto",T="start",E="auto",C="auto",R=100,I="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return l},set:function(D){l=""+D}},pauseOnExit:{enumerable:!0,get:function(){return c},set:function(D){c=!!D}},startTime:{enumerable:!0,get:function(){return f},set:function(D){if(typeof D!="number")throw new TypeError("Start time must be set to a number.");f=D,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return m},set:function(D){if(typeof D!="number")throw new TypeError("End time must be set to a number.");m=D,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return h},set:function(D){h=""+D,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return g},set:function(D){g=D,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return p},set:function(D){var O=r(D);if(O===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");p=O,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return _},set:function(D){_=!!D,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return y},set:function(D){if(typeof D!="number"&&D!==t)throw new SyntaxError("Line: an invalid number or illegal string was specified.");y=D,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return T},set:function(D){var O=n(D);O?(T=O,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return E},set:function(D){if(D<0||D>100)throw new Error("Position must be between 0 and 100.");E=D,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return C},set:function(D){var O=n(D);O?(C=O,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return R},set:function(D){if(D<0||D>100)throw new Error("Size must be between 0 and 100.");R=D,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return I},set:function(D){var O=n(D);if(!O)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");I=O,this.hasBeenReset=!0}}}),this.displayState=void 0}return s.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},of=s,of}var uf,x0;function UL(){if(x0)return uf;x0=1;var t={"":!0,up:!0};function e(n){if(typeof n!="string")return!1;var s=t[n.toLowerCase()];return s?n.toLowerCase():!1}function i(n){return typeof n=="number"&&n>=0&&n<=100}function r(){var n=100,s=3,a=0,o=100,u=0,l=100,c="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return n},set:function(f){if(!i(f))throw new Error("Width must be between 0 and 100.");n=f}},lines:{enumerable:!0,get:function(){return s},set:function(f){if(typeof f!="number")throw new TypeError("Lines must be set to a number.");s=f}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(f){if(!i(f))throw new Error("RegionAnchorX must be between 0 and 100.");o=f}},regionAnchorX:{enumerable:!0,get:function(){return a},set:function(f){if(!i(f))throw new Error("RegionAnchorY must be between 0 and 100.");a=f}},viewportAnchorY:{enumerable:!0,get:function(){return l},set:function(f){if(!i(f))throw new Error("ViewportAnchorY must be between 0 and 100.");l=f}},viewportAnchorX:{enumerable:!0,get:function(){return u},set:function(f){if(!i(f))throw new Error("ViewportAnchorX must be between 0 and 100.");u=f}},scroll:{enumerable:!0,get:function(){return c},set:function(f){var m=e(f);m===!1?console.warn("Scroll: an invalid or illegal string was specified."):c=m}}})}return uf=r,uf}var w0;function HL(){if(w0)return sf.exports;w0=1;var t=Wd(),e=sf.exports={WebVTT:jL(),VTTCue:BL(),VTTRegion:UL()};t.vttjs=e,t.WebVTT=e.WebVTT;var i=e.VTTCue,r=e.VTTRegion,n=t.VTTCue,s=t.VTTRegion;return e.shim=function(){t.VTTCue=i,t.VTTRegion=r},e.restore=function(){t.VTTCue=n,t.VTTRegion=s},t.VTTCue||e.shim(),sf.exports}var qL=HL();const C0=os(qL);function Ot(){return Ot=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)({}).hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Ot.apply(null,arguments)}var A0="https://example.com",zd=function(e,i){if(/^[a-z]+:/i.test(i))return i;/^data:/.test(e)&&(e=q.location&&q.location.href||"");var r=/^\/\//.test(e),n=!q.location&&!/\/\//i.test(e);e=new q.URL(e,q.location||A0);var s=new URL(i,e);return n?s.href.slice(A0.length):r?s.href.slice(s.protocol.length):s.href},_g=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(r,n){this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push(n)},e.off=function(r,n){if(!this.listeners[r])return!1;var s=this.listeners[r].indexOf(n);return this.listeners[r]=this.listeners[r].slice(0),this.listeners[r].splice(s,1),s>-1},e.trigger=function(r){var n=this.listeners[r];if(n)if(arguments.length===2)for(var s=n.length,a=0;a<s;++a)n[a].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),u=n.length,l=0;l<u;++l)n[l].apply(this,o)},e.dispose=function(){this.listeners={}},e.pipe=function(r){this.on("data",function(n){r.push(n)})},t}(),VL=function(e){return q.atob?q.atob(e):Buffer.from(e,"base64").toString("binary")};function yE(t){for(var e=VL(t),i=new Uint8Array(e.length),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}/*! @name m3u8-parser @version 7.2.0 @license Apache-2.0 */class WL extends _g{constructor(){super(),this.buffer=""}push(e){let i;for(this.buffer+=e,i=this.buffer.indexOf(`
`);i>-1;i=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,i)),this.buffer=this.buffer.substring(i+1)}}const zL="	",lf=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),i={};return e[1]&&(i.length=parseInt(e[1],10)),e[2]&&(i.offset=parseInt(e[2],10)),i},GL=function(){const i="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+i+")")},gi=function(t){const e={};if(!t)return e;const i=t.split(GL());let r=i.length,n;for(;r--;)i[r]!==""&&(n=/([^=]*)=(.*)/.exec(i[r]).slice(1),n[0]=n[0].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^['"](.*)['"]$/g,"$1"),e[n[0]]=n[1]);return e},P0=t=>{const e=t.split("x"),i={};return e[0]&&(i.width=parseInt(e[0],10)),e[1]&&(i.height=parseInt(e[1],10)),i};class KL extends _g{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let i,r;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((s,a)=>{const o=a(e);return o===e?s:s.concat([o])},[e]).forEach(s=>{for(let a=0;a<this.customParsers.length;a++)if(this.customParsers[a].call(this,s))return;if(s.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:s.slice(1)});return}if(s=s.replace("\r",""),i=/^#EXTM3U/.exec(s),i){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(i=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(s),i){r={type:"tag",tagType:"inf"},i[1]&&(r.duration=parseFloat(i[1])),i[2]&&(r.title=i[2]),this.trigger("data",r);return}if(i=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(s),i){r={type:"tag",tagType:"targetduration"},i[1]&&(r.duration=parseInt(i[1],10)),this.trigger("data",r);return}if(i=/^#EXT-X-VERSION:([0-9.]*)?/.exec(s),i){r={type:"tag",tagType:"version"},i[1]&&(r.version=parseInt(i[1],10)),this.trigger("data",r);return}if(i=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(s),i){r={type:"tag",tagType:"media-sequence"},i[1]&&(r.number=parseInt(i[1],10)),this.trigger("data",r);return}if(i=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(s),i){r={type:"tag",tagType:"discontinuity-sequence"},i[1]&&(r.number=parseInt(i[1],10)),this.trigger("data",r);return}if(i=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(s),i){r={type:"tag",tagType:"playlist-type"},i[1]&&(r.playlistType=i[1]),this.trigger("data",r);return}if(i=/^#EXT-X-BYTERANGE:(.*)?$/.exec(s),i){r=Ot(lf(i[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",r);return}if(i=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(s),i){r={type:"tag",tagType:"allow-cache"},i[1]&&(r.allowed=!/NO/.test(i[1])),this.trigger("data",r);return}if(i=/^#EXT-X-MAP:(.*)$/.exec(s),i){if(r={type:"tag",tagType:"map"},i[1]){const a=gi(i[1]);a.URI&&(r.uri=a.URI),a.BYTERANGE&&(r.byterange=lf(a.BYTERANGE))}this.trigger("data",r);return}if(i=/^#EXT-X-STREAM-INF:(.*)$/.exec(s),i){r={type:"tag",tagType:"stream-inf"},i[1]&&(r.attributes=gi(i[1]),r.attributes.RESOLUTION&&(r.attributes.RESOLUTION=P0(r.attributes.RESOLUTION)),r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes["FRAME-RATE"]&&(r.attributes["FRAME-RATE"]=parseFloat(r.attributes["FRAME-RATE"])),r.attributes["PROGRAM-ID"]&&(r.attributes["PROGRAM-ID"]=parseInt(r.attributes["PROGRAM-ID"],10))),this.trigger("data",r);return}if(i=/^#EXT-X-MEDIA:(.*)$/.exec(s),i){r={type:"tag",tagType:"media"},i[1]&&(r.attributes=gi(i[1])),this.trigger("data",r);return}if(i=/^#EXT-X-ENDLIST/.exec(s),i){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(i=/^#EXT-X-DISCONTINUITY/.exec(s),i){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(i=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(s),i){r={type:"tag",tagType:"program-date-time"},i[1]&&(r.dateTimeString=i[1],r.dateTimeObject=new Date(i[1])),this.trigger("data",r);return}if(i=/^#EXT-X-KEY:(.*)$/.exec(s),i){r={type:"tag",tagType:"key"},i[1]&&(r.attributes=gi(i[1]),r.attributes.IV&&(r.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(r.attributes.IV=r.attributes.IV.substring(2)),r.attributes.IV=r.attributes.IV.match(/.{8}/g),r.attributes.IV[0]=parseInt(r.attributes.IV[0],16),r.attributes.IV[1]=parseInt(r.attributes.IV[1],16),r.attributes.IV[2]=parseInt(r.attributes.IV[2],16),r.attributes.IV[3]=parseInt(r.attributes.IV[3],16),r.attributes.IV=new Uint32Array(r.attributes.IV))),this.trigger("data",r);return}if(i=/^#EXT-X-START:(.*)$/.exec(s),i){r={type:"tag",tagType:"start"},i[1]&&(r.attributes=gi(i[1]),r.attributes["TIME-OFFSET"]=parseFloat(r.attributes["TIME-OFFSET"]),r.attributes.PRECISE=/YES/.test(r.attributes.PRECISE)),this.trigger("data",r);return}if(i=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(s),i){r={type:"tag",tagType:"cue-out-cont"},i[1]?r.data=i[1]:r.data="",this.trigger("data",r);return}if(i=/^#EXT-X-CUE-OUT:(.*)?$/.exec(s),i){r={type:"tag",tagType:"cue-out"},i[1]?r.data=i[1]:r.data="",this.trigger("data",r);return}if(i=/^#EXT-X-CUE-IN:?(.*)?$/.exec(s),i){r={type:"tag",tagType:"cue-in"},i[1]?r.data=i[1]:r.data="",this.trigger("data",r);return}if(i=/^#EXT-X-SKIP:(.*)$/.exec(s),i&&i[1]){r={type:"tag",tagType:"skip"},r.attributes=gi(i[1]),r.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(r.attributes["SKIPPED-SEGMENTS"]=parseInt(r.attributes["SKIPPED-SEGMENTS"],10)),r.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(r.attributes["RECENTLY-REMOVED-DATERANGES"]=r.attributes["RECENTLY-REMOVED-DATERANGES"].split(zL)),this.trigger("data",r);return}if(i=/^#EXT-X-PART:(.*)$/.exec(s),i&&i[1]){r={type:"tag",tagType:"part"},r.attributes=gi(i[1]),["DURATION"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseFloat(r.attributes[a]))}),["INDEPENDENT","GAP"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=/YES/.test(r.attributes[a]))}),r.attributes.hasOwnProperty("BYTERANGE")&&(r.attributes.byterange=lf(r.attributes.BYTERANGE)),this.trigger("data",r);return}if(i=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(s),i&&i[1]){r={type:"tag",tagType:"server-control"},r.attributes=gi(i[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseFloat(r.attributes[a]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=/YES/.test(r.attributes[a]))}),this.trigger("data",r);return}if(i=/^#EXT-X-PART-INF:(.*)$/.exec(s),i&&i[1]){r={type:"tag",tagType:"part-inf"},r.attributes=gi(i[1]),["PART-TARGET"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseFloat(r.attributes[a]))}),this.trigger("data",r);return}if(i=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(s),i&&i[1]){r={type:"tag",tagType:"preload-hint"},r.attributes=gi(i[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(a){if(r.attributes.hasOwnProperty(a)){r.attributes[a]=parseInt(r.attributes[a],10);const o=a==="BYTERANGE-LENGTH"?"length":"offset";r.attributes.byterange=r.attributes.byterange||{},r.attributes.byterange[o]=r.attributes[a],delete r.attributes[a]}}),this.trigger("data",r);return}if(i=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(s),i&&i[1]){r={type:"tag",tagType:"rendition-report"},r.attributes=gi(i[1]),["LAST-MSN","LAST-PART"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseInt(r.attributes[a],10))}),this.trigger("data",r);return}if(i=/^#EXT-X-DATERANGE:(.*)$/.exec(s),i&&i[1]){r={type:"tag",tagType:"daterange"},r.attributes=gi(i[1]),["ID","CLASS"].forEach(function(o){r.attributes.hasOwnProperty(o)&&(r.attributes[o]=String(r.attributes[o]))}),["START-DATE","END-DATE"].forEach(function(o){r.attributes.hasOwnProperty(o)&&(r.attributes[o]=new Date(r.attributes[o]))}),["DURATION","PLANNED-DURATION"].forEach(function(o){r.attributes.hasOwnProperty(o)&&(r.attributes[o]=parseFloat(r.attributes[o]))}),["END-ON-NEXT"].forEach(function(o){r.attributes.hasOwnProperty(o)&&(r.attributes[o]=/YES/i.test(r.attributes[o]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(o){r.attributes.hasOwnProperty(o)&&(r.attributes[o]=r.attributes[o].toString(16))});const a=/^X-([A-Z]+-)+[A-Z]+$/;for(const o in r.attributes){if(!a.test(o))continue;const u=/[0-9A-Fa-f]{6}/g.test(r.attributes[o]),l=/^\d+(\.\d+)?$/.test(r.attributes[o]);r.attributes[o]=u?r.attributes[o].toString(16):l?parseFloat(r.attributes[o]):String(r.attributes[o])}this.trigger("data",r);return}if(i=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(s),i){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(i=/^#EXT-X-I-FRAMES-ONLY/.exec(s),i){this.trigger("data",{type:"tag",tagType:"i-frames-only"});return}if(i=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(s),i){r={type:"tag",tagType:"content-steering"},r.attributes=gi(i[1]),this.trigger("data",r);return}if(i=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(s),i){r={type:"tag",tagType:"i-frame-playlist"},r.attributes=gi(i[1]),r.attributes.URI&&(r.uri=r.attributes.URI),r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes.RESOLUTION&&(r.attributes.RESOLUTION=P0(r.attributes.RESOLUTION)),r.attributes["AVERAGE-BANDWIDTH"]&&(r.attributes["AVERAGE-BANDWIDTH"]=parseInt(r.attributes["AVERAGE-BANDWIDTH"],10)),r.attributes["FRAME-RATE"]&&(r.attributes["FRAME-RATE"]=parseFloat(r.attributes["FRAME-RATE"])),this.trigger("data",r);return}if(i=/^#EXT-X-DEFINE:(.*)$/.exec(s),i){r={type:"tag",tagType:"define"},r.attributes=gi(i[1]),this.trigger("data",r);return}this.trigger("data",{type:"tag",data:s.slice(4)})})}addParser({expression:e,customType:i,dataParser:r,segment:n}){typeof r!="function"&&(r=s=>s),this.customParsers.push(s=>{if(e.exec(s))return this.trigger("data",{type:"custom",data:r(s),customType:i,segment:n}),!0})}addTagMapper({expression:e,map:i}){const r=n=>e.test(n)?i(n):n;this.tagMappers.push(r)}}const QL=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),Fn=function(t){const e={};return Object.keys(t).forEach(function(i){e[QL(i)]=t[i]}),e},cf=function(t){const{serverControl:e,targetDuration:i,partTargetDuration:r}=t;if(!e)return;const n="#EXT-X-SERVER-CONTROL",s="holdBack",a="partHoldBack",o=i&&i*3,u=r&&r*2;i&&!e.hasOwnProperty(s)&&(e[s]=o,this.trigger("info",{message:`${n} defaulting HOLD-BACK to targetDuration * 3 (${o}).`})),o&&e[s]<o&&(this.trigger("warn",{message:`${n} clamping HOLD-BACK (${e[s]}) to targetDuration * 3 (${o})`}),e[s]=o),r&&!e.hasOwnProperty(a)&&(e[a]=r*3,this.trigger("info",{message:`${n} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[a]}).`})),r&&e[a]<u&&(this.trigger("warn",{message:`${n} clamping PART-HOLD-BACK (${e[a]}) to partTargetDuration * 2 (${u}).`}),e[a]=u)};class XL extends _g{constructor(e={}){super(),this.lineStream=new WL,this.parseStream=new KL,this.lineStream.pipe(this.parseStream),this.mainDefinitions=e.mainDefinitions||{},this.params=new URL(e.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;const i=this,r=[];let n={},s,a,o=!1;const u=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let f=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let m=0,h=0;const g={};this.on("end",()=>{n.uri||!n.parts&&!n.preloadHints||(!n.map&&s&&(n.map=s),!n.key&&a&&(n.key=a),!n.timeline&&typeof f=="number"&&(n.timeline=f),this.manifest.preloadSegment=n)}),this.parseStream.on("data",function(p){let _,y;if(i.manifest.definitions){for(const T in i.manifest.definitions)if(p.uri&&(p.uri=p.uri.replace(`{$${T}}`,i.manifest.definitions[T])),p.attributes)for(const E in p.attributes)typeof p.attributes[E]=="string"&&(p.attributes[E]=p.attributes[E].replace(`{$${T}}`,i.manifest.definitions[T]))}({tag(){({version(){p.version&&(this.manifest.version=p.version)},"allow-cache"(){this.manifest.allowCache=p.allowed,"allowed"in p||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const T={};"length"in p&&(n.byterange=T,T.length=p.length,"offset"in p||(p.offset=m)),"offset"in p&&(n.byterange=T,T.offset=p.offset),m=T.offset+T.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),p.title&&(n.title=p.title),p.duration>0&&(n.duration=p.duration),p.duration===0&&(n.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=r},key(){if(!p.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(p.attributes.METHOD==="NONE"){a=null;return}if(!p.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(p.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:p.attributes};return}if(p.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:p.attributes.URI};return}if(p.attributes.KEYFORMAT===c){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(p.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(p.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),p.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(p.attributes.KEYID&&p.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:p.attributes.KEYFORMAT,keyId:p.attributes.KEYID.substring(2)},pssh:yE(p.attributes.URI.split(",")[1])};return}p.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),a={method:p.attributes.METHOD||"AES-128",uri:p.attributes.URI},typeof p.attributes.IV<"u"&&(a.iv=p.attributes.IV)},"media-sequence"(){if(!isFinite(p.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+p.number});return}this.manifest.mediaSequence=p.number},"discontinuity-sequence"(){if(!isFinite(p.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+p.number});return}this.manifest.discontinuitySequence=p.number,f=p.number},"playlist-type"(){if(!/VOD|EVENT/.test(p.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+p.playlist});return}this.manifest.playlistType=p.playlistType},map(){s={},p.uri&&(s.uri=p.uri),p.byterange&&(s.byterange=p.byterange),a&&(s.key=a)},"stream-inf"(){if(this.manifest.playlists=r,this.manifest.mediaGroups=this.manifest.mediaGroups||l,!p.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}n.attributes||(n.attributes={}),Ot(n.attributes,p.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,!(p.attributes&&p.attributes.TYPE&&p.attributes["GROUP-ID"]&&p.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const T=this.manifest.mediaGroups[p.attributes.TYPE];T[p.attributes["GROUP-ID"]]=T[p.attributes["GROUP-ID"]]||{},_=T[p.attributes["GROUP-ID"]],y={default:/yes/i.test(p.attributes.DEFAULT)},y.default?y.autoselect=!0:y.autoselect=/yes/i.test(p.attributes.AUTOSELECT),p.attributes.LANGUAGE&&(y.language=p.attributes.LANGUAGE),p.attributes.URI&&(y.uri=p.attributes.URI),p.attributes["INSTREAM-ID"]&&(y.instreamId=p.attributes["INSTREAM-ID"]),p.attributes.CHARACTERISTICS&&(y.characteristics=p.attributes.CHARACTERISTICS),p.attributes.FORCED&&(y.forced=/yes/i.test(p.attributes.FORCED)),_[p.attributes.NAME]=y},discontinuity(){f+=1,n.discontinuity=!0,this.manifest.discontinuityStarts.push(r.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=p.dateTimeString,this.manifest.dateTimeObject=p.dateTimeObject),n.dateTimeString=p.dateTimeString,n.dateTimeObject=p.dateTimeObject;const{lastProgramDateTime:T}=this;this.lastProgramDateTime=new Date(p.dateTimeString).getTime(),T===null&&this.manifest.segments.reduceRight((E,C)=>(C.programDateTime=E-C.duration*1e3,C.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(p.duration)||p.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+p.duration});return}this.manifest.targetDuration=p.duration,cf.call(this,this.manifest)},start(){if(!p.attributes||isNaN(p.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:p.attributes["TIME-OFFSET"],precise:p.attributes.PRECISE}},"cue-out"(){n.cueOut=p.data},"cue-out-cont"(){n.cueOutCont=p.data},"cue-in"(){n.cueIn=p.data},skip(){this.manifest.skip=Fn(p.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",p.attributes,["SKIPPED-SEGMENTS"])},part(){o=!0;const T=this.manifest.segments.length,E=Fn(p.attributes);n.parts=n.parts||[],n.parts.push(E),E.byterange&&(E.byterange.hasOwnProperty("offset")||(E.byterange.offset=h),h=E.byterange.offset+E.byterange.length);const C=n.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${C} for segment #${T}`,p.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((R,I)=>{R.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${I} lacks required attribute(s): LAST-PART`})})},"server-control"(){const T=this.manifest.serverControl=Fn(p.attributes);T.hasOwnProperty("canBlockReload")||(T.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),cf.call(this,this.manifest),T.canSkipDateranges&&!T.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const T=this.manifest.segments.length,E=Fn(p.attributes),C=E.type&&E.type==="PART";n.preloadHints=n.preloadHints||[],n.preloadHints.push(E),E.byterange&&(E.byterange.hasOwnProperty("offset")||(E.byterange.offset=C?h:0,C&&(h=E.byterange.offset+E.byterange.length)));const R=n.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${R} for segment #${T}`,p.attributes,["TYPE","URI"]),!!E.type)for(let I=0;I<n.preloadHints.length-1;I++){const D=n.preloadHints[I];D.type&&D.type===E.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${R} for segment #${T} has the same TYPE ${E.type} as preload hint #${I}`})}},"rendition-report"(){const T=Fn(p.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(T);const E=this.manifest.renditionReports.length-1,C=["LAST-MSN","URI"];o&&C.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${E}`,p.attributes,C)},"part-inf"(){this.manifest.partInf=Fn(p.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",p.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),cf.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(Fn(p.attributes));const T=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${T}`,p.attributes,["ID","START-DATE"]);const E=this.manifest.dateRanges[T];E.endDate&&E.startDate&&new Date(E.endDate)<new Date(E.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),E.duration&&E.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),E.plannedDuration&&E.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const C=!!E.endOnNext;if(C&&!E.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),C&&(E.duration||E.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),E.duration&&E.endDate){const I=E.startDate.getTime()+E.duration*1e3;this.manifest.dateRanges[T].endDate=new Date(I)}if(!g[E.id])g[E.id]=E;else{for(const I in g[E.id])if(E[I]&&JSON.stringify(g[E.id][I])!==JSON.stringify(E[I])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const R=this.manifest.dateRanges.findIndex(I=>I.id===E.id);this.manifest.dateRanges[R]=Ot(this.manifest.dateRanges[R],E),g[E.id]=Ot(g[E.id],E),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=Fn(p.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",p.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};const T=(E,C)=>{if(E in this.manifest.definitions){this.trigger("error",{message:`EXT-X-DEFINE: Duplicate name ${E}`});return}this.manifest.definitions[E]=C};if("QUERYPARAM"in p.attributes){if("NAME"in p.attributes||"IMPORT"in p.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}const E=this.params.get(p.attributes.QUERYPARAM);if(!E){this.trigger("error",{message:`EXT-X-DEFINE: No query param ${p.attributes.QUERYPARAM}`});return}T(p.attributes.QUERYPARAM,decodeURIComponent(E));return}if("NAME"in p.attributes){if("IMPORT"in p.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}if(!("VALUE"in p.attributes)||typeof p.attributes.VALUE!="string"){this.trigger("error",{message:`EXT-X-DEFINE: No value for ${p.attributes.NAME}`});return}T(p.attributes.NAME,p.attributes.VALUE);return}if("IMPORT"in p.attributes){if(!this.mainDefinitions[p.attributes.IMPORT]){this.trigger("error",{message:`EXT-X-DEFINE: No value ${p.attributes.IMPORT} to import, or IMPORT used on main playlist`});return}T(p.attributes.IMPORT,this.mainDefinitions[p.attributes.IMPORT]);return}this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:p.attributes,uri:p.uri,timeline:f}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",p.attributes,["BANDWIDTH","URI"])}}[p.tagType]||u).call(i)},uri(){n.uri=p.uri,r.push(n),this.manifest.targetDuration&&!("duration"in n)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),n.duration=this.manifest.targetDuration),a&&(n.key=a),n.timeline=f,s&&(n.map=s),h=0,this.lastProgramDateTime!==null&&(n.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=n.duration*1e3),n={}},comment(){},custom(){p.segment?(n.custom=n.custom||{},n.custom[p.customType]=p.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[p.customType]=p.data)}})[p.type].call(i)})}requiredCompatibilityversion(e,i){(e<i||!e)&&this.trigger("warn",{message:`manifest must be at least version ${i}`})}warnOnMissingAttributes_(e,i,r){const n=[];r.forEach(function(s){i.hasOwnProperty(s)||n.push(s)}),n.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${n.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var Rs={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},YL=["video","audio","text"],O0=["Video","Audio","Text"],vE=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(i,r,n){var s=("00"+Number(r).toString(16)).slice(-2),a=("00"+Number(n).toString(16)).slice(-2);return"avc1."+s+"00"+a})},Mr=function(e){e===void 0&&(e="");var i=e.split(","),r=[];return i.forEach(function(n){n=n.trim();var s;YL.forEach(function(a){var o=Rs[a].exec(n.toLowerCase());if(!(!o||o.length<=1)){s=a;var u=n.substring(0,o[1].length),l=n.replace(u,"");r.push({type:u,details:l,mediaType:a})}}),s||r.push({type:n,details:"",mediaType:"unknown"})}),r},JL=function(e,i){if(!e.mediaGroups.AUDIO||!i)return null;var r=e.mediaGroups.AUDIO[i];if(!r)return null;for(var n in r){var s=r[n];if(s.default&&s.playlists)return Mr(s.playlists[0].attributes.CODECS)}return null},_E=function(e){return e===void 0&&(e=""),Rs.audio.test(e.trim().toLowerCase())},ZL=function(e){return e===void 0&&(e=""),Rs.text.test(e.trim().toLowerCase())},ka=function(e){if(!(!e||typeof e!="string")){var i=e.toLowerCase().split(",").map(function(s){return vE(s.trim())}),r="video";i.length===1&&_E(i[0])?r="audio":i.length===1&&ZL(i[0])&&(r="application");var n="mp4";return i.every(function(s){return Rs.mp4.test(s)})?n="mp4":i.every(function(s){return Rs.webm.test(s)})?n="webm":i.every(function(s){return Rs.ogg.test(s)})&&(n="ogg"),r+"/"+n+';codecs="'+e+'"'}},cu=function(e,i){return e===void 0&&(e=""),i===void 0&&(i=!1),q.MediaSource&&q.MediaSource.isTypeSupported&&q.MediaSource.isTypeSupported(ka(e))||i&&q.ManagedMediaSource&&q.ManagedMediaSource.isTypeSupported&&q.ManagedMediaSource.isTypeSupported(ka(e))||!1},df=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(i){i=i.trim();for(var r=0;r<O0.length;r++){var n=O0[r];if(Rs["muxer"+n].test(i))return!0}return!1})},R0="mp4a.40.2",e3="avc1.4d400d",t3=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,i3=/^application\/dash\+xml/i,bE=function(e){return t3.test(e)?"hls":i3.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},r3=function(e){return e.toString(2).length},n3=function(e){return Math.ceil(r3(e)/8)},SE=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},s3=function(e){return SE(e)},Ue=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!s3(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},Jt=q.BigInt||Number,rm=[Jt("0x1"),Jt("0x100"),Jt("0x10000"),Jt("0x1000000"),Jt("0x100000000"),Jt("0x10000000000"),Jt("0x1000000000000"),Jt("0x100000000000000"),Jt("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var a3=function(e,i){var r=i===void 0?{}:i,n=r.signed,s=n===void 0?!1:n,a=r.le,o=a===void 0?!1:a;e=Ue(e);var u=o?"reduce":"reduceRight",l=e[u]?e[u]:Array.prototype[u],c=l.call(e,function(m,h,g){var p=o?g:Math.abs(g+1-e.length);return m+Jt(h)*rm[p]},Jt(0));if(s){var f=rm[e.length]/Jt(2)-Jt(1);c=Jt(c),c>f&&(c-=f,c-=f,c-=Jt(2))}return Number(c)},o3=function(e,i){var r={},n=r.le,s=n===void 0?!1:n;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=Jt(e);for(var a=n3(e),o=new Uint8Array(new ArrayBuffer(a)),u=0;u<a;u++){var l=s?u:Math.abs(u+1-o.length);o[l]=Number(e/rm[u]&Jt(255)),e<0&&(o[l]=Math.abs(~o[l]),o[l]-=u===0?1:2)}return o},TE=function(e,i){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;i||(e=unescape(encodeURIComponent(e)));for(var r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r},u3=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];if(i=i.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),i.length<=1)return Ue(i[0]);var n=i.reduce(function(o,u,l){return o+(u.byteLength||u.length)},0),s=new Uint8Array(n),a=0;return i.forEach(function(o){o=Ue(o),s.set(o,a),a+=o.byteLength}),s},wt=function(e,i,r){var n=r===void 0?{}:r,s=n.offset,a=s===void 0?0:s,o=n.mask,u=o===void 0?[]:o;e=Ue(e),i=Ue(i);var l=i.every?i.every:Array.prototype.every;return i.length&&e.length-a>=i.length&&l.call(i,function(c,f){var m=u[f]?u[f]&e[a+f]:e[a+f];return c===m})},l3=function(e,i,r){i.forEach(function(n){for(var s in e.mediaGroups[n])for(var a in e.mediaGroups[n][s]){var o=e.mediaGroups[n][s][a];r(o,n,s,a)}})},Fo={},cn={},vs={},D0;function Gd(){if(D0)return vs;D0=1;function t(s,a,o){if(o===void 0&&(o=Array.prototype),s&&typeof o.find=="function")return o.find.call(s,a);for(var u=0;u<s.length;u++)if(Object.prototype.hasOwnProperty.call(s,u)){var l=s[u];if(a.call(void 0,l,u,s))return l}}function e(s,a){return a===void 0&&(a=Object),a&&typeof a.freeze=="function"?a.freeze(s):s}function i(s,a){if(s===null||typeof s!="object")throw new TypeError("target is not an object");for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o]);return s}var r=e({HTML:"text/html",isHTML:function(s){return s===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),n=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(s){return s===n.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return vs.assign=i,vs.find=t,vs.freeze=e,vs.MIME_TYPE=r,vs.NAMESPACE=n,vs}var I0;function EE(){if(I0)return cn;I0=1;var t=Gd(),e=t.find,i=t.NAMESPACE;function r(k){return k!==""}function n(k){return k?k.split(/[\t\n\f\r ]+/).filter(r):[]}function s(k,N){return k.hasOwnProperty(N)||(k[N]=!0),k}function a(k){if(!k)return[];var N=n(k);return Object.keys(N.reduce(s,{}))}function o(k){return function(N){return k&&k.indexOf(N)!==-1}}function u(k,N){for(var K in k)Object.prototype.hasOwnProperty.call(k,K)&&(N[K]=k[K])}function l(k,N){var K=k.prototype;if(!(K instanceof N)){let oe=function(){};oe.prototype=N.prototype,oe=new oe,u(K,oe),k.prototype=K=oe}K.constructor!=k&&(typeof k!="function"&&console.error("unknown Class:"+k),K.constructor=k)}var c={},f=c.ELEMENT_NODE=1,m=c.ATTRIBUTE_NODE=2,h=c.TEXT_NODE=3,g=c.CDATA_SECTION_NODE=4,p=c.ENTITY_REFERENCE_NODE=5,_=c.ENTITY_NODE=6,y=c.PROCESSING_INSTRUCTION_NODE=7,T=c.COMMENT_NODE=8,E=c.DOCUMENT_NODE=9,C=c.DOCUMENT_TYPE_NODE=10,R=c.DOCUMENT_FRAGMENT_NODE=11,I=c.NOTATION_NODE=12,D={},O={};D.INDEX_SIZE_ERR=(O[1]="Index size error",1),D.DOMSTRING_SIZE_ERR=(O[2]="DOMString size error",2);var w=D.HIERARCHY_REQUEST_ERR=(O[3]="Hierarchy request error",3);D.WRONG_DOCUMENT_ERR=(O[4]="Wrong document",4),D.INVALID_CHARACTER_ERR=(O[5]="Invalid character",5),D.NO_DATA_ALLOWED_ERR=(O[6]="No data allowed",6),D.NO_MODIFICATION_ALLOWED_ERR=(O[7]="No modification allowed",7);var P=D.NOT_FOUND_ERR=(O[8]="Not found",8);D.NOT_SUPPORTED_ERR=(O[9]="Not supported",9);var L=D.INUSE_ATTRIBUTE_ERR=(O[10]="Attribute in use",10);D.INVALID_STATE_ERR=(O[11]="Invalid state",11),D.SYNTAX_ERR=(O[12]="Syntax error",12),D.INVALID_MODIFICATION_ERR=(O[13]="Invalid modification",13),D.NAMESPACE_ERR=(O[14]="Invalid namespace",14),D.INVALID_ACCESS_ERR=(O[15]="Invalid access",15);function M(k,N){if(N instanceof Error)var K=N;else K=this,Error.call(this,O[k]),this.message=O[k],Error.captureStackTrace&&Error.captureStackTrace(this,M);return K.code=k,N&&(this.message=this.message+": "+N),K}M.prototype=Error.prototype,u(D,M);function j(){}j.prototype={length:0,item:function(k){return k>=0&&k<this.length?this[k]:null},toString:function(k,N){for(var K=[],oe=0;oe<this.length;oe++)dr(this[oe],K,k,N);return K.join("")},filter:function(k){return Array.prototype.filter.call(this,k)},indexOf:function(k){return Array.prototype.indexOf.call(this,k)}};function Q(k,N){this._node=k,this._refresh=N,Z(this)}function Z(k){var N=k._node._inc||k._node.ownerDocument._inc;if(k._inc!==N){var K=k._refresh(k._node);if(Nl(k,"length",K.length),!k.$$length||K.length<k.$$length)for(var oe=K.length;oe in k;oe++)Object.prototype.hasOwnProperty.call(k,oe)&&delete k[oe];u(K,k),k._inc=N}}Q.prototype.item=function(k){return Z(this),this[k]||null},l(Q,j);function J(){}function H(k,N){for(var K=k.length;K--;)if(k[K]===N)return K}function W(k,N,K,oe){if(oe?N[H(N,oe)]=K:N[N.length++]=K,k){K.ownerElement=k;var De=k.ownerDocument;De&&(oe&&Oe(De,k,oe),ge(De,k,K))}}function G(k,N,K){var oe=H(N,K);if(oe>=0){for(var De=N.length-1;oe<De;)N[oe]=N[++oe];if(N.length=De,k){var Ve=k.ownerDocument;Ve&&(Oe(Ve,k,K),K.ownerElement=null)}}else throw new M(P,new Error(k.tagName+"@"+K))}J.prototype={length:0,item:j.prototype.item,getNamedItem:function(k){for(var N=this.length;N--;){var K=this[N];if(K.nodeName==k)return K}},setNamedItem:function(k){var N=k.ownerElement;if(N&&N!=this._ownerElement)throw new M(L);var K=this.getNamedItem(k.nodeName);return W(this._ownerElement,this,k,K),K},setNamedItemNS:function(k){var N=k.ownerElement,K;if(N&&N!=this._ownerElement)throw new M(L);return K=this.getNamedItemNS(k.namespaceURI,k.localName),W(this._ownerElement,this,k,K),K},removeNamedItem:function(k){var N=this.getNamedItem(k);return G(this._ownerElement,this,N),N},removeNamedItemNS:function(k,N){var K=this.getNamedItemNS(k,N);return G(this._ownerElement,this,K),K},getNamedItemNS:function(k,N){for(var K=this.length;K--;){var oe=this[K];if(oe.localName==N&&oe.namespaceURI==k)return oe}return null}};function Y(){}Y.prototype={hasFeature:function(k,N){return!0},createDocument:function(k,N,K){var oe=new Ce;if(oe.implementation=this,oe.childNodes=new j,oe.doctype=K||null,K&&oe.appendChild(K),N){var De=oe.createElementNS(k,N);oe.appendChild(De)}return oe},createDocumentType:function(k,N,K){var oe=new Je;return oe.name=k,oe.nodeName=k,oe.publicId=N||"",oe.systemId=K||"",oe}};function ie(){}ie.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(k,N){return xe(this,k,N)},replaceChild:function(k,N){xe(this,k,N,Ae),N&&this.removeChild(N)},removeChild:function(k){return ce(this,k)},appendChild:function(k){return this.insertBefore(k,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(k){return mo(this.ownerDocument||this,this,k)},normalize:function(){for(var k=this.firstChild;k;){var N=k.nextSibling;N&&N.nodeType==h&&k.nodeType==h?(this.removeChild(N),k.appendData(N.data)):(k.normalize(),k=N)}},isSupported:function(k,N){return this.ownerDocument.implementation.hasFeature(k,N)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(k){for(var N=this;N;){var K=N._nsMap;if(K){for(var oe in K)if(Object.prototype.hasOwnProperty.call(K,oe)&&K[oe]===k)return oe}N=N.nodeType==m?N.ownerDocument:N.parentNode}return null},lookupNamespaceURI:function(k){for(var N=this;N;){var K=N._nsMap;if(K&&Object.prototype.hasOwnProperty.call(K,k))return K[k];N=N.nodeType==m?N.ownerDocument:N.parentNode}return null},isDefaultNamespace:function(k){var N=this.lookupPrefix(k);return N==null}};function me(k){return k=="<"&&"&lt;"||k==">"&&"&gt;"||k=="&"&&"&amp;"||k=='"'&&"&quot;"||"&#"+k.charCodeAt()+";"}u(c,ie),u(c,ie.prototype);function Te(k,N){if(N(k))return!0;if(k=k.firstChild)do if(Te(k,N))return!0;while(k=k.nextSibling)}function Ce(){this.ownerDocument=this}function ge(k,N,K){k&&k._inc++;var oe=K.namespaceURI;oe===i.XMLNS&&(N._nsMap[K.prefix?K.localName:""]=K.value)}function Oe(k,N,K,oe){k&&k._inc++;var De=K.namespaceURI;De===i.XMLNS&&delete N._nsMap[K.prefix?K.localName:""]}function re(k,N,K){if(k&&k._inc){k._inc++;var oe=N.childNodes;if(K)oe[oe.length++]=K;else{for(var De=N.firstChild,Ve=0;De;)oe[Ve++]=De,De=De.nextSibling;oe.length=Ve,delete oe[oe.length]}}}function ce(k,N){var K=N.previousSibling,oe=N.nextSibling;return K?K.nextSibling=oe:k.firstChild=oe,oe?oe.previousSibling=K:k.lastChild=K,N.parentNode=null,N.previousSibling=null,N.nextSibling=null,re(k.ownerDocument,k),N}function _e(k){return k&&(k.nodeType===ie.DOCUMENT_NODE||k.nodeType===ie.DOCUMENT_FRAGMENT_NODE||k.nodeType===ie.ELEMENT_NODE)}function Ee(k){return k&&(B(k)||z(k)||Fe(k)||k.nodeType===ie.DOCUMENT_FRAGMENT_NODE||k.nodeType===ie.COMMENT_NODE||k.nodeType===ie.PROCESSING_INSTRUCTION_NODE)}function Fe(k){return k&&k.nodeType===ie.DOCUMENT_TYPE_NODE}function B(k){return k&&k.nodeType===ie.ELEMENT_NODE}function z(k){return k&&k.nodeType===ie.TEXT_NODE}function te(k,N){var K=k.childNodes||[];if(e(K,B)||Fe(N))return!1;var oe=e(K,Fe);return!(N&&oe&&K.indexOf(oe)>K.indexOf(N))}function pe(k,N){var K=k.childNodes||[];function oe(Ve){return B(Ve)&&Ve!==N}if(e(K,oe))return!1;var De=e(K,Fe);return!(N&&De&&K.indexOf(De)>K.indexOf(N))}function he(k,N,K){if(!_e(k))throw new M(w,"Unexpected parent node type "+k.nodeType);if(K&&K.parentNode!==k)throw new M(P,"child not in parent");if(!Ee(N)||Fe(N)&&k.nodeType!==ie.DOCUMENT_NODE)throw new M(w,"Unexpected node type "+N.nodeType+" for parent node type "+k.nodeType)}function be(k,N,K){var oe=k.childNodes||[],De=N.childNodes||[];if(N.nodeType===ie.DOCUMENT_FRAGMENT_NODE){var Ve=De.filter(B);if(Ve.length>1||e(De,z))throw new M(w,"More than one element or text in fragment");if(Ve.length===1&&!te(k,K))throw new M(w,"Element in fragment can not be inserted before doctype")}if(B(N)&&!te(k,K))throw new M(w,"Only one element can be added and only after doctype");if(Fe(N)){if(e(oe,Fe))throw new M(w,"Only one doctype is allowed");var mt=e(oe,B);if(K&&oe.indexOf(mt)<oe.indexOf(K))throw new M(w,"Doctype can only be inserted before an element");if(!K&&mt)throw new M(w,"Doctype can not be appended since element is present")}}function Ae(k,N,K){var oe=k.childNodes||[],De=N.childNodes||[];if(N.nodeType===ie.DOCUMENT_FRAGMENT_NODE){var Ve=De.filter(B);if(Ve.length>1||e(De,z))throw new M(w,"More than one element or text in fragment");if(Ve.length===1&&!pe(k,K))throw new M(w,"Element in fragment can not be inserted before doctype")}if(B(N)&&!pe(k,K))throw new M(w,"Only one element can be added and only after doctype");if(Fe(N)){if(e(oe,function(hr){return Fe(hr)&&hr!==K}))throw new M(w,"Only one doctype is allowed");var mt=e(oe,B);if(K&&oe.indexOf(mt)<oe.indexOf(K))throw new M(w,"Doctype can only be inserted before an element")}}function xe(k,N,K,oe){he(k,N,K),k.nodeType===ie.DOCUMENT_NODE&&(oe||be)(k,N,K);var De=N.parentNode;if(De&&De.removeChild(N),N.nodeType===R){var Ve=N.firstChild;if(Ve==null)return N;var mt=N.lastChild}else Ve=mt=N;var ii=K?K.previousSibling:k.lastChild;Ve.previousSibling=ii,mt.nextSibling=K,ii?ii.nextSibling=Ve:k.firstChild=Ve,K==null?k.lastChild=mt:K.previousSibling=mt;do Ve.parentNode=k;while(Ve!==mt&&(Ve=Ve.nextSibling));return re(k.ownerDocument||k,k),N.nodeType==R&&(N.firstChild=N.lastChild=null),N}function ye(k,N){return N.parentNode&&N.parentNode.removeChild(N),N.parentNode=k,N.previousSibling=k.lastChild,N.nextSibling=null,N.previousSibling?N.previousSibling.nextSibling=N:k.firstChild=N,k.lastChild=N,re(k.ownerDocument,k,N),N}Ce.prototype={nodeName:"#document",nodeType:E,doctype:null,documentElement:null,_inc:1,insertBefore:function(k,N){if(k.nodeType==R){for(var K=k.firstChild;K;){var oe=K.nextSibling;this.insertBefore(K,N),K=oe}return k}return xe(this,k,N),k.ownerDocument=this,this.documentElement===null&&k.nodeType===f&&(this.documentElement=k),k},removeChild:function(k){return this.documentElement==k&&(this.documentElement=null),ce(this,k)},replaceChild:function(k,N){xe(this,k,N,Ae),k.ownerDocument=this,N&&this.removeChild(N),B(k)&&(this.documentElement=k)},importNode:function(k,N){return Ll(this,k,N)},getElementById:function(k){var N=null;return Te(this.documentElement,function(K){if(K.nodeType==f&&K.getAttribute("id")==k)return N=K,!0}),N},getElementsByClassName:function(k){var N=a(k);return new Q(this,function(K){var oe=[];return N.length>0&&Te(K.documentElement,function(De){if(De!==K&&De.nodeType===f){var Ve=De.getAttribute("class");if(Ve){var mt=k===Ve;if(!mt){var ii=a(Ve);mt=N.every(o(ii))}mt&&oe.push(De)}}}),oe})},createElement:function(k){var N=new fe;N.ownerDocument=this,N.nodeName=k,N.tagName=k,N.localName=k,N.childNodes=new j;var K=N.attributes=new J;return K._ownerElement=N,N},createDocumentFragment:function(){var k=new Ht;return k.ownerDocument=this,k.childNodes=new j,k},createTextNode:function(k){var N=new Me;return N.ownerDocument=this,N.appendData(k),N},createComment:function(k){var N=new $e;return N.ownerDocument=this,N.appendData(k),N},createCDATASection:function(k){var N=new Ge;return N.ownerDocument=this,N.appendData(k),N},createProcessingInstruction:function(k,N){var K=new Ye;return K.ownerDocument=this,K.tagName=K.nodeName=K.target=k,K.nodeValue=K.data=N,K},createAttribute:function(k){var N=new ke;return N.ownerDocument=this,N.name=k,N.nodeName=k,N.localName=k,N.specified=!0,N},createEntityReference:function(k){var N=new Nt;return N.ownerDocument=this,N.nodeName=k,N},createElementNS:function(k,N){var K=new fe,oe=N.split(":"),De=K.attributes=new J;return K.childNodes=new j,K.ownerDocument=this,K.nodeName=N,K.tagName=N,K.namespaceURI=k,oe.length==2?(K.prefix=oe[0],K.localName=oe[1]):K.localName=N,De._ownerElement=K,K},createAttributeNS:function(k,N){var K=new ke,oe=N.split(":");return K.ownerDocument=this,K.nodeName=N,K.name=N,K.namespaceURI=k,K.specified=!0,oe.length==2?(K.prefix=oe[0],K.localName=oe[1]):K.localName=N,K}},l(Ce,ie);function fe(){this._nsMap={}}fe.prototype={nodeType:f,hasAttribute:function(k){return this.getAttributeNode(k)!=null},getAttribute:function(k){var N=this.getAttributeNode(k);return N&&N.value||""},getAttributeNode:function(k){return this.attributes.getNamedItem(k)},setAttribute:function(k,N){var K=this.ownerDocument.createAttribute(k);K.value=K.nodeValue=""+N,this.setAttributeNode(K)},removeAttribute:function(k){var N=this.getAttributeNode(k);N&&this.removeAttributeNode(N)},appendChild:function(k){return k.nodeType===R?this.insertBefore(k,null):ye(this,k)},setAttributeNode:function(k){return this.attributes.setNamedItem(k)},setAttributeNodeNS:function(k){return this.attributes.setNamedItemNS(k)},removeAttributeNode:function(k){return this.attributes.removeNamedItem(k.nodeName)},removeAttributeNS:function(k,N){var K=this.getAttributeNodeNS(k,N);K&&this.removeAttributeNode(K)},hasAttributeNS:function(k,N){return this.getAttributeNodeNS(k,N)!=null},getAttributeNS:function(k,N){var K=this.getAttributeNodeNS(k,N);return K&&K.value||""},setAttributeNS:function(k,N,K){var oe=this.ownerDocument.createAttributeNS(k,N);oe.value=oe.nodeValue=""+K,this.setAttributeNode(oe)},getAttributeNodeNS:function(k,N){return this.attributes.getNamedItemNS(k,N)},getElementsByTagName:function(k){return new Q(this,function(N){var K=[];return Te(N,function(oe){oe!==N&&oe.nodeType==f&&(k==="*"||oe.tagName==k)&&K.push(oe)}),K})},getElementsByTagNameNS:function(k,N){return new Q(this,function(K){var oe=[];return Te(K,function(De){De!==K&&De.nodeType===f&&(k==="*"||De.namespaceURI===k)&&(N==="*"||De.localName==N)&&oe.push(De)}),oe})}},Ce.prototype.getElementsByTagName=fe.prototype.getElementsByTagName,Ce.prototype.getElementsByTagNameNS=fe.prototype.getElementsByTagNameNS,l(fe,ie);function ke(){}ke.prototype.nodeType=m,l(ke,ie);function Pe(){}Pe.prototype={data:"",substringData:function(k,N){return this.data.substring(k,k+N)},appendData:function(k){k=this.data+k,this.nodeValue=this.data=k,this.length=k.length},insertData:function(k,N){this.replaceData(k,0,N)},appendChild:function(k){throw new Error(O[w])},deleteData:function(k,N){this.replaceData(k,N,"")},replaceData:function(k,N,K){var oe=this.data.substring(0,k),De=this.data.substring(k+N);K=oe+K+De,this.nodeValue=this.data=K,this.length=K.length}},l(Pe,ie);function Me(){}Me.prototype={nodeName:"#text",nodeType:h,splitText:function(k){var N=this.data,K=N.substring(k);N=N.substring(0,k),this.data=this.nodeValue=N,this.length=N.length;var oe=this.ownerDocument.createTextNode(K);return this.parentNode&&this.parentNode.insertBefore(oe,this.nextSibling),oe}},l(Me,Pe);function $e(){}$e.prototype={nodeName:"#comment",nodeType:T},l($e,Pe);function Ge(){}Ge.prototype={nodeName:"#cdata-section",nodeType:g},l(Ge,Pe);function Je(){}Je.prototype.nodeType=C,l(Je,ie);function Ze(){}Ze.prototype.nodeType=I,l(Ze,ie);function Bt(){}Bt.prototype.nodeType=_,l(Bt,ie);function Nt(){}Nt.prototype.nodeType=p,l(Nt,ie);function Ht(){}Ht.prototype.nodeName="#document-fragment",Ht.prototype.nodeType=R,l(Ht,ie);function Ye(){}Ye.prototype.nodeType=y,l(Ye,ie);function Ar(){}Ar.prototype.serializeToString=function(k,N,K){return Pr.call(k,N,K)},ie.prototype.toString=Pr;function Pr(k,N){var K=[],oe=this.nodeType==9&&this.documentElement||this,De=oe.prefix,Ve=oe.namespaceURI;if(Ve&&De==null){var De=oe.lookupPrefix(Ve);if(De==null)var mt=[{namespace:Ve,prefix:null}]}return dr(this,K,k,N,mt),K.join("")}function qt(k,N,K){var oe=k.prefix||"",De=k.namespaceURI;if(!De||oe==="xml"&&De===i.XML||De===i.XMLNS)return!1;for(var Ve=K.length;Ve--;){var mt=K[Ve];if(mt.prefix===oe)return mt.namespace!==De}return!0}function ti(k,N,K){k.push(" ",N,'="',K.replace(/[<>&"\t\n\r]/g,me),'"')}function dr(k,N,K,oe,De){if(De||(De=[]),oe)if(k=oe(k),k){if(typeof k=="string"){N.push(k);return}}else return;switch(k.nodeType){case f:var Ve=k.attributes,mt=Ve.length,Ft=k.firstChild,ii=k.tagName;K=i.isHTML(k.namespaceURI)||K;var hr=ii;if(!K&&!k.prefix&&k.namespaceURI){for(var Or,fr=0;fr<Ve.length;fr++)if(Ve.item(fr).name==="xmlns"){Or=Ve.item(fr).value;break}if(!Or)for(var Rr=De.length-1;Rr>=0;Rr--){var pr=De[Rr];if(pr.prefix===""&&pr.namespace===k.namespaceURI){Or=pr.namespace;break}}if(Or!==k.namespaceURI)for(var Rr=De.length-1;Rr>=0;Rr--){var pr=De[Rr];if(pr.namespace===k.namespaceURI){pr.prefix&&(hr=pr.prefix+":"+ii);break}}}N.push("<",hr);for(var Gi=0;Gi<mt;Gi++){var St=Ve.item(Gi);St.prefix=="xmlns"?De.push({prefix:St.localName,namespace:St.value}):St.nodeName=="xmlns"&&De.push({prefix:"",namespace:St.value})}for(var Gi=0;Gi<mt;Gi++){var St=Ve.item(Gi);if(qt(St,K,De)){var an=St.prefix||"",hs=St.namespaceURI;ti(N,an?"xmlns:"+an:"xmlns",hs),De.push({prefix:an,namespace:hs})}dr(St,N,K,oe,De)}if(ii===hr&&qt(k,K,De)){var an=k.prefix||"",hs=k.namespaceURI;ti(N,an?"xmlns:"+an:"xmlns",hs),De.push({prefix:an,namespace:hs})}if(Ft||K&&!/^(?:meta|link|img|br|hr|input)$/i.test(ii)){if(N.push(">"),K&&/^script$/i.test(ii))for(;Ft;)Ft.data?N.push(Ft.data):dr(Ft,N,K,oe,De.slice()),Ft=Ft.nextSibling;else for(;Ft;)dr(Ft,N,K,oe,De.slice()),Ft=Ft.nextSibling;N.push("</",hr,">")}else N.push("/>");return;case E:case R:for(var Ft=k.firstChild;Ft;)dr(Ft,N,K,oe,De.slice()),Ft=Ft.nextSibling;return;case m:return ti(N,k.name,k.value);case h:return N.push(k.data.replace(/[<&>]/g,me));case g:return N.push("<![CDATA[",k.data,"]]>");case T:return N.push("<!--",k.data,"-->");case C:var Ki=k.publicId,mr=k.systemId;if(N.push("<!DOCTYPE ",k.name),Ki)N.push(" PUBLIC ",Ki),mr&&mr!="."&&N.push(" ",mr),N.push(">");else if(mr&&mr!=".")N.push(" SYSTEM ",mr,">");else{var st=k.internalSubset;st&&N.push(" [",st,"]"),N.push(">")}return;case y:return N.push("<?",k.target," ",k.data,"?>");case p:return N.push("&",k.nodeName,";");default:N.push("??",k.nodeName)}}function Ll(k,N,K){var oe;switch(N.nodeType){case f:oe=N.cloneNode(!1),oe.ownerDocument=k;case R:break;case m:K=!0;break}if(oe||(oe=N.cloneNode(!1)),oe.ownerDocument=k,oe.parentNode=null,K)for(var De=N.firstChild;De;)oe.appendChild(Ll(k,De,K)),De=De.nextSibling;return oe}function mo(k,N,K){var oe=new N.constructor;for(var De in N)if(Object.prototype.hasOwnProperty.call(N,De)){var Ve=N[De];typeof Ve!="object"&&Ve!=oe[De]&&(oe[De]=Ve)}switch(N.childNodes&&(oe.childNodes=new j),oe.ownerDocument=k,oe.nodeType){case f:var mt=N.attributes,ii=oe.attributes=new J,hr=mt.length;ii._ownerElement=oe;for(var Or=0;Or<hr;Or++)oe.setAttributeNode(mo(k,mt.item(Or),!0));break;case m:K=!0}if(K)for(var fr=N.firstChild;fr;)oe.appendChild(mo(k,fr,K)),fr=fr.nextSibling;return oe}function Nl(k,N,K){k[N]=K}try{if(Object.defineProperty){let k=function(N){switch(N.nodeType){case f:case R:var K=[];for(N=N.firstChild;N;)N.nodeType!==7&&N.nodeType!==8&&K.push(k(N)),N=N.nextSibling;return K.join("");default:return N.nodeValue}};Object.defineProperty(Q.prototype,"length",{get:function(){return Z(this),this.$$length}}),Object.defineProperty(ie.prototype,"textContent",{get:function(){return k(this)},set:function(N){switch(this.nodeType){case f:case R:for(;this.firstChild;)this.removeChild(this.firstChild);(N||String(N))&&this.appendChild(this.ownerDocument.createTextNode(N));break;default:this.data=N,this.value=N,this.nodeValue=N}}}),Nl=function(N,K,oe){N["$$"+K]=oe}}}catch{}return cn.DocumentType=Je,cn.DOMException=M,cn.DOMImplementation=Y,cn.Element=fe,cn.Node=ie,cn.NodeList=j,cn.XMLSerializer=Ar,cn}var Mo={},hf={},k0;function c3(){return k0||(k0=1,function(t){var e=Gd().freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES}(hf)),hf}var lc={},L0;function d3(){if(L0)return lc;L0=1;var t=Gd().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,i=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+e.source+i.source+"*(?::"+e.source+i.source+"*)?$"),n=0,s=1,a=2,o=3,u=4,l=5,c=6,f=7;function m(w,P){this.message=w,this.locator=P,Error.captureStackTrace&&Error.captureStackTrace(this,m)}m.prototype=new Error,m.prototype.name=m.name;function h(){}h.prototype={parse:function(w,P,L){var M=this.domBuilder;M.startDocument(),C(P,P={}),g(w,P,L,M,this.errorHandler),M.endDocument()}};function g(w,P,L,M,j){function Q(fe){if(fe>65535){fe-=65536;var ke=55296+(fe>>10),Pe=56320+(fe&1023);return String.fromCharCode(ke,Pe)}else return String.fromCharCode(fe)}function Z(fe){var ke=fe.slice(1,-1);return Object.hasOwnProperty.call(L,ke)?L[ke]:ke.charAt(0)==="#"?Q(parseInt(ke.substr(1).replace("x","0x"))):(j.error("entity not found:"+fe),fe)}function J(fe){if(fe>Ce){var ke=w.substring(Ce,fe).replace(/&#?\w+;/g,Z);ie&&H(Ce),M.characters(ke,0,fe-Ce),Ce=fe}}function H(fe,ke){for(;fe>=G&&(ke=Y.exec(w));)W=ke.index,G=W+ke[0].length,ie.lineNumber++;ie.columnNumber=fe-W+1}for(var W=0,G=0,Y=/.*(?:\r\n?|\n)|.*$/g,ie=M.locator,me=[{currentNSMap:P}],Te={},Ce=0;;){try{var ge=w.indexOf("<",Ce);if(ge<0){if(!w.substr(Ce).match(/^\s*$/)){var Oe=M.doc,re=Oe.createTextNode(w.substr(Ce));Oe.appendChild(re),M.currentElement=re}return}switch(ge>Ce&&J(ge),w.charAt(ge+1)){case"/":var he=w.indexOf(">",ge+3),ce=w.substring(ge+2,he).replace(/[ \t\n\r]+$/g,""),_e=me.pop();he<0?(ce=w.substring(ge+2).replace(/[\s<].*/,""),j.error("end tag name: "+ce+" is not complete:"+_e.tagName),he=ge+1+ce.length):ce.match(/\s</)&&(ce=ce.replace(/[\s<].*/,""),j.error("end tag name: "+ce+" maybe not complete"),he=ge+1+ce.length);var Ee=_e.localNSMap,Fe=_e.tagName==ce,B=Fe||_e.tagName&&_e.tagName.toLowerCase()==ce.toLowerCase();if(B){if(M.endElement(_e.uri,_e.localName,ce),Ee)for(var z in Ee)Object.prototype.hasOwnProperty.call(Ee,z)&&M.endPrefixMapping(z);Fe||j.fatalError("end tag name: "+ce+" is not match the current start tagName:"+_e.tagName)}else me.push(_e);he++;break;case"?":ie&&H(ge),he=I(w,ge,M);break;case"!":ie&&H(ge),he=R(w,ge,M,j);break;default:ie&&H(ge);var te=new D,pe=me[me.length-1].currentNSMap,he=_(w,ge,te,pe,Z,j),be=te.length;if(!te.closed&&E(w,he,te.tagName,Te)&&(te.closed=!0,L.nbsp||j.warning("unclosed xml attribute")),ie&&be){for(var Ae=p(ie,{}),xe=0;xe<be;xe++){var ye=te[xe];H(ye.offset),ye.locator=p(ie,{})}M.locator=Ae,y(te,M,pe)&&me.push(te),M.locator=ie}else y(te,M,pe)&&me.push(te);t.isHTML(te.uri)&&!te.closed?he=T(w,he,te.tagName,Z,M):he++}}catch(fe){if(fe instanceof m)throw fe;j.error("element parse error: "+fe),he=-1}he>Ce?Ce=he:J(Math.max(ge,Ce)+1)}}function p(w,P){return P.lineNumber=w.lineNumber,P.columnNumber=w.columnNumber,P}function _(w,P,L,M,j,Q){function Z(ie,me,Te){L.attributeNames.hasOwnProperty(ie)&&Q.fatalError("Attribute "+ie+" redefined"),L.addValue(ie,me.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,j),Te)}for(var J,H,W=++P,G=n;;){var Y=w.charAt(W);switch(Y){case"=":if(G===s)J=w.slice(P,W),G=o;else if(G===a)G=o;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(G===o||G===s)if(G===s&&(Q.warning('attribute value must after "="'),J=w.slice(P,W)),P=W+1,W=w.indexOf(Y,P),W>0)H=w.slice(P,W),Z(J,H,P-1),G=l;else throw new Error("attribute value no end '"+Y+"' match");else if(G==u)H=w.slice(P,W),Z(J,H,P),Q.warning('attribute "'+J+'" missed start quot('+Y+")!!"),P=W+1,G=l;else throw new Error('attribute value must after "="');break;case"/":switch(G){case n:L.setTagName(w.slice(P,W));case l:case c:case f:G=f,L.closed=!0;case u:case s:break;case a:L.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return Q.error("unexpected end of input"),G==n&&L.setTagName(w.slice(P,W)),W;case">":switch(G){case n:L.setTagName(w.slice(P,W));case l:case c:case f:break;case u:case s:H=w.slice(P,W),H.slice(-1)==="/"&&(L.closed=!0,H=H.slice(0,-1));case a:G===a&&(H=J),G==u?(Q.warning('attribute "'+H+'" missed quot(")!'),Z(J,H,P)):((!t.isHTML(M[""])||!H.match(/^(?:disabled|checked|selected)$/i))&&Q.warning('attribute "'+H+'" missed value!! "'+H+'" instead!!'),Z(H,H,P));break;case o:throw new Error("attribute value missed!!")}return W;case"":Y=" ";default:if(Y<=" ")switch(G){case n:L.setTagName(w.slice(P,W)),G=c;break;case s:J=w.slice(P,W),G=a;break;case u:var H=w.slice(P,W);Q.warning('attribute "'+H+'" missed quot(")!!'),Z(J,H,P);case l:G=c;break}else switch(G){case a:L.tagName,(!t.isHTML(M[""])||!J.match(/^(?:disabled|checked|selected)$/i))&&Q.warning('attribute "'+J+'" missed value!! "'+J+'" instead2!!'),Z(J,J,P),P=W,G=s;break;case l:Q.warning('attribute space is required"'+J+'"!!');case c:G=s,P=W;break;case o:G=u,P=W;break;case f:throw new Error("elements closed character '/' and '>' must be connected to")}}W++}}function y(w,P,L){for(var M=w.tagName,j=null,Y=w.length;Y--;){var Q=w[Y],Z=Q.qName,J=Q.value,ie=Z.indexOf(":");if(ie>0)var H=Q.prefix=Z.slice(0,ie),W=Z.slice(ie+1),G=H==="xmlns"&&W;else W=Z,H=null,G=Z==="xmlns"&&"";Q.localName=W,G!==!1&&(j==null&&(j={},C(L,L={})),L[G]=j[G]=J,Q.uri=t.XMLNS,P.startPrefixMapping(G,J))}for(var Y=w.length;Y--;){Q=w[Y];var H=Q.prefix;H&&(H==="xml"&&(Q.uri=t.XML),H!=="xmlns"&&(Q.uri=L[H||""]))}var ie=M.indexOf(":");ie>0?(H=w.prefix=M.slice(0,ie),W=w.localName=M.slice(ie+1)):(H=null,W=w.localName=M);var me=w.uri=L[H||""];if(P.startElement(me,W,M,w),w.closed){if(P.endElement(me,W,M),j)for(H in j)Object.prototype.hasOwnProperty.call(j,H)&&P.endPrefixMapping(H)}else return w.currentNSMap=L,w.localNSMap=j,!0}function T(w,P,L,M,j){if(/^(?:script|textarea)$/i.test(L)){var Q=w.indexOf("</"+L+">",P),Z=w.substring(P+1,Q);if(/[&<]/.test(Z))return/^script$/i.test(L)?(j.characters(Z,0,Z.length),Q):(Z=Z.replace(/&#?\w+;/g,M),j.characters(Z,0,Z.length),Q)}return P+1}function E(w,P,L,M){var j=M[L];return j==null&&(j=w.lastIndexOf("</"+L+">"),j<P&&(j=w.lastIndexOf("</"+L)),M[L]=j),j<P}function C(w,P){for(var L in w)Object.prototype.hasOwnProperty.call(w,L)&&(P[L]=w[L])}function R(w,P,L,M){var j=w.charAt(P+2);switch(j){case"-":if(w.charAt(P+3)==="-"){var Q=w.indexOf("-->",P+4);return Q>P?(L.comment(w,P+4,Q-P-4),Q+3):(M.error("Unclosed comment"),-1)}else return-1;default:if(w.substr(P+3,6)=="CDATA["){var Q=w.indexOf("]]>",P+9);return L.startCDATA(),L.characters(w,P+9,Q-P-9),L.endCDATA(),Q+3}var Z=O(w,P),J=Z.length;if(J>1&&/!doctype/i.test(Z[0][0])){var H=Z[1][0],W=!1,G=!1;J>3&&(/^public$/i.test(Z[2][0])?(W=Z[3][0],G=J>4&&Z[4][0]):/^system$/i.test(Z[2][0])&&(G=Z[3][0]));var Y=Z[J-1];return L.startDTD(H,W,G),L.endDTD(),Y.index+Y[0].length}}return-1}function I(w,P,L){var M=w.indexOf("?>",P);if(M){var j=w.substring(P,M).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return j?(j[0].length,L.processingInstruction(j[1],j[2]),M+2):-1}return-1}function D(){this.attributeNames={}}D.prototype={setTagName:function(w){if(!r.test(w))throw new Error("invalid tagName:"+w);this.tagName=w},addValue:function(w,P,L){if(!r.test(w))throw new Error("invalid attribute:"+w);this.attributeNames[w]=this.length,this[this.length++]={qName:w,value:P,offset:L}},length:0,getLocalName:function(w){return this[w].localName},getLocator:function(w){return this[w].locator},getQName:function(w){return this[w].qName},getURI:function(w){return this[w].uri},getValue:function(w){return this[w].value}};function O(w,P){var L,M=[],j=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(j.lastIndex=P,j.exec(w);L=j.exec(w);)if(M.push(L),L[1])return M}return lc.XMLReader=h,lc.ParseError=m,lc}var N0;function h3(){if(N0)return Mo;N0=1;var t=Gd(),e=EE(),i=c3(),r=d3(),n=e.DOMImplementation,s=t.NAMESPACE,a=r.ParseError,o=r.XMLReader;function u(_){return _.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function l(_){this.options=_||{locator:{}}}l.prototype.parseFromString=function(_,y){var T=this.options,E=new o,C=T.domBuilder||new f,R=T.errorHandler,I=T.locator,D=T.xmlns||{},O=/\/x?html?$/.test(y),w=O?i.HTML_ENTITIES:i.XML_ENTITIES;I&&C.setDocumentLocator(I),E.errorHandler=c(R,C,I),E.domBuilder=T.domBuilder||C,O&&(D[""]=s.HTML),D.xml=D.xml||s.XML;var P=T.normalizeLineEndings||u;return _&&typeof _=="string"?E.parse(P(_),D,w):E.errorHandler.error("invalid doc source"),C.doc};function c(_,y,T){if(!_){if(y instanceof f)return y;_=y}var E={},C=_ instanceof Function;T=T||{};function R(I){var D=_[I];!D&&C&&(D=_.length==2?function(O){_(I,O)}:_),E[I]=D&&function(O){D("[xmldom "+I+"]	"+O+h(T))}||function(){}}return R("warning"),R("error"),R("fatalError"),E}function f(){this.cdata=!1}function m(_,y){y.lineNumber=_.lineNumber,y.columnNumber=_.columnNumber}f.prototype={startDocument:function(){this.doc=new n().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(_,y,T,E){var C=this.doc,R=C.createElementNS(_,T||y),I=E.length;p(this,R),this.currentElement=R,this.locator&&m(this.locator,R);for(var D=0;D<I;D++){var _=E.getURI(D),O=E.getValue(D),T=E.getQName(D),w=C.createAttributeNS(_,T);this.locator&&m(E.getLocator(D),w),w.value=w.nodeValue=O,R.setAttributeNode(w)}},endElement:function(_,y,T){var E=this.currentElement;E.tagName,this.currentElement=E.parentNode},startPrefixMapping:function(_,y){},endPrefixMapping:function(_){},processingInstruction:function(_,y){var T=this.doc.createProcessingInstruction(_,y);this.locator&&m(this.locator,T),p(this,T)},ignorableWhitespace:function(_,y,T){},characters:function(_,y,T){if(_=g.apply(this,arguments),_){if(this.cdata)var E=this.doc.createCDATASection(_);else var E=this.doc.createTextNode(_);this.currentElement?this.currentElement.appendChild(E):/^\s*$/.test(_)&&this.doc.appendChild(E),this.locator&&m(this.locator,E)}},skippedEntity:function(_){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(_){(this.locator=_)&&(_.lineNumber=0)},comment:function(_,y,T){_=g.apply(this,arguments);var E=this.doc.createComment(_);this.locator&&m(this.locator,E),p(this,E)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(_,y,T){var E=this.doc.implementation;if(E&&E.createDocumentType){var C=E.createDocumentType(_,y,T);this.locator&&m(this.locator,C),p(this,C),this.doc.doctype=C}},warning:function(_){console.warn("[xmldom warning]	"+_,h(this.locator))},error:function(_){console.error("[xmldom error]	"+_,h(this.locator))},fatalError:function(_){throw new a(_,this.locator)}};function h(_){if(_)return`
@`+(_.systemId||"")+"#[line:"+_.lineNumber+",col:"+_.columnNumber+"]"}function g(_,y,T){return typeof _=="string"?_.substr(y,T):_.length>=y+T||y?new java.lang.String(_,y,T)+"":_}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(_){f.prototype[_]=function(){return null}});function p(_,y){_.currentElement?_.currentElement.appendChild(y):_.doc.appendChild(y)}return Mo.__DOMHandler=f,Mo.normalizeLineEndings=u,Mo.DOMParser=l,Mo}var F0;function f3(){if(F0)return Fo;F0=1;var t=EE();return Fo.DOMImplementation=t.DOMImplementation,Fo.XMLSerializer=t.XMLSerializer,Fo.DOMParser=h3().DOMParser,Fo}var p3=f3();/*! @name mpd-parser @version 1.3.1 @license Apache-2.0 */const M0=t=>!!t&&typeof t=="object",Qt=(...t)=>t.reduce((e,i)=>(typeof i!="object"||Object.keys(i).forEach(r=>{Array.isArray(e[r])&&Array.isArray(i[r])?e[r]=e[r].concat(i[r]):M0(e[r])&&M0(i[r])?e[r]=Qt(e[r],i[r]):e[r]=i[r]}),e),{}),xE=t=>Object.keys(t).map(e=>t[e]),m3=(t,e)=>{const i=[];for(let r=t;r<e;r++)i.push(r);return i},La=t=>t.reduce((e,i)=>e.concat(i),[]),wE=t=>{if(!t.length)return[];const e=[];for(let i=0;i<t.length;i++)e.push(t[i]);return e},g3=(t,e)=>t.reduce((i,r,n)=>(r[e]&&i.push(n),i),[]),y3=(t,e)=>xE(t.reduce((i,r)=>(r.forEach(n=>{i[e(n)]=n}),i),{}));var Na={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const Au=({baseUrl:t="",source:e="",range:i="",indexRange:r=""})=>{const n={uri:e,resolvedUri:zd(t||"",e)};if(i||r){const a=(i||r).split("-");let o=q.BigInt?q.BigInt(a[0]):parseInt(a[0],10),u=q.BigInt?q.BigInt(a[1]):parseInt(a[1],10);o<Number.MAX_SAFE_INTEGER&&typeof o=="bigint"&&(o=Number(o)),u<Number.MAX_SAFE_INTEGER&&typeof u=="bigint"&&(u=Number(u));let l;typeof u=="bigint"||typeof o=="bigint"?l=q.BigInt(u)-q.BigInt(o)+q.BigInt(1):l=u-o+1,typeof l=="bigint"&&l<Number.MAX_SAFE_INTEGER&&(l=Number(l)),n.byterange={length:l,offset:o}}return n},v3=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=q.BigInt(t.offset)+q.BigInt(t.length)-q.BigInt(1):e=t.offset+t.length-1,`${t.offset}-${e}`},$0=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),_3={static(t){const{duration:e,timescale:i=1,sourceDuration:r,periodDuration:n}=t,s=$0(t.endNumber),a=e/i;return typeof s=="number"?{start:0,end:s}:typeof n=="number"?{start:0,end:n/a}:{start:0,end:r/a}},dynamic(t){const{NOW:e,clientOffset:i,availabilityStartTime:r,timescale:n=1,duration:s,periodStart:a=0,minimumUpdatePeriod:o=0,timeShiftBufferDepth:u=1/0}=t,l=$0(t.endNumber),c=(e+i)/1e3,f=r+a,h=c+o-f,g=Math.ceil(h*n/s),p=Math.floor((c-f-u)*n/s),_=Math.floor((c-f)*n/s);return{start:Math.max(0,p),end:typeof l=="number"?l:Math.min(g,_)}}},b3=t=>e=>{const{duration:i,timescale:r=1,periodStart:n,startNumber:s=1}=t;return{number:s+e,duration:i/r,timeline:n,time:e*i}},bg=t=>{const{type:e,duration:i,timescale:r=1,periodDuration:n,sourceDuration:s}=t,{start:a,end:o}=_3[e](t),u=m3(a,o).map(b3(t));if(e==="static"){const l=u.length-1,c=typeof n=="number"?n:s;u[l].duration=c-i/r*l}return u},CE=t=>{const{baseUrl:e,initialization:i={},sourceDuration:r,indexRange:n="",periodStart:s,presentationTime:a,number:o=0,duration:u}=t;if(!e)throw new Error(Na.NO_BASE_URL);const l=Au({baseUrl:e,source:i.sourceURL,range:i.range}),c=Au({baseUrl:e,source:e,indexRange:n});if(c.map=l,u){const f=bg(t);f.length&&(c.duration=f[0].duration,c.timeline=f[0].timeline)}else r&&(c.duration=r,c.timeline=s);return c.presentationTime=a||s,c.number=o,[c]},Sg=(t,e,i)=>{const r=t.sidx.map?t.sidx.map:null,n=t.sidx.duration,s=t.timeline||0,a=t.sidx.byterange,o=a.offset+a.length,u=e.timescale,l=e.references.filter(_=>_.referenceType!==1),c=[],f=t.endList?"static":"dynamic",m=t.sidx.timeline;let h=m,g=t.mediaSequence||0,p;typeof e.firstOffset=="bigint"?p=q.BigInt(o)+e.firstOffset:p=o+e.firstOffset;for(let _=0;_<l.length;_++){const y=e.references[_],T=y.referencedSize,E=y.subsegmentDuration;let C;typeof p=="bigint"?C=p+q.BigInt(T)-q.BigInt(1):C=p+T-1;const R=`${p}-${C}`,D=CE({baseUrl:i,timescale:u,timeline:s,periodStart:m,presentationTime:h,number:g,duration:E,sourceDuration:n,indexRange:R,type:f})[0];r&&(D.map=r),c.push(D),typeof p=="bigint"?p+=q.BigInt(T):p+=T,h+=E/u,g++}return t.segments=c,t},S3=["AUDIO","SUBTITLES"],T3=1/60,AE=t=>y3(t,({timeline:e})=>e).sort((e,i)=>e.timeline>i.timeline?1:-1),E3=(t,e)=>{for(let i=0;i<t.length;i++)if(t[i].attributes.NAME===e)return t[i];return null},j0=t=>{let e=[];return l3(t,S3,(i,r,n,s)=>{e=e.concat(i.playlists||[])}),e},B0=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((i,r)=>{i.number=t.mediaSequence+r})},x3=({oldPlaylists:t,newPlaylists:e,timelineStarts:i})=>{e.forEach(r=>{r.discontinuitySequence=i.findIndex(function({timeline:u}){return u===r.timeline});const n=E3(t,r.attributes.NAME);if(!n||r.sidx)return;const s=r.segments[0],a=n.segments.findIndex(function(u){return Math.abs(u.presentationTime-s.presentationTime)<T3});if(a===-1){B0({playlist:r,mediaSequence:n.mediaSequence+n.segments.length}),r.segments[0].discontinuity=!0,r.discontinuityStarts.unshift(0),(!n.segments.length&&r.timeline>n.timeline||n.segments.length&&r.timeline>n.segments[n.segments.length-1].timeline)&&r.discontinuitySequence--;return}n.segments[a].discontinuity&&!s.discontinuity&&(s.discontinuity=!0,r.discontinuityStarts.unshift(0),r.discontinuitySequence--),B0({playlist:r,mediaSequence:n.segments[a].number})})},w3=({oldManifest:t,newManifest:e})=>{const i=t.playlists.concat(j0(t)),r=e.playlists.concat(j0(e));return e.timelineStarts=AE([t.timelineStarts,e.timelineStarts]),x3({oldPlaylists:i,newPlaylists:r,timelineStarts:e.timelineStarts}),e},Kd=t=>t&&t.uri+"-"+v3(t.byterange),ff=t=>{const e=t.reduce(function(r,n){return r[n.attributes.baseUrl]||(r[n.attributes.baseUrl]=[]),r[n.attributes.baseUrl].push(n),r},{});let i=[];return Object.values(e).forEach(r=>{const n=xE(r.reduce((s,a)=>{const o=a.attributes.id+(a.attributes.lang||"");return s[o]?(a.segments&&(a.segments[0]&&(a.segments[0].discontinuity=!0),s[o].segments.push(...a.segments)),a.attributes.contentProtection&&(s[o].attributes.contentProtection=a.attributes.contentProtection)):(s[o]=a,s[o].attributes.timelineStarts=[]),s[o].attributes.timelineStarts.push({start:a.attributes.periodStart,timeline:a.attributes.periodStart}),s},{}));i=i.concat(n)}),i.map(r=>(r.discontinuityStarts=g3(r.segments||[],"discontinuity"),r))},Tg=(t,e)=>{const i=Kd(t.sidx),r=i&&e[i]&&e[i].sidx;return r&&Sg(t,r,t.sidx.resolvedUri),t},C3=(t,e={})=>{if(!Object.keys(e).length)return t;for(const i in t)t[i]=Tg(t[i],e);return t},A3=({attributes:t,segments:e,sidx:i,mediaSequence:r,discontinuitySequence:n,discontinuityStarts:s},a)=>{const o={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:n,discontinuityStarts:s,timelineStarts:t.timelineStarts,mediaSequence:r,segments:e};return t.contentProtection&&(o.contentProtection=t.contentProtection),t.serviceLocation&&(o.attributes.serviceLocation=t.serviceLocation),i&&(o.sidx=i),a&&(o.attributes.AUDIO="audio",o.attributes.SUBTITLES="subs"),o},P3=({attributes:t,segments:e,mediaSequence:i,discontinuityStarts:r,discontinuitySequence:n})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const s={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(s.CODECS=t.codecs);const a={attributes:s,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:r,discontinuitySequence:n,mediaSequence:i,segments:e};return t.serviceLocation&&(a.attributes.serviceLocation=t.serviceLocation),a},O3=(t,e={},i=!1)=>{let r;const n=t.reduce((s,a)=>{const o=a.attributes.role&&a.attributes.role.value||"",u=a.attributes.lang||"";let l=a.attributes.label||"main";if(u&&!a.attributes.label){const f=o?` (${o})`:"";l=`${a.attributes.lang}${f}`}s[l]||(s[l]={language:u,autoselect:!0,default:o==="main",playlists:[],uri:""});const c=Tg(A3(a,i),e);return s[l].playlists.push(c),typeof r>"u"&&o==="main"&&(r=a,r.default=!0),s},{});if(!r){const s=Object.keys(n)[0];n[s].default=!0}return n},R3=(t,e={})=>t.reduce((i,r)=>{const n=r.attributes.label||r.attributes.lang||"text",s=r.attributes.lang||"und";return i[n]||(i[n]={language:s,default:!1,autoselect:!1,playlists:[],uri:""}),i[n].playlists.push(Tg(P3(r),e)),i},{}),D3=t=>t.reduce((e,i)=>(i&&i.forEach(r=>{const{channel:n,language:s}=r;e[s]={autoselect:!1,default:!1,instreamId:n,language:s},r.hasOwnProperty("aspectRatio")&&(e[s].aspectRatio=r.aspectRatio),r.hasOwnProperty("easyReader")&&(e[s].easyReader=r.easyReader),r.hasOwnProperty("3D")&&(e[s]["3D"]=r["3D"])}),e),{}),I3=({attributes:t,segments:e,sidx:i,discontinuityStarts:r})=>{const n={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:r,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(n.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(n.contentProtection=t.contentProtection),t.serviceLocation&&(n.attributes.serviceLocation=t.serviceLocation),i&&(n.sidx=i),n},k3=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",L3=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",N3=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",F3=(t,e)=>{t.forEach(i=>{i.mediaSequence=0,i.discontinuitySequence=e.findIndex(function({timeline:r}){return r===i.timeline}),i.segments&&i.segments.forEach((r,n)=>{r.number=n})})},U0=t=>t?Object.keys(t).reduce((e,i)=>{const r=t[i];return e.concat(r.playlists)},[]):[],M3=({dashPlaylists:t,locations:e,contentSteering:i,sidxMapping:r={},previousManifest:n,eventStream:s})=>{if(!t.length)return{};const{sourceDuration:a,type:o,suggestedPresentationDelay:u,minimumUpdatePeriod:l}=t[0].attributes,c=ff(t.filter(k3)).map(I3),f=ff(t.filter(L3)),m=ff(t.filter(N3)),h=t.map(C=>C.attributes.captionServices).filter(Boolean),g={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:a,playlists:C3(c,r)};l>=0&&(g.minimumUpdatePeriod=l*1e3),e&&(g.locations=e),i&&(g.contentSteering=i),o==="dynamic"&&(g.suggestedPresentationDelay=u),s&&s.length>0&&(g.eventStream=s);const p=g.playlists.length===0,_=f.length?O3(f,r,p):null,y=m.length?R3(m,r):null,T=c.concat(U0(_),U0(y)),E=T.map(({timelineStarts:C})=>C);return g.timelineStarts=AE(E),F3(T,g.timelineStarts),_&&(g.mediaGroups.AUDIO.audio=_),y&&(g.mediaGroups.SUBTITLES.subs=y),h.length&&(g.mediaGroups["CLOSED-CAPTIONS"].cc=D3(h)),n?w3({oldManifest:n,newManifest:g}):g},$3=(t,e,i)=>{const{NOW:r,clientOffset:n,availabilityStartTime:s,timescale:a=1,periodStart:o=0,minimumUpdatePeriod:u=0}=t,l=(r+n)/1e3,c=s+o,m=l+u-c;return Math.ceil((m*a-e)/i)},PE=(t,e)=>{const{type:i,minimumUpdatePeriod:r=0,media:n="",sourceDuration:s,timescale:a=1,startNumber:o=1,periodStart:u}=t,l=[];let c=-1;for(let f=0;f<e.length;f++){const m=e[f],h=m.d,g=m.r||0,p=m.t||0;c<0&&(c=p),p&&p>c&&(c=p);let _;if(g<0){const E=f+1;E===e.length?i==="dynamic"&&r>0&&n.indexOf("$Number$")>0?_=$3(t,c,h):_=(s*a-c)/h:_=(e[E].t-c)/h}else _=g+1;const y=o+l.length+_;let T=o+l.length;for(;T<y;)l.push({number:T,duration:h/a,time:c,timeline:u}),c+=h,T++}return l},j3=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,B3=t=>(e,i,r,n)=>{if(e==="$$")return"$";if(typeof t[i]>"u")return e;const s=""+t[i];return i==="RepresentationID"||(r?n=parseInt(n,10):n=1,s.length>=n)?s:`${new Array(n-s.length+1).join("0")}${s}`},H0=(t,e)=>t.replace(j3,B3(e)),U3=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?bg(t):PE(t,e),H3=(t,e)=>{const i={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:r={sourceURL:"",range:""}}=t,n=Au({baseUrl:t.baseUrl,source:H0(r.sourceURL,i),range:r.range});return U3(t,e).map(a=>{i.Number=a.number,i.Time=a.time;const o=H0(t.media||"",i),u=t.timescale||1,l=t.presentationTimeOffset||0,c=t.periodStart+(a.time-l)/u;return{uri:o,timeline:a.timeline,duration:a.duration,resolvedUri:zd(t.baseUrl||"",o),map:n,number:a.number,presentationTime:c}})},q3=(t,e)=>{const{baseUrl:i,initialization:r={}}=t,n=Au({baseUrl:i,source:r.sourceURL,range:r.range}),s=Au({baseUrl:i,source:e.media,range:e.mediaRange});return s.map=n,s},V3=(t,e)=>{const{duration:i,segmentUrls:r=[],periodStart:n}=t;if(!i&&!e||i&&e)throw new Error(Na.SEGMENT_TIME_UNSPECIFIED);const s=r.map(u=>q3(t,u));let a;return i&&(a=bg(t)),e&&(a=PE(t,e)),a.map((u,l)=>{if(s[l]){const c=s[l],f=t.timescale||1,m=t.presentationTimeOffset||0;return c.timeline=u.timeline,c.duration=u.duration,c.number=u.number,c.presentationTime=n+(u.time-m)/f,c}}).filter(u=>u)},W3=({attributes:t,segmentInfo:e})=>{let i,r;e.template?(r=H3,i=Qt(t,e.template)):e.base?(r=CE,i=Qt(t,e.base)):e.list&&(r=V3,i=Qt(t,e.list));const n={attributes:t};if(!r)return n;const s=r(i,e.segmentTimeline);if(i.duration){const{duration:a,timescale:o=1}=i;i.duration=a/o}else s.length?i.duration=s.reduce((a,o)=>Math.max(a,Math.ceil(o.duration)),0):i.duration=0;return n.attributes=i,n.segments=s,e.base&&i.indexRange&&(n.sidx=s[0],n.segments=[]),n},z3=t=>t.map(W3),Ct=(t,e)=>wE(t.childNodes).filter(({tagName:i})=>i===e),Sl=t=>t.textContent.trim(),G3=t=>parseFloat(t.split("/").reduce((e,i)=>e/i)),Ws=t=>{const o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!o)return 0;const[u,l,c,f,m,h]=o.slice(1);return parseFloat(u||0)*31536e3+parseFloat(l||0)*2592e3+parseFloat(c||0)*86400+parseFloat(f||0)*3600+parseFloat(m||0)*60+parseFloat(h||0)},K3=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),q0={mediaPresentationDuration(t){return Ws(t)},availabilityStartTime(t){return K3(t)/1e3},minimumUpdatePeriod(t){return Ws(t)},suggestedPresentationDelay(t){return Ws(t)},type(t){return t},timeShiftBufferDepth(t){return Ws(t)},start(t){return Ws(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return G3(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?Ws(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},jt=t=>t&&t.attributes?wE(t.attributes).reduce((e,i)=>{const r=q0[i.name]||q0.DEFAULT;return e[i.name]=r(i.value),e},{}):{},Q3={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},Qd=(t,e)=>e.length?La(t.map(function(i){return e.map(function(r){const n=Sl(r),s=zd(i.baseUrl,n),a=Qt(jt(r),{baseUrl:s});return s!==n&&!a.serviceLocation&&i.serviceLocation&&(a.serviceLocation=i.serviceLocation),a})})):t,Eg=t=>{const e=Ct(t,"SegmentTemplate")[0],i=Ct(t,"SegmentList")[0],r=i&&Ct(i,"SegmentURL").map(f=>Qt({tag:"SegmentURL"},jt(f))),n=Ct(t,"SegmentBase")[0],s=i||e,a=s&&Ct(s,"SegmentTimeline")[0],o=i||n||e,u=o&&Ct(o,"Initialization")[0],l=e&&jt(e);l&&u?l.initialization=u&&jt(u):l&&l.initialization&&(l.initialization={sourceURL:l.initialization});const c={template:l,segmentTimeline:a&&Ct(a,"S").map(f=>jt(f)),list:i&&Qt(jt(i),{segmentUrls:r,initialization:jt(u)}),base:n&&Qt(jt(n),{initialization:jt(u)})};return Object.keys(c).forEach(f=>{c[f]||delete c[f]}),c},X3=(t,e,i)=>r=>{const n=Ct(r,"BaseURL"),s=Qd(e,n),a=Qt(t,jt(r)),o=Eg(r);return s.map(u=>({segmentInfo:Qt(i,o),attributes:Qt(a,u)}))},Y3=t=>t.reduce((e,i)=>{const r=jt(i);r.schemeIdUri&&(r.schemeIdUri=r.schemeIdUri.toLowerCase());const n=Q3[r.schemeIdUri];if(n){e[n]={attributes:r};const s=Ct(i,"cenc:pssh")[0];if(s){const a=Sl(s);e[n].pssh=a&&yE(a)}}return e},{}),J3=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(i=>{let r,n;return n=i,/^CC\d=/.test(i)?[r,n]=i.split("="):/^CC\d$/.test(i)&&(r=i),{channel:r,language:n}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(i=>{const r={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(i)){const[n,s=""]=i.split("=");r.channel=n,r.language=i,s.split(",").forEach(a=>{const[o,u]=a.split(":");o==="lang"?r.language=u:o==="er"?r.easyReader=Number(u):o==="war"?r.aspectRatio=Number(u):o==="3D"&&(r["3D"]=Number(u))})}else r.language=i;return r.channel&&(r.channel="SERVICE"+r.channel),r})},Z3=t=>La(Ct(t.node,"EventStream").map(e=>{const i=jt(e),r=i.schemeIdUri;return Ct(e,"Event").map(n=>{const s=jt(n),a=s.presentationTime||0,o=i.timescale||1,u=s.duration||0,l=a/o+t.attributes.start;return{schemeIdUri:r,value:i.value,id:s.id,start:l,end:l+u/o,messageData:Sl(n)||s.messageData,contentEncoding:i.contentEncoding,presentationTimeOffset:i.presentationTimeOffset||0}})})),eN=(t,e,i)=>r=>{const n=jt(r),s=Qd(e,Ct(r,"BaseURL")),a=Ct(r,"Role")[0],o={role:jt(a)};let u=Qt(t,n,o);const l=Ct(r,"Accessibility")[0],c=J3(jt(l));c&&(u=Qt(u,{captionServices:c}));const f=Ct(r,"Label")[0];if(f&&f.childNodes.length){const _=f.childNodes[0].nodeValue.trim();u=Qt(u,{label:_})}const m=Y3(Ct(r,"ContentProtection"));Object.keys(m).length&&(u=Qt(u,{contentProtection:m}));const h=Eg(r),g=Ct(r,"Representation"),p=Qt(i,h);return La(g.map(X3(u,s,p)))},tN=(t,e)=>(i,r)=>{const n=Qd(e,Ct(i.node,"BaseURL")),s=Qt(t,{periodStart:i.attributes.start});typeof i.attributes.duration=="number"&&(s.periodDuration=i.attributes.duration);const a=Ct(i.node,"AdaptationSet"),o=Eg(i.node);return La(a.map(eN(s,n,o)))},iN=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const i=Qt({serverURL:Sl(t[0])},jt(t[0]));return i.queryBeforeStart=i.queryBeforeStart==="true",i},rN=({attributes:t,priorPeriodAttributes:e,mpdType:i})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&i==="static"?0:null,nN=(t,e={})=>{const{manifestUri:i="",NOW:r=Date.now(),clientOffset:n=0,eventHandler:s=function(){}}=e,a=Ct(t,"Period");if(!a.length)throw new Error(Na.INVALID_NUMBER_OF_PERIOD);const o=Ct(t,"Location"),u=jt(t),l=Qd([{baseUrl:i}],Ct(t,"BaseURL")),c=Ct(t,"ContentSteering");u.type=u.type||"static",u.sourceDuration=u.mediaPresentationDuration||0,u.NOW=r,u.clientOffset=n,o.length&&(u.locations=o.map(Sl));const f=[];return a.forEach((m,h)=>{const g=jt(m),p=f[h-1];g.start=rN({attributes:g,priorPeriodAttributes:p?p.attributes:null,mpdType:u.type}),f.push({node:m,attributes:g})}),{locations:u.locations,contentSteeringInfo:iN(c,s),representationInfo:La(f.map(tN(u,l))),eventStream:La(f.map(Z3))}},OE=t=>{if(t==="")throw new Error(Na.DASH_EMPTY_MANIFEST);const e=new p3.DOMParser;let i,r;try{i=e.parseFromString(t,"application/xml"),r=i&&i.documentElement.tagName==="MPD"?i.documentElement:null}catch{}if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error(Na.DASH_INVALID_XML);return r},sN=t=>{const e=Ct(t,"UTCTiming")[0];if(!e)return null;const i=jt(e);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Na.UNSUPPORTED_UTC_TIMING_SCHEME)}return i},aN=(t,e={})=>{const i=nN(OE(t),e),r=z3(i.representationInfo);return M3({dashPlaylists:r,locations:i.locations,contentSteering:i.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:i.eventStream})},oN=t=>sN(OE(t));var pf,V0;function uN(){if(V0)return pf;V0=1;var t=Math.pow(2,32),e=function(i){var r=new DataView(i.buffer,i.byteOffset,i.byteLength),n;return r.getBigUint64?(n=r.getBigUint64(0),n<Number.MAX_SAFE_INTEGER?Number(n):n):r.getUint32(0)*t+r.getUint32(4)};return pf={getUint64:e,MAX_UINT32:t},pf}var mf,W0;function lN(){if(W0)return mf;W0=1;var t=uN().getUint64,e=function(i){var r=new DataView(i.buffer,i.byteOffset,i.byteLength),n={version:i[0],flags:new Uint8Array(i.subarray(1,4)),references:[],referenceId:r.getUint32(4),timescale:r.getUint32(8)},s=12;n.version===0?(n.earliestPresentationTime=r.getUint32(s),n.firstOffset=r.getUint32(s+4),s+=8):(n.earliestPresentationTime=t(i.subarray(s)),n.firstOffset=t(i.subarray(s+8)),s+=16),s+=2;var a=r.getUint16(s);for(s+=2;a>0;s+=12,a--)n.references.push({referenceType:(i[s]&128)>>>7,referencedSize:r.getUint32(s)&2147483647,subsegmentDuration:r.getUint32(s+4),startsWithSap:!!(i[s+8]&128),sapType:(i[s+8]&112)>>>4,sapDeltaTime:r.getUint32(s+8)&268435455});return n};return mf=e,mf}var cN=lN();const dN=os(cN);var hN=Ue([73,68,51]),fN=function(e,i){i===void 0&&(i=0),e=Ue(e);var r=e[i+5],n=e[i+6]<<21|e[i+7]<<14|e[i+8]<<7|e[i+9],s=(r&16)>>4;return s?n+20:n+10},Qo=function t(e,i){return i===void 0&&(i=0),e=Ue(e),e.length-i<10||!wt(e,hN,{offset:i})?i:(i+=fN(e,i),t(e,i))},z0=function(e){return typeof e=="string"?TE(e):e},pN=function(e){return Array.isArray(e)?e.map(function(i){return z0(i)}):[z0(e)]},mN=function t(e,i,r){r===void 0&&(r=!1),i=pN(i),e=Ue(e);var n=[];if(!i.length)return n;for(var s=0;s<e.length;){var a=(e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3])>>>0,o=e.subarray(s+4,s+8);if(a===0)break;var u=s+a;if(u>e.length){if(r)break;u=e.length}var l=e.subarray(s+8,u);wt(o,i[0])&&(i.length===1?n.push(l):n.push.apply(n,t(l,i.slice(1),r))),s=u}return n},cc={EBML:Ue([26,69,223,163]),DocType:Ue([66,130]),Segment:Ue([24,83,128,103]),SegmentInfo:Ue([21,73,169,102]),Tracks:Ue([22,84,174,107]),Track:Ue([174]),TrackNumber:Ue([215]),DefaultDuration:Ue([35,227,131]),TrackEntry:Ue([174]),TrackType:Ue([131]),FlagDefault:Ue([136]),CodecID:Ue([134]),CodecPrivate:Ue([99,162]),VideoTrack:Ue([224]),AudioTrack:Ue([225]),Cluster:Ue([31,67,182,117]),Timestamp:Ue([231]),TimestampScale:Ue([42,215,177]),BlockGroup:Ue([160]),BlockDuration:Ue([155]),Block:Ue([161]),SimpleBlock:Ue([163])},nm=[128,64,32,16,8,4,2,1],gN=function(e){for(var i=1,r=0;r<nm.length&&!(e&nm[r]);r++)i++;return i},id=function(e,i,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1);var s=gN(e[i]),a=e.subarray(i,i+s);return r&&(a=Array.prototype.slice.call(e,i,i+s),a[0]^=nm[s-1]),{length:s,value:a3(a,{signed:n}),bytes:a}},G0=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(i){return t(i)}):typeof e=="number"?o3(e):e},yN=function(e){return Array.isArray(e)?e.map(function(i){return G0(i)}):[G0(e)]},vN=function t(e,i,r){if(r>=i.length)return i.length;var n=id(i,r,!1);if(wt(e.bytes,n.bytes))return r;var s=id(i,r+n.length);return t(e,i,r+s.length+s.value+n.length)},K0=function t(e,i){i=yN(i),e=Ue(e);var r=[];if(!i.length)return r;for(var n=0;n<e.length;){var s=id(e,n,!1),a=id(e,n+s.length),o=n+s.length+a.length;a.value===127&&(a.value=vN(s,e,o),a.value!==e.length&&(a.value-=o));var u=o+a.value>e.length?e.length:o+a.value,l=e.subarray(o,u);wt(i[0],s.bytes)&&(i.length===1?r.push(l):r=r.concat(t(l,i.slice(1))));var c=s.length+a.length+l.length;n+=c}return r},_N=Ue([0,0,0,1]),bN=Ue([0,0,1]),SN=Ue([0,0,3]),TN=function(e){for(var i=[],r=1;r<e.length-2;)wt(e.subarray(r,r+3),SN)&&(i.push(r+2),r++),r++;if(i.length===0)return e;var n=e.length-i.length,s=new Uint8Array(n),a=0;for(r=0;r<n;a++,r++)a===i[0]&&(a++,i.shift()),s[r]=e[a];return s},RE=function(e,i,r,n){e=Ue(e),r=[].concat(r);for(var s=0,a,o=0;s<e.length&&(o<n||a);){var u=void 0;if(wt(e.subarray(s),_N)?u=4:wt(e.subarray(s),bN)&&(u=3),!u){s++;continue}if(o++,a)return TN(e.subarray(a,s));var l=void 0;i==="h264"?l=e[s+u]&31:i==="h265"&&(l=e[s+u]>>1&63),r.indexOf(l)!==-1&&(a=s+u),s+=u+(i==="h264"?1:2)}return e.subarray(0,0)},EN=function(e,i,r){return RE(e,"h264",i,r)},xN=function(e,i,r){return RE(e,"h265",i,r)},yi={webm:Ue([119,101,98,109]),matroska:Ue([109,97,116,114,111,115,107,97]),flac:Ue([102,76,97,67]),ogg:Ue([79,103,103,83]),ac3:Ue([11,119]),riff:Ue([82,73,70,70]),avi:Ue([65,86,73]),wav:Ue([87,65,86,69]),"3gp":Ue([102,116,121,112,51,103]),mp4:Ue([102,116,121,112]),fmp4:Ue([115,116,121,112]),mov:Ue([102,116,121,112,113,116]),moov:Ue([109,111,111,118]),moof:Ue([109,111,111,102])},Fa={aac:function(e){var i=Qo(e);return wt(e,[255,16],{offset:i,mask:[255,22]})},mp3:function(e){var i=Qo(e);return wt(e,[255,2],{offset:i,mask:[255,6]})},webm:function(e){var i=K0(e,[cc.EBML,cc.DocType])[0];return wt(i,yi.webm)},mkv:function(e){var i=K0(e,[cc.EBML,cc.DocType])[0];return wt(i,yi.matroska)},mp4:function(e){if(Fa["3gp"](e)||Fa.mov(e))return!1;if(wt(e,yi.mp4,{offset:4})||wt(e,yi.fmp4,{offset:4})||wt(e,yi.moof,{offset:4})||wt(e,yi.moov,{offset:4}))return!0},mov:function(e){return wt(e,yi.mov,{offset:4})},"3gp":function(e){return wt(e,yi["3gp"],{offset:4})},ac3:function(e){var i=Qo(e);return wt(e,yi.ac3,{offset:i})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var i=0;i+188<e.length&&i<188;){if(e[i]===71&&e[i+188]===71)return!0;i+=1}return!1},flac:function(e){var i=Qo(e);return wt(e,yi.flac,{offset:i})},ogg:function(e){return wt(e,yi.ogg)},avi:function(e){return wt(e,yi.riff)&&wt(e,yi.avi,{offset:8})},wav:function(e){return wt(e,yi.riff)&&wt(e,yi.wav,{offset:8})},h264:function(e){return EN(e,7,3).length},h265:function(e){return xN(e,[32,33],3).length}},sm=Object.keys(Fa).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);sm.forEach(function(t){var e=Fa[t];Fa[t]=function(i){return e(Ue(i))}});var wN=Fa,xg=function(e){e=Ue(e);for(var i=0;i<sm.length;i++){var r=sm[i];if(wN[r](e))return r}return""},CN=function(e){return mN(e,["moof"]).length>0},gf,Q0;function AN(){if(Q0)return gf;Q0=1;var t=9e4,e,i,r,n,s,a,o;return e=function(u){return u*t},i=function(u,l){return u*l},r=function(u){return u/t},n=function(u,l){return u/l},s=function(u,l){return e(n(u,l))},a=function(u,l){return i(r(u),l)},o=function(u,l,c){return r(c?u:u-l)},gf={ONE_SECOND_IN_TS:t,secondsToVideoTs:e,secondsToAudioTs:i,videoTsToSeconds:r,audioTsToSeconds:n,audioTsToVideoTs:s,videoTsToAudioTs:a,metadataTsToSeconds:o},gf}var xs=AN();/**
 * @license
 * Video.js 8.22.0 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var am="8.22.0";const yn={},ts=function(t,e){return yn[t]=yn[t]||[],e&&(yn[t]=yn[t].concat(e)),yn[t]},PN=function(t,e){ts(t,e)},DE=function(t,e){const i=ts(t).indexOf(e);return i<=-1?!1:(yn[t]=yn[t].slice(),yn[t].splice(i,1),!0)},ON=function(t,e){ts(t,[].concat(e).map(i=>{const r=(...n)=>(DE(t,r),i(...n));return r}))},rd={prefixed:!0},Nc=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],X0=Nc[0];let Xo;for(let t=0;t<Nc.length;t++)if(Nc[t][1]in we){Xo=Nc[t];break}if(Xo){for(let t=0;t<Xo.length;t++)rd[X0[t]]=Xo[t];rd.prefixed=Xo[0]!==X0[0]}let Oi=[];const RN=(t,e,i)=>(r,n,s)=>{const a=e.levels[n],o=new RegExp(`^(${a})$`);let u=t;if(r!=="log"&&s.unshift(r.toUpperCase()+":"),i&&(u=`%c${t}`,s.unshift(i)),s.unshift(u+":"),Oi){Oi.push([].concat(s));const c=Oi.length-1e3;Oi.splice(0,c>0?c:0)}if(!q.console)return;let l=q.console[r];!l&&r==="debug"&&(l=q.console.info||q.console.log),!(!l||!a||!o.test(r))&&l[Array.isArray(s)?"apply":"call"](q.console,s)};function om(t,e=":",i=""){let r="info",n;function s(...a){n("log",r,a)}return n=RN(t,s,i),s.createLogger=(a,o,u)=>{const l=o!==void 0?o:e,c=u!==void 0?u:i,f=`${t} ${l} ${a}`;return om(f,l,c)},s.createNewLogger=(a,o,u)=>om(a,o,u),s.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:r},s.level=a=>{if(typeof a=="string"){if(!s.levels.hasOwnProperty(a))throw new Error(`"${a}" in not a valid log level`);r=a}return r},s.history=()=>Oi?[].concat(Oi):[],s.history.filter=a=>(Oi||[]).filter(o=>new RegExp(`.*${a}.*`).test(o[0])),s.history.clear=()=>{Oi&&(Oi.length=0)},s.history.disable=()=>{Oi!==null&&(Oi.length=0,Oi=null)},s.history.enable=()=>{Oi===null&&(Oi=[])},s.error=(...a)=>n("error",r,a),s.warn=(...a)=>n("warn",r,a),s.debug=(...a)=>n("debug",r,a),s}const et=om("VIDEOJS"),IE=et.createLogger,DN=Object.prototype.toString,kE=function(t){return Zr(t)?Object.keys(t):[]};function _a(t,e){kE(t).forEach(i=>e(t[i],i))}function LE(t,e,i=0){return kE(t).reduce((r,n)=>e(r,t[n],n),i)}function Zr(t){return!!t&&typeof t=="object"}function Ma(t){return Zr(t)&&DN.call(t)==="[object Object]"&&t.constructor===Object}function ft(...t){const e={};return t.forEach(i=>{i&&_a(i,(r,n)=>{if(!Ma(r)){e[n]=r;return}Ma(e[n])||(e[n]={}),e[n]=ft(e[n],r)})}),e}function NE(t={}){const e=[];for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];e.push(r)}return e}function Xd(t,e,i,r=!0){const n=a=>Object.defineProperty(t,e,{value:a,enumerable:!0,writable:!0}),s={configurable:!0,enumerable:!0,get(){const a=i();return n(a),a}};return r&&(s.set=n),Object.defineProperty(t,e,s)}var IN=Object.freeze({__proto__:null,each:_a,reduce:LE,isObject:Zr,isPlain:Ma,merge:ft,values:NE,defineLazyProperty:Xd});let wg=!1,FE=null,xr=!1,ME,$E=!1,ba=!1,Sa=!1,en=!1,Cg=null,Yd=null;const kN=!!(q.cast&&q.cast.framework&&q.cast.framework.CastReceiverContext);let jE=null,nd=!1,Jd=!1,sd=!1,Zd=!1,ad=!1,od=!1,ud=!1;const Pu=!!(eo()&&("ontouchstart"in q||q.navigator.maxTouchPoints||q.DocumentTouch&&q.document instanceof q.DocumentTouch)),Mn=q.navigator&&q.navigator.userAgentData;Mn&&Mn.platform&&Mn.brands&&(xr=Mn.platform==="Android",ba=!!Mn.brands.find(t=>t.brand==="Microsoft Edge"),Sa=!!Mn.brands.find(t=>t.brand==="Chromium"),en=!ba&&Sa,Cg=Yd=(Mn.brands.find(t=>t.brand==="Chromium")||{}).version||null,Jd=Mn.platform==="Windows");if(!Sa){const t=q.navigator&&q.navigator.userAgent||"";wg=/iPod/i.test(t),FE=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),xr=/Android/i.test(t),ME=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const i=e[1]&&parseFloat(e[1]),r=e[2]&&parseFloat(e[2]);return i&&r?parseFloat(e[1]+"."+e[2]):i||null}(),$E=/Firefox/i.test(t),ba=/Edg/i.test(t),Sa=/Chrome/i.test(t)||/CriOS/i.test(t),en=!ba&&Sa,Cg=Yd=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),jE=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let i=e&&parseFloat(e[1]);return!i&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(i=11),i}(),ad=/Tizen/i.test(t),od=/Web0S/i.test(t),ud=ad||od,nd=/Safari/i.test(t)&&!en&&!xr&&!ba&&!ud,Jd=/Windows/i.test(t),sd=/iPad/i.test(t)||nd&&Pu&&!/iPhone/i.test(t),Zd=/iPhone/i.test(t)&&!sd}const ci=Zd||sd||wg,eh=(nd||ci)&&!en;var BE=Object.freeze({__proto__:null,get IS_IPOD(){return wg},get IOS_VERSION(){return FE},get IS_ANDROID(){return xr},get ANDROID_VERSION(){return ME},get IS_FIREFOX(){return $E},get IS_EDGE(){return ba},get IS_CHROMIUM(){return Sa},get IS_CHROME(){return en},get CHROMIUM_VERSION(){return Cg},get CHROME_VERSION(){return Yd},IS_CHROMECAST_RECEIVER:kN,get IE_VERSION(){return jE},get IS_SAFARI(){return nd},get IS_WINDOWS(){return Jd},get IS_IPAD(){return sd},get IS_IPHONE(){return Zd},get IS_TIZEN(){return ad},get IS_WEBOS(){return od},get IS_SMART_TV(){return ud},TOUCH_ENABLED:Pu,IS_IOS:ci,IS_ANY_SAFARI:eh});function Y0(t){return typeof t=="string"&&!!t.trim()}function LN(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function eo(){return we===q.document}function to(t){return Zr(t)&&t.nodeType===1}function UE(){try{return q.parent!==q.self}catch{return!0}}function HE(t){return function(e,i){if(!Y0(e))return we[t](null);Y0(i)&&(i=we.querySelector(i));const r=to(i)?i:we;return r[t]&&r[t](e)}}function qe(t="div",e={},i={},r){const n=we.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(s){const a=e[s];s==="textContent"?us(n,a):(n[s]!==a||s==="tabIndex")&&(n[s]=a)}),Object.getOwnPropertyNames(i).forEach(function(s){n.setAttribute(s,i[s])}),r&&Ag(n,r),n}function us(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function um(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function du(t,e){return LN(e),t.classList.contains(e)}function Ds(t,...e){return t.classList.add(...e.reduce((i,r)=>i.concat(r.split(/\s+/)),[])),t}function th(t,...e){return t?(t.classList.remove(...e.reduce((i,r)=>i.concat(r.split(/\s+/)),[])),t):(et.warn("removeClass was called with an element that doesn't exist"),null)}function qE(t,e,i){return typeof i=="function"&&(i=i(t,e)),typeof i!="boolean"&&(i=void 0),e.split(/\s+/).forEach(r=>t.classList.toggle(r,i)),t}function VE(t,e){Object.getOwnPropertyNames(e).forEach(function(i){const r=e[i];r===null||typeof r>"u"||r===!1?t.removeAttribute(i):t.setAttribute(i,r===!0?"":r)})}function Kn(t){const e={},i=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const r=t.attributes;for(let n=r.length-1;n>=0;n--){const s=r[n].name;let a=r[n].value;i.includes(s)&&(a=a!==null),e[s]=a}}return e}function WE(t,e){return t.getAttribute(e)}function $a(t,e,i){t.setAttribute(e,i)}function ih(t,e){t.removeAttribute(e)}function zE(){we.body.focus(),we.onselectstart=function(){return!1}}function GE(){we.onselectstart=function(){return!0}}function ja(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(r=>{e[r]!==void 0&&(i[r]=e[r])}),i.height||(i.height=parseFloat(Ba(t,"height"))),i.width||(i.width=parseFloat(Ba(t,"width"))),i}}function Ou(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,i=t.offsetHeight;let r=0,n=0;for(;t.offsetParent&&t!==we[rd.fullscreenElement];)r+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return{left:r,top:n,width:e,height:i}}function rh(t,e){const i={x:0,y:0};if(ci){let c=t;for(;c&&c.nodeName.toLowerCase()!=="html";){const f=Ba(c,"transform");if(/^matrix/.test(f)){const m=f.slice(7,-1).split(/,\s/).map(Number);i.x+=m[4],i.y+=m[5]}else if(/^matrix3d/.test(f)){const m=f.slice(9,-1).split(/,\s/).map(Number);i.x+=m[12],i.y+=m[13]}if(c.assignedSlot&&c.assignedSlot.parentElement&&q.WebKitCSSMatrix){const m=q.getComputedStyle(c.assignedSlot.parentElement).transform,h=new q.WebKitCSSMatrix(m);i.x+=h.m41,i.y+=h.m42}c=c.parentNode||c.host}}const r={},n=Ou(e.target),s=Ou(t),a=s.width,o=s.height;let u=e.offsetY-(s.top-n.top),l=e.offsetX-(s.left-n.left);return e.changedTouches&&(l=e.changedTouches[0].pageX-s.left,u=e.changedTouches[0].pageY+s.top,ci&&(l-=i.x,u-=i.y)),r.y=1-Math.max(0,Math.min(1,u/o)),r.x=Math.max(0,Math.min(1,l/a)),r}function KE(t){return Zr(t)&&t.nodeType===3}function nh(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function QE(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),to(e)||KE(e))return e;if(typeof e=="string"&&/\S/.test(e))return we.createTextNode(e)}).filter(e=>e)}function Ag(t,e){return QE(e).forEach(i=>t.appendChild(i)),t}function XE(t,e){return Ag(nh(t),e)}function Ru(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0||t.type==="mousedown"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const is=HE("querySelector"),YE=HE("querySelectorAll");function Ba(t,e){if(!t||!e)return"";if(typeof q.getComputedStyle=="function"){let i;try{i=q.getComputedStyle(t)}catch{return""}return i?i.getPropertyValue(e)||i[e]:""}return""}function JE(t){[...we.styleSheets].forEach(e=>{try{const i=[...e.cssRules].map(n=>n.cssText).join(""),r=we.createElement("style");r.textContent=i,t.document.head.appendChild(r)}catch{const r=we.createElement("link");r.rel="stylesheet",r.type=e.type,r.media=e.media.mediaText,r.href=e.href,t.document.head.appendChild(r)}})}var ZE=Object.freeze({__proto__:null,isReal:eo,isEl:to,isInFrame:UE,createEl:qe,textContent:us,prependTo:um,hasClass:du,addClass:Ds,removeClass:th,toggleClass:qE,setAttributes:VE,getAttributes:Kn,getAttribute:WE,setAttribute:$a,removeAttribute:ih,blockTextSelection:zE,unblockTextSelection:GE,getBoundingClientRect:ja,findPosition:Ou,getPointerPosition:rh,isTextNode:KE,emptyEl:nh,normalizeContent:QE,appendContent:Ag,insertContent:XE,isSingleLeftClick:Ru,$:is,$$:YE,computedStyle:Ba,copyStyleSheetsToWindow:JE});let e2=!1,lm;const NN=function(){if(lm.options.autoSetup===!1)return;const t=Array.prototype.slice.call(we.getElementsByTagName("video")),e=Array.prototype.slice.call(we.getElementsByTagName("audio")),i=Array.prototype.slice.call(we.getElementsByTagName("video-js")),r=t.concat(e,i);if(r&&r.length>0)for(let n=0,s=r.length;n<s;n++){const a=r[n];if(a&&a.getAttribute)a.player===void 0&&a.getAttribute("data-setup")!==null&&lm(a);else{cm(1);break}}else e2||cm(1)};function cm(t,e){eo()&&(e&&(lm=e),q.setTimeout(NN,t))}function dm(){e2=!0,q.removeEventListener("load",dm)}eo()&&(we.readyState==="complete"?dm():q.addEventListener("load",dm));const t2=function(t){const e=we.createElement("style");return e.className=t,e},i2=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var Ti=new WeakMap;const FN=3;let MN=FN;function nr(){return MN++}function J0(t,e){if(!Ti.has(t))return;const i=Ti.get(t);i.handlers[e].length===0&&(delete i.handlers[e],t.removeEventListener?t.removeEventListener(e,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),Object.getOwnPropertyNames(i).length===0&&Ti.delete(t)}function Pg(t,e,i,r){i.forEach(function(n){t(e,n,r)})}function sh(t){if(t.fixed_)return t;function e(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const r=t||q.event;t={};const n=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const s in r)n.includes(s)||s==="returnValue"&&r.preventDefault||(t[s]=r[s]);if(t.target||(t.target=t.srcElement||we),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){r.preventDefault&&r.preventDefault(),t.returnValue=!1,r.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),t.cancelBubble=!0,r.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=i,t.clientX!==null&&t.clientX!==void 0){const s=we.documentElement,a=we.body;t.pageX=t.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let dc;const $N=function(){if(typeof dc!="boolean"){dc=!1;try{const t=Object.defineProperty({},"passive",{get(){dc=!0}});q.addEventListener("test",null,t),q.removeEventListener("test",null,t)}catch{}}return dc},jN=["touchstart","touchmove"];function Hi(t,e,i){if(Array.isArray(e))return Pg(Hi,t,e,i);Ti.has(t)||Ti.set(t,{});const r=Ti.get(t);if(r.handlers||(r.handlers={}),r.handlers[e]||(r.handlers[e]=[]),i.guid||(i.guid=nr()),r.handlers[e].push(i),r.dispatcher||(r.disabled=!1,r.dispatcher=function(n,s){if(r.disabled)return;n=sh(n);const a=r.handlers[n.type];if(a){const o=a.slice(0);for(let u=0,l=o.length;u<l&&!n.isImmediatePropagationStopped();u++)try{o[u].call(t,n,s)}catch(c){et.error(c)}}}),r.handlers[e].length===1)if(t.addEventListener){let n=!1;$N()&&jN.indexOf(e)>-1&&(n={passive:!0}),t.addEventListener(e,r.dispatcher,n)}else t.attachEvent&&t.attachEvent("on"+e,r.dispatcher)}function di(t,e,i){if(!Ti.has(t))return;const r=Ti.get(t);if(!r.handlers)return;if(Array.isArray(e))return Pg(di,t,e,i);const n=function(a,o){r.handlers[o]=[],J0(a,o)};if(e===void 0){for(const a in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},a)&&n(t,a);return}const s=r.handlers[e];if(s){if(!i){n(t,e);return}if(i.guid)for(let a=0;a<s.length;a++)s[a].guid===i.guid&&s.splice(a--,1);J0(t,e)}}function io(t,e,i){const r=Ti.has(t)?Ti.get(t):{},n=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=sh(e),r.dispatcher&&r.dispatcher.call(t,e,i),n&&!e.isPropagationStopped()&&e.bubbles===!0)io.call(null,n,e,i);else if(!n&&!e.defaultPrevented&&e.target&&e.target[e.type]){Ti.has(e.target)||Ti.set(e.target,{});const s=Ti.get(e.target);e.target[e.type]&&(s.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function ah(t,e,i){if(Array.isArray(e))return Pg(ah,t,e,i);const r=function(){di(t,e,r),i.apply(this,arguments)};r.guid=i.guid=i.guid||nr(),Hi(t,e,r)}function Og(t,e,i){const r=function(){di(t,e,r),i.apply(this,arguments)};r.guid=i.guid=i.guid||nr(),Hi(t,e,r)}var BN=Object.freeze({__proto__:null,fixEvent:sh,on:Hi,off:di,trigger:io,one:ah,any:Og});const sr=30,_t=function(t,e,i){e.guid||(e.guid=nr());const r=e.bind(t);return r.guid=i?i+"_"+e.guid:e.guid,r},tn=function(t,e){let i=q.performance.now();return function(...n){const s=q.performance.now();s-i>=e&&(t(...n),i=s)}},r2=function(t,e,i,r=q){let n;const s=()=>{r.clearTimeout(n),n=null},a=function(){const o=this,u=arguments;let l=function(){n=null,l=null,i||t.apply(o,u)};!n&&i&&t.apply(o,u),r.clearTimeout(n),n=r.setTimeout(l,e)};return a.cancel=s,a};var UN=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:sr,bind_:_t,throttle:tn,debounce:r2});let $o;class qi{on(e,i){const r=this.addEventListener;this.addEventListener=()=>{},Hi(this,e,i),this.addEventListener=r}off(e,i){di(this,e,i)}one(e,i){const r=this.addEventListener;this.addEventListener=()=>{},ah(this,e,i),this.addEventListener=r}any(e,i){const r=this.addEventListener;this.addEventListener=()=>{},Og(this,e,i),this.addEventListener=r}trigger(e){const i=e.type||e;typeof e=="string"&&(e={type:i}),e=sh(e),this.allowedEvents_[i]&&this["on"+i]&&this["on"+i](e),io(this,e)}queueTrigger(e){$o||($o=new Map);const i=e.type||e;let r=$o.get(this);r||(r=new Map,$o.set(this,r));const n=r.get(i);r.delete(i),q.clearTimeout(n);const s=q.setTimeout(()=>{r.delete(i),r.size===0&&(r=null,$o.delete(this)),this.trigger(e)},0);r.set(i,s)}}qi.prototype.allowedEvents_={};qi.prototype.addEventListener=qi.prototype.on;qi.prototype.removeEventListener=qi.prototype.off;qi.prototype.dispatchEvent=qi.prototype.trigger;const oh=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,bn=t=>t instanceof qi||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),HN=(t,e)=>{bn(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},hm=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,ld=(t,e,i)=>{if(!t||!t.nodeName&&!bn(t))throw new Error(`Invalid target for ${oh(e)}#${i}; must be a DOM node or evented object.`)},n2=(t,e,i)=>{if(!hm(t))throw new Error(`Invalid event type for ${oh(e)}#${i}; must be a non-empty string or array.`)},s2=(t,e,i)=>{if(typeof t!="function")throw new Error(`Invalid listener for ${oh(e)}#${i}; must be a function.`)},yf=(t,e,i)=>{const r=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let n,s,a;return r?(n=t.eventBusEl_,e.length>=3&&e.shift(),[s,a]=e):(n=e[0],s=e[1],a=e[2]),ld(n,t,i),n2(s,t,i),s2(a,t,i),a=_t(t,a),{isTargetingSelf:r,target:n,type:s,listener:a}},_s=(t,e,i,r)=>{ld(t,t,e),t.nodeName?BN[e](t,i,r):t[e](i,r)},qN={on(...t){const{isTargetingSelf:e,target:i,type:r,listener:n}=yf(this,t,"on");if(_s(i,"on",r,n),!e){const s=()=>this.off(i,r,n);s.guid=n.guid;const a=()=>this.off("dispose",s);a.guid=n.guid,_s(this,"on","dispose",s),_s(i,"on","dispose",a)}},one(...t){const{isTargetingSelf:e,target:i,type:r,listener:n}=yf(this,t,"one");if(e)_s(i,"one",r,n);else{const s=(...a)=>{this.off(i,r,s),n.apply(null,a)};s.guid=n.guid,_s(i,"one",r,s)}},any(...t){const{isTargetingSelf:e,target:i,type:r,listener:n}=yf(this,t,"any");if(e)_s(i,"any",r,n);else{const s=(...a)=>{this.off(i,r,s),n.apply(null,a)};s.guid=n.guid,_s(i,"any",r,s)}},off(t,e,i){if(!t||hm(t))di(this.eventBusEl_,t,e);else{const r=t,n=e;ld(r,this,"off"),n2(n,this,"off"),s2(i,this,"off"),i=_t(this,i),this.off("dispose",i),r.nodeName?(di(r,n,i),di(r,"dispose",i)):bn(r)&&(r.off(n,i),r.off("dispose",i))}},trigger(t,e){ld(this.eventBusEl_,this,"trigger");const i=t&&typeof t!="string"?t.type:t;if(!hm(i))throw new Error(`Invalid event type for ${oh(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return io(this.eventBusEl_,t,e)}};function Rg(t,e={}){const{eventBusKey:i}=e;if(i){if(!t[i].nodeName)throw new Error(`The eventBusKey "${i}" does not refer to an element.`);t.eventBusEl_=t[i]}else t.eventBusEl_=qe("span",{className:"vjs-event-bus"});return Object.assign(t,qN),t.eventedCallbacks&&t.eventedCallbacks.forEach(r=>{r()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(r){r&&Ti.has(r)&&Ti.delete(r)}),q.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const VN={state:{},setState(t){typeof t=="function"&&(t=t());let e;return _a(t,(i,r)=>{this.state[r]!==i&&(e=e||{},e[r]={from:this.state[r],to:i}),this.state[r]=i}),e&&bn(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function a2(t,e){return Object.assign(t,VN),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&bn(t)&&t.on("statechanged",t.handleStateChanged),t}const hu=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},kt=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},o2=function(t,e){return kt(t)===kt(e)};var WN=Object.freeze({__proto__:null,toLowerCase:hu,toTitleCase:kt,titleCaseEquals:o2});class de{constructor(e,i,r){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=ft({},this.options_),i=this.options_=ft(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){const n=e&&e.id&&e.id()||"no_player";this.id_=`${n}_component_${nr()}`}this.name_=i.name||null,i.el?this.el_=i.el:i.createEl!==!1&&(this.el_=this.createEl()),i.className&&this.el_&&i.className.split(" ").forEach(n=>this.addClass(n)),["on","off","one","any","trigger"].forEach(n=>{this[n]=void 0}),i.evented!==!1&&(Rg(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),a2(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,i.initChildren!==!1&&this.initChildren(),this.ready(r),i.reportTouchActivity!==!1&&this.enableTouchActivity()}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let i=this.children_.length-1;i>=0;i--)this.children_[i].dispose&&this.children_[i].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=ft(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,i,r){return qe(e,i,r)}localize(e,i,r=e){const n=this.player_.language&&this.player_.language(),s=this.player_.languages&&this.player_.languages(),a=s&&s[n],o=n&&n.split("-")[0],u=s&&s[o];let l=r;return a&&a[e]?l=a[e]:u&&u[e]&&(l=u[e]),i&&(l=l.replace(/\{(\d+)\}/g,function(c,f){const m=i[f-1];let h=m;return typeof m>"u"&&(h=c),h})),l}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((r,n)=>r.concat(n),[]);let i=this;for(let r=0;r<e.length;r++)if(i=i.getChild(e[r]),!i||!i.getChild)return;return i}setIcon(e,i=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const r="http://www.w3.org/2000/svg",n=qe("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),s=we.createElementNS(r,"svg");s.setAttributeNS(null,"viewBox","0 0 512 512");const a=we.createElementNS(r,"use");return s.appendChild(a),a.setAttributeNS(null,"href",`#vjs-icon-${e}`),n.appendChild(s),this.iconIsSet_?i.replaceChild(n,i.querySelector(".vjs-icon-placeholder")):i.appendChild(n),this.iconIsSet_=!0,n}addChild(e,i={},r=this.children_.length){let n,s;if(typeof e=="string"){s=kt(e);const a=i.componentClass||s;i.name=s;const o=de.getComponent(a);if(!o)throw new Error(`Component ${a} does not exist`);if(typeof o!="function")return null;n=new o(this.player_||this,i)}else n=e;if(n.parentComponent_&&n.parentComponent_.removeChild(n),this.children_.splice(r,0,n),n.parentComponent_=this,typeof n.id=="function"&&(this.childIndex_[n.id()]=n),s=s||n.name&&kt(n.name()),s&&(this.childNameIndex_[s]=n,this.childNameIndex_[hu(s)]=n),typeof n.el=="function"&&n.el()){let a=null;this.children_[r+1]&&(this.children_[r+1].el_?a=this.children_[r+1].el_:to(this.children_[r+1])&&(a=this.children_[r+1])),this.contentEl().insertBefore(n.el(),a)}return n}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let i=!1;for(let n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){i=!0,this.children_.splice(n,1);break}if(!i)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[kt(e.name())]=null,this.childNameIndex_[hu(e.name())]=null;const r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const i=this.options_,r=a=>{const o=a.name;let u=a.opts;if(i[o]!==void 0&&(u=i[o]),u===!1)return;u===!0&&(u={}),u.playerOptions=this.options_.playerOptions;const l=this.addChild(o,u);l&&(this[o]=l)};let n;const s=de.getComponent("Tech");Array.isArray(e)?n=e:n=Object.keys(e),n.concat(Object.keys(this.options_).filter(function(a){return!n.some(function(o){return typeof o=="string"?a===o:a===o.name})})).map(a=>{let o,u;return typeof a=="string"?(o=a,u=e[o]||this.options_[o]||{}):(o=a.name,u=a),{name:o,opts:u}}).filter(a=>{const o=de.getComponent(a.opts.componentClass||kt(a.name));return o&&!s.isTech(o)}).forEach(r)}}buildCSSClass(){return""}ready(e,i=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}i?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(i){i.call(this)},this),this.trigger("ready")},1)}$(e,i){return is(e,i||this.contentEl())}$$(e,i){return YE(e,i||this.contentEl())}hasClass(e){return du(this.el_,e)}addClass(...e){Ds(this.el_,...e)}removeClass(...e){th(this.el_,...e)}toggleClass(e,i){qE(this.el_,e,i)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return WE(this.el_,e)}setAttribute(e,i){$a(this.el_,e,i)}removeAttribute(e){ih(this.el_,e)}width(e,i){return this.dimension("width",e,i)}height(e,i){return this.dimension("height",e,i)}dimensions(e,i){this.width(e,!0),this.height(i)}dimension(e,i,r){if(i!==void 0){(i===null||i!==i)&&(i=0),(""+i).indexOf("%")!==-1||(""+i).indexOf("px")!==-1?this.el_.style[e]=i:i==="auto"?this.el_.style[e]="":this.el_.style[e]=i+"px",r||this.trigger("componentresize");return}if(!this.el_)return 0;const n=this.el_.style[e],s=n.indexOf("px");return parseInt(s!==-1?n.slice(0,s):this.el_["offset"+kt(e)],10)}currentDimension(e){let i=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(i=Ba(this.el_,e),i=parseFloat(i),i===0||isNaN(i)){const r=`offset${kt(e)}`;i=this.el_[r]}return i}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const e=this.el_.getBoundingClientRect(),i={x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},r={x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2};return{boundingClientRect:i,center:r}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(e.key!=="Tab"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)&&e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,i=null;const r=10,n=200;let s;this.on("touchstart",function(o){o.touches.length===1&&(i={pageX:o.touches[0].pageX,pageY:o.touches[0].pageY},e=q.performance.now(),s=!0)}),this.on("touchmove",function(o){if(o.touches.length>1)s=!1;else if(i){const u=o.touches[0].pageX-i.pageX,l=o.touches[0].pageY-i.pageY;Math.sqrt(u*u+l*l)>r&&(s=!1)}});const a=function(){s=!1};this.on("touchleave",a),this.on("touchcancel",a),this.on("touchend",function(o){i=null,s===!0&&q.performance.now()-e<n&&(o.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=_t(this.player(),this.player().reportUserActivity);let i;this.on("touchstart",function(){e(),this.clearInterval(i),i=this.setInterval(e,250)});const r=function(n){e(),this.clearInterval(i)};this.on("touchmove",e),this.on("touchend",r),this.on("touchcancel",r)}setTimeout(e,i){var r;return e=_t(this,e),this.clearTimersOnDispose_(),r=q.setTimeout(()=>{this.setTimeoutIds_.has(r)&&this.setTimeoutIds_.delete(r),e()},i),this.setTimeoutIds_.add(r),r}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),q.clearTimeout(e)),e}setInterval(e,i){e=_t(this,e),this.clearTimersOnDispose_();const r=q.setInterval(e,i);return this.setIntervalIds_.add(r),r}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),q.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var i;return e=_t(this,e),i=q.requestAnimationFrame(()=>{this.rafIds_.has(i)&&this.rafIds_.delete(i),e()}),this.rafIds_.add(i),i}requestNamedAnimationFrame(e,i){this.namedRafs_.has(e)&&this.cancelNamedAnimationFrame(e),this.clearTimersOnDispose_(),i=_t(this,i);const r=this.requestAnimationFrame(()=>{i(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,r),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),q.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,i])=>{this[e].forEach((r,n)=>this[i](n))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return!!this.el_.disabled}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function i(s){const a=q.getComputedStyle(s,null),o=a.getPropertyValue("visibility");return a.getPropertyValue("display")!=="none"&&!["hidden","collapse"].includes(o)}function r(s){return!(!i(s.parentElement)||!i(s)||s.style.opacity==="0"||q.getComputedStyle(s).height==="0px"||q.getComputedStyle(s).width==="0px")}function n(s){if(s.offsetWidth+s.offsetHeight+s.getBoundingClientRect().height+s.getBoundingClientRect().width===0)return!1;const a={x:s.getBoundingClientRect().left+s.offsetWidth/2,y:s.getBoundingClientRect().top+s.offsetHeight/2};if(a.x<0||a.x>(we.documentElement.clientWidth||q.innerWidth)||a.y<0||a.y>(we.documentElement.clientHeight||q.innerHeight))return!1;let o=we.elementFromPoint(a.x,a.y);for(;o;){if(o===s)return!0;if(o.parentNode)o=o.parentNode;else return!1}}return e||(e=this.el()),!!(n(e)&&r(e)&&(!e.parentElement||e.tabIndex>=0))}static registerComponent(e,i){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const r=de.getComponent("Tech"),n=r&&r.isTech(i),s=de===i||de.prototype.isPrototypeOf(i.prototype);if(n||!s){let o;throw n?o="techs must be registered using Tech.registerTech()":o="must be a Component subclass",new Error(`Illegal component, "${e}"; ${o}.`)}e=kt(e),de.components_||(de.components_={});const a=de.getComponent("Player");if(e==="Player"&&a&&a.players){const o=a.players,u=Object.keys(o);if(o&&u.length>0){for(let l=0;l<u.length;l++)if(o[u[l]]!==null)throw new Error("Can not register Player component after player has been created.")}}return de.components_[e]=i,de.components_[hu(e)]=i,i}static getComponent(e){if(!(!e||!de.components_))return de.components_[e]}}de.registerComponent("Component",de);function zN(t,e,i){if(typeof e!="number"||e<0||e>i)throw new Error(`Failed to execute '${t}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${i}).`)}function Z0(t,e,i,r){return zN(t,r,i.length-1),i[r][e]}function vf(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:Z0.bind(null,"start",0,t),end:Z0.bind(null,"end",1,t)},q.Symbol&&q.Symbol.iterator&&(e[q.Symbol.iterator]=()=>(t||[]).values()),e}function Tr(t,e){return Array.isArray(t)?vf(t):t===void 0||e===void 0?vf():vf([[t,e]])}const u2=function(t,e){t=t<0?0:t;let i=Math.floor(t%60),r=Math.floor(t/60%60),n=Math.floor(t/3600);const s=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(n=r=i="-"),n=n>0||a>0?n+":":"",r=((n||s>=10)&&r<10?"0"+r:r)+":",i=i<10?"0"+i:i,n+r+i};let Dg=u2;function l2(t){Dg=t}function c2(){Dg=u2}function Fs(t,e=t){return Dg(t,e)}var GN=Object.freeze({__proto__:null,createTimeRanges:Tr,createTimeRange:Tr,setFormatTime:l2,resetFormatTime:c2,formatTime:Fs});function d2(t,e){let i=0,r,n;if(!e)return 0;(!t||!t.length)&&(t=Tr(0,0));for(let s=0;s<t.length;s++)r=t.start(s),n=t.end(s),n>e&&(n=e),i+=n-r;return i/e}function It(t){if(t instanceof It)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:Zr(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=It.defaultMessages[this.code]||"")}It.prototype.code=0;It.prototype.message="";It.prototype.status=null;It.prototype.metadata=null;It.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];It.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};It.MEDIA_ERR_CUSTOM=0;It.prototype.MEDIA_ERR_CUSTOM=0;It.MEDIA_ERR_ABORTED=1;It.prototype.MEDIA_ERR_ABORTED=1;It.MEDIA_ERR_NETWORK=2;It.prototype.MEDIA_ERR_NETWORK=2;It.MEDIA_ERR_DECODE=3;It.prototype.MEDIA_ERR_DECODE=3;It.MEDIA_ERR_SRC_NOT_SUPPORTED=4;It.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4;It.MEDIA_ERR_ENCRYPTED=5;It.prototype.MEDIA_ERR_ENCRYPTED=5;function fu(t){return t!=null&&typeof t.then=="function"}function Vr(t){fu(t)&&t.then(null,e=>{})}const fm=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((i,r,n)=>(t[r]&&(i[r]=t[r]),i),{cues:t.cues&&Array.prototype.map.call(t.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})})},KN=function(t){const e=t.$$("track"),i=Array.prototype.map.call(e,n=>n.track);return Array.prototype.map.call(e,function(n){const s=fm(n.track);return n.src&&(s.src=n.src),s}).concat(Array.prototype.filter.call(t.textTracks(),function(n){return i.indexOf(n)===-1}).map(fm))},QN=function(t,e){return t.forEach(function(i){const r=e.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(n=>r.addCue(n))}),e.textTracks()};var e_={textTracksToJson:KN,jsonToTextTracks:QN,trackToJson_:fm};const _f="vjs-modal-dialog";class ro extends de{constructor(e,i){super(e,i),this.handleKeyDown_=r=>this.handleKeyDown(r),this.close_=r=>this.close(r),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=qe("div",{className:`${_f}-content`},{role:"document"}),this.descEl_=qe("p",{className:`${_f}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),us(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${_f} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const i=this.closeable_=!!e;let r=this.getChild("closeButton");if(i&&!r){const n=this.contentEl_;this.contentEl_=this.el_,r=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(r,"close",this.close_)}!i&&r&&(this.off(r,"close",this.close_),this.removeChild(r),r.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const i=this.contentEl(),r=i.parentNode,n=i.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,r.removeChild(i),this.empty(),XE(i,e),this.trigger("modalfill"),n?r.insertBefore(i,n):r.appendChild(i);const s=this.getChild("closeButton");s&&r.appendChild(s.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),nh(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=we.activeElement,i=this.player_.el_;this.previouslyActiveEl_=null,(i.contains(e)||i===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),e.key==="Escape"&&this.closeable()){e.preventDefault(),this.close();return}if(e.key!=="Tab")return;const i=this.focusableEls_(),r=this.el_.querySelector(":focus");let n;for(let s=0;s<i.length;s++)if(r===i[s]){n=s;break}we.activeElement===this.el_&&(n=0),e.shiftKey&&n===0?(i[i.length-1].focus(),e.preventDefault()):!e.shiftKey&&n===i.length-1&&(i[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,i=>(i instanceof q.HTMLAnchorElement||i instanceof q.HTMLAreaElement)&&i.hasAttribute("href")||(i instanceof q.HTMLInputElement||i instanceof q.HTMLSelectElement||i instanceof q.HTMLTextAreaElement||i instanceof q.HTMLButtonElement)&&!i.hasAttribute("disabled")||i instanceof q.HTMLIFrameElement||i instanceof q.HTMLObjectElement||i instanceof q.HTMLEmbedElement||i.hasAttribute("tabindex")&&i.getAttribute("tabindex")!==-1||i.hasAttribute("contenteditable"))}}ro.prototype.options_={pauseOnOpen:!0,temporary:!0};de.registerComponent("ModalDialog",ro);class Ua extends qi{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let i=0;i<e.length;i++)this.addTrack(e[i])}addTrack(e){const i=this.tracks_.length;""+i in this||Object.defineProperty(this,i,{get(){return this.tracks_[i]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},bn(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let i;for(let r=0,n=this.length;r<n;r++)if(this[r]===e){i=this[r],i.off&&i.off(),this.tracks_.splice(r,1);break}i&&this.trigger({track:i,type:"removetrack",target:this})}getTrackById(e){let i=null;for(let r=0,n=this.length;r<n;r++){const s=this[r];if(s.id===e){i=s;break}}return i}}Ua.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in Ua.prototype.allowedEvents_)Ua.prototype["on"+t]=null;const bf=function(t,e){for(let i=0;i<t.length;i++)!Object.keys(t[i]).length||e.id===t[i].id||(t[i].enabled=!1)};class XN extends Ua{constructor(e=[]){for(let i=e.length-1;i>=0;i--)if(e[i].enabled){bf(e,e[i]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&bf(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,bf(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const Sf=function(t,e){for(let i=0;i<t.length;i++)!Object.keys(t[i]).length||e.id===t[i].id||(t[i].selected=!1)};class YN extends Ua{constructor(e=[]){for(let i=e.length-1;i>=0;i--)if(e[i].selected){Sf(e,e[i]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let i=0;i<this.length;i++)if(this[i].selected)return i;return-1},set(){}})}addTrack(e){e.selected&&Sf(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,Sf(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class h2 extends Ua{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class JN{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let i=0,r=e.length;i<r;i++)this.addTrackElement_(e[i])}addTrackElement_(e){const i=this.trackElements_.length;""+i in this||Object.defineProperty(this,i,{get(){return this.trackElements_[i]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let i;for(let r=0,n=this.trackElements_.length;r<n;r++)if(e===this.trackElements_[r].track){i=this.trackElements_[r];break}return i}removeTrackElement_(e){for(let i=0,r=this.trackElements_.length;i<r;i++)if(e===this.trackElements_[i]){this.trackElements_[i].track&&typeof this.trackElements_[i].track.off=="function"&&this.trackElements_[i].track.off(),typeof this.trackElements_[i].off=="function"&&this.trackElements_[i].off(),this.trackElements_.splice(i,1);break}}}class cd{constructor(e){cd.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const i=this.length||0;let r=0;const n=e.length;this.cues_=e,this.length_=e.length;const s=function(a){""+a in this||Object.defineProperty(this,""+a,{get(){return this.cues_[a]}})};if(i<n)for(r=i;r<n;r++)s.call(this,r)}getCueById(e){let i=null;for(let r=0,n=this.length;r<n;r++){const s=this[r];if(s.id===e){i=s;break}}return i}}const ZN={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},eF={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},tF={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},t_={disabled:"disabled",hidden:"hidden",showing:"showing"};class Ig extends qi{constructor(e={}){super();const i={id:e.id||"vjs_track_"+nr(),kind:e.kind||"",language:e.language||""};let r=e.label||"";for(const n in i)Object.defineProperty(this,n,{get(){return i[n]},set(){}});Object.defineProperty(this,"label",{get(){return r},set(n){n!==r&&(r=n,this.trigger("labelchange"))}})}}const kg=function(t){return new URL(t,we.baseURI)},f2=function(t){return new URL(t,we.baseURI).href},Lg=function(t){if(typeof t=="string"){const i=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(i)return i.pop().toLowerCase()}return""},uh=function(t,e=q.location){return kg(t).origin!==e.origin};var iF=Object.freeze({__proto__:null,parseUrl:kg,getAbsoluteURL:f2,getFileExtension:Lg,isCrossOrigin:uh});const i_=function(t,e){const i=new q.WebVTT.Parser(q,q.vttjs,q.WebVTT.StringDecoder()),r=[];i.oncue=function(n){e.addCue(n)},i.onparsingerror=function(n){r.push(n)},i.onflush=function(){e.trigger({type:"loadeddata",target:e})},i.parse(t),r.length>0&&(q.console&&q.console.groupCollapsed&&q.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),r.forEach(n=>et.error(n)),q.console&&q.console.groupEnd&&q.console.groupEnd()),i.flush()},r_=function(t,e){const i={uri:t},r=uh(t);r&&(i.cors=r);const n=e.tech_.crossOrigin()==="use-credentials";n&&(i.withCredentials=n),gE(i,_t(this,function(s,a,o){if(s)return et.error(s,a);e.loaded_=!0,typeof q.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],u=>{if(u.type==="vttjserror"){et.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return i_(o,e)}):i_(o,e)}))};class Tl extends Ig{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const i=ft(e,{kind:tF[e.kind]||"subtitles",language:e.language||e.srclang||""});let r=t_[i.mode]||"disabled";const n=i.default;(i.kind==="metadata"||i.kind==="chapters")&&(r="hidden"),super(i),this.tech_=i.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const s=new cd(this.cues_),a=new cd(this.activeCues_);let o=!1;this.timeupdateHandler=_t(this,function(l={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){l.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,o&&(this.trigger("cuechange"),o=!1),l.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const u=()=>{this.stopTracking()};this.tech_.one("dispose",u),r!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return n},set(){}},mode:{get(){return r},set(l){t_[l]&&r!==l&&(r=l,!this.preload_&&r!=="disabled"&&this.cues.length===0&&r_(this.src,this),this.stopTracking(),r!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?s:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return a;const l=this.tech_.currentTime(),c=[];for(let f=0,m=this.cues.length;f<m;f++){const h=this.cues[f];h.startTime<=l&&h.endTime>=l&&c.push(h)}if(o=!1,c.length!==this.activeCues_.length)o=!0;else for(let f=0;f<c.length;f++)this.activeCues_.indexOf(c[f])===-1&&(o=!0);return this.activeCues_=c,a.setCues_(this.activeCues_),a},set(){}}}),i.src?(this.src=i.src,this.preload_||(this.loaded_=!0),(this.preload_||i.kind!=="subtitles"&&i.kind!=="captions")&&r_(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let i=e;if(!("getCueAsHTML"in i)){i=new q.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const n in e)n in i||(i[n]=e[n]);i.id=e.id,i.originalCue_=e}const r=this.tech_.textTracks();for(let n=0;n<r.length;n++)r[n]!==this&&r[n].removeCue(i);this.cues_.push(i),this.cues.setCues_(this.cues_)}removeCue(e){let i=this.cues_.length;for(;i--;){const r=this.cues_[i];if(r===e||r.originalCue_&&r.originalCue_===e){this.cues_.splice(i,1),this.cues.setCues_(this.cues_);break}}}}Tl.prototype.allowedEvents_={cuechange:"cuechange"};class p2 extends Ig{constructor(e={}){const i=ft(e,{kind:eF[e.kind]||""});super(i);let r=!1;Object.defineProperty(this,"enabled",{get(){return r},set(n){typeof n!="boolean"||n===r||(r=n,this.trigger("enabledchange"))}}),i.enabled&&(this.enabled=i.enabled),this.loaded_=!0}}class m2 extends Ig{constructor(e={}){const i=ft(e,{kind:ZN[e.kind]||""});super(i);let r=!1;Object.defineProperty(this,"selected",{get(){return r},set(n){typeof n!="boolean"||n===r||(r=n,this.trigger("selectedchange"))}}),i.selected&&(this.selected=i.selected)}}class Cn extends qi{constructor(e={}){super();let i;const r=new Tl(e);this.kind=r.kind,this.src=r.src,this.srclang=r.language,this.label=r.label,this.default=r.default,Object.defineProperties(this,{readyState:{get(){return i}},track:{get(){return r}}}),i=Cn.NONE,r.addEventListener("loadeddata",()=>{i=Cn.LOADED,this.trigger({type:"load",target:this})})}}Cn.prototype.allowedEvents_={load:"load"};Cn.NONE=0;Cn.LOADING=1;Cn.LOADED=2;Cn.ERROR=3;const tr={audio:{ListClass:XN,TrackClass:p2,capitalName:"Audio"},video:{ListClass:YN,TrackClass:m2,capitalName:"Video"},text:{ListClass:h2,TrackClass:Tl,capitalName:"Text"}};Object.keys(tr).forEach(function(t){tr[t].getterName=`${t}Tracks`,tr[t].privateName=`${t}Tracks_`});const Ha={remoteText:{ListClass:h2,TrackClass:Tl,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:JN,TrackClass:Cn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Si=Object.assign({},tr,Ha);Ha.names=Object.keys(Ha);tr.names=Object.keys(tr);Si.names=[].concat(Ha.names).concat(tr.names);function rF(t,e,i,r,n={}){const s=t.textTracks();n.kind=e,i&&(n.label=i),r&&(n.language=r),n.tech=t;const a=new Si.text.TrackClass(n);return s.addTrack(a),a}class Ke extends de{constructor(e={},i=function(){}){e.reportTouchActivity=!1,super(null,e,i),this.onDurationChange_=r=>this.onDurationChange(r),this.trackProgress_=r=>this.trackProgress(r),this.trackCurrentTime_=r=>this.trackCurrentTime(r),this.stopTrackingCurrentTime_=r=>this.stopTrackingCurrentTime(r),this.disposeSourceHandler_=r=>this.disposeSourceHandler(r),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),Si.names.forEach(r=>{const n=Si[r];e&&e[n.getterName]&&(this[n.privateName]=e[n.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(r=>{e[`native${r}Tracks`]===!1&&(this[`featuresNative${r}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new Si.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(_t(this,function(){const i=this.bufferedPercent();this.bufferedPercent_!==i&&this.trigger("progress"),this.bufferedPercent_=i,i===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return Tr(0,0)}bufferedPercent(){return d2(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(tr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(i=>{const r=this[`${i}Tracks`]()||[];let n=r.length;for(;n--;){const s=r[n];i==="text"&&this.removeRemoteTextTrack(s),r.removeTrack(s)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let i=e.length;for(;i--;){const r=e[i];this.removeRemoteTextTrack(r)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new It(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?Tr(0,0):Tr()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){tr.names.forEach(e=>{const i=tr[e],r=()=>{this.trigger(`${e}trackchange`)},n=this[i.getterName]();n.addEventListener("removetrack",r),n.addEventListener("addtrack",r),this.on("dispose",()=>{n.removeEventListener("removetrack",r),n.removeEventListener("addtrack",r)})})}addWebVttScript_(){if(!q.WebVTT)if(we.body.contains(this.el())){if(!this.options_["vtt.js"]&&Ma(C0)&&Object.keys(C0).length>0){this.trigger("vttjsloaded");return}const e=we.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),q.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),i=this.remoteTextTracks(),r=o=>e.addTrack(o.track),n=o=>e.removeTrack(o.track);i.on("addtrack",r),i.on("removetrack",n),this.addWebVttScript_();const s=()=>this.trigger("texttrackchange"),a=()=>{s();for(let o=0;o<e.length;o++){const u=e[o];u.removeEventListener("cuechange",s),u.mode==="showing"&&u.addEventListener("cuechange",s)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",function(){i.off("addtrack",r),i.off("removetrack",n),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(let o=0;o<e.length;o++)e[o].removeEventListener("cuechange",s)})}addTextTrack(e,i,r){if(!e)throw new Error("TextTrack kind is required but was not provided");return rF(this,e,i,r)}createRemoteTextTrack(e){const i=ft(e,{tech:this});return new Ha.remoteTextEl.TrackClass(i)}addRemoteTextTrack(e={},i){const r=this.createRemoteTextTrack(e);return typeof i!="boolean"&&(i=!1),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),i===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(r.track)),r}removeRemoteTextTrack(e){const i=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(i),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const i=nr();return!this.isReady_||this.paused()?(this.queuedHanders_.add(i),this.one("playing",()=>{this.queuedHanders_.has(i)&&(this.queuedHanders_.delete(i),e())})):this.requestNamedAnimationFrame(i,e),i}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,i){return Ke.canPlayType(e.type)}static isTech(e){return e.prototype instanceof Ke||e instanceof Ke||e===Ke}static registerTech(e,i){if(Ke.techs_||(Ke.techs_={}),!Ke.isTech(i))throw new Error(`Tech ${e} must be a Tech`);if(!Ke.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!Ke.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=kt(e),Ke.techs_[e]=i,Ke.techs_[hu(e)]=i,e!=="Tech"&&Ke.defaultTechOrder_.push(e),i}static getTech(e){if(e){if(Ke.techs_&&Ke.techs_[e])return Ke.techs_[e];if(e=kt(e),q&&q.videojs&&q.videojs[e])return et.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),q.videojs[e]}}}Si.names.forEach(function(t){const e=Si[t];Ke.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});Ke.prototype.featuresVolumeControl=!0;Ke.prototype.featuresMuteControl=!0;Ke.prototype.featuresFullscreenResize=!1;Ke.prototype.featuresPlaybackRate=!1;Ke.prototype.featuresProgressEvents=!1;Ke.prototype.featuresSourceset=!1;Ke.prototype.featuresTimeupdateEvents=!1;Ke.prototype.featuresNativeTextTracks=!1;Ke.prototype.featuresVideoFrameCallback=!1;Ke.withSourceHandlers=function(t){t.registerSourceHandler=function(i,r){let n=t.sourceHandlers;n||(n=t.sourceHandlers=[]),r===void 0&&(r=n.length),n.splice(r,0,i)},t.canPlayType=function(i){const r=t.sourceHandlers||[];let n;for(let s=0;s<r.length;s++)if(n=r[s].canPlayType(i),n)return n;return""},t.selectSourceHandler=function(i,r){const n=t.sourceHandlers||[];let s;for(let a=0;a<n.length;a++)if(s=n[a].canHandleSource(i,r),s)return n[a];return null},t.canPlaySource=function(i,r){const n=t.selectSourceHandler(i,r);return n?n.canHandleSource(i,r):""},["seekable","seeking","duration"].forEach(function(i){const r=this[i];typeof r=="function"&&(this[i]=function(){return this.sourceHandler_&&this.sourceHandler_[i]?this.sourceHandler_[i].apply(this.sourceHandler_,arguments):r.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(i){let r=t.selectSourceHandler(i,this.options_);r||(t.nativeSourceHandler?r=t.nativeSourceHandler:et.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),r!==t.nativeSourceHandler&&(this.currentSource_=i),this.sourceHandler_=r.handleSource(i,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};de.registerComponent("Tech",Ke);Ke.registerTech("Tech",Ke);Ke.defaultTechOrder_=[];const Is={},dd={},hd={};function nF(t,e){Is[t]=Is[t]||[],Is[t].push(e)}function sF(t,e,i){t.setTimeout(()=>Ts(e,Is[e.type],i,t),1)}function aF(t,e){t.forEach(i=>i.setTech&&i.setTech(e))}function oF(t,e,i){return t.reduceRight(Ng(i),e[i]())}function uF(t,e,i,r){return e[i](t.reduce(Ng(i),r))}function n_(t,e,i,r=null){const n="call"+kt(i),s=t.reduce(Ng(n),r),a=s===hd,o=a?null:e[i](s);return dF(t,i,o,a),o}const lF={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},cF={setCurrentTime:1,setMuted:1,setVolume:1},s_={play:1,pause:1};function Ng(t){return(e,i)=>e===hd?hd:i[t]?i[t](e):e}function dF(t,e,i,r){for(let n=t.length-1;n>=0;n--){const s=t[n];s[e]&&s[e](r,i)}}function hF(t){dd.hasOwnProperty(t.id())&&delete dd[t.id()]}function fF(t,e){const i=dd[t.id()];let r=null;if(i==null)return r=e(t),dd[t.id()]=[[e,r]],r;for(let n=0;n<i.length;n++){const[s,a]=i[n];s===e&&(r=a)}return r===null&&(r=e(t),i.push([e,r])),r}function Ts(t={},e=[],i,r,n=[],s=!1){const[a,...o]=e;if(typeof a=="string")Ts(t,Is[a],i,r,n,s);else if(a){const u=fF(r,a);if(!u.setSource)return n.push(u),Ts(t,o,i,r,n,s);u.setSource(Object.assign({},t),function(l,c){if(l)return Ts(t,o,i,r,n,s);n.push(u),Ts(c,t.type===c.type?o:Is[c.type],i,r,n,s)})}else o.length?Ts(t,o,i,r,n,s):s?i(t,n):Ts(t,Is["*"],i,r,n,!0)}const pF={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},fd=function(t=""){const e=Lg(t);return pF[e.toLowerCase()]||""},mF=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const i=t.cache_.sources.filter(n=>n.src===e);if(i.length)return i[0].type;const r=t.$$("source");for(let n=0;n<r.length;n++){const s=r[n];if(s.type&&s.src&&s.src===e)return s.type}return fd(e)},g2=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(i){i=g2(i),Array.isArray(i)?e=e.concat(i):Zr(i)&&e.push(i)}),t=e}else typeof t=="string"&&t.trim()?t=[a_({src:t})]:Zr(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[a_(t)]:t=[];return t};function a_(t){if(!t.type){const e=fd(t.src);e&&(t.type=e)}return t}var gF=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">
      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;const o_=ad?10009:od?461:8,zs={codes:{play:415,pause:19,ff:417,rw:412,back:o_},names:{415:"play",19:"pause",417:"ff",412:"rw",[o_]:"back"},isEventKey(t,e){return e=e.toLowerCase(),!!(this.names[t.keyCode]&&this.names[t.keyCode]===e)},getEventName(t){if(this.names[t.keyCode])return this.names[t.keyCode];if(this.codes[t.code]){const e=this.codes[t.code];return this.names[e]}return null}},u_=5;class yF extends qi{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay&&this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){const i=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(i.key)){if(this.isPaused_)return;i.preventDefault();const r=i.key.substring(5).toLowerCase();this.move(r)}else if(zs.isEventKey(i,"play")||zs.isEventKey(i,"pause")||zs.isEventKey(i,"ff")||zs.isEventKey(i,"rw")){i.preventDefault();const r=zs.getEventName(i);this.performMediaAction_(r)}else zs.isEventKey(i,"Back")&&e.target&&typeof e.target.closeable=="function"&&e.target.closeable()&&(i.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+u_);break;case"rw":this.userSeek_(this.player_.currentTime()-u_);break}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){const i=e.relatedTarget;let r=null;const n=this.getCurrentComponent(e.target);i&&(r=!!i.closest(".video-js"),i.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(!e.currentTarget.contains(e.relatedTarget)&&!r||!i)&&(n&&n.name()==="CloseButton"?this.refocusComponent():(this.pause(),n&&n.el()&&(this.lastFocusedComponent_=n)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const e=this.player_,i=[];function r(n){for(const s of n)s.hasOwnProperty("el_")&&s.getIsFocusable()&&s.getIsAvailableToBeFocused(s.el())&&i.push(s),s.hasOwnProperty("children_")&&s.children_.length>0&&r(s.children_)}return e.children_.forEach(n=>{if(n.hasOwnProperty("el_"))if(n.getIsFocusable&&n.getIsAvailableToBeFocused&&n.getIsFocusable()&&n.getIsAvailableToBeFocused(n.el())){i.push(n);return}else n.hasOwnProperty("children_")&&n.children_.length>0?r(n.children_):n.hasOwnProperty("items")&&n.items.length>0?r(n.items):this.findSuitableDOMChild(n)&&i.push(n);if(n.name_==="ErrorDisplay"&&n.opened_){const s=n.el_.querySelector(".vjs-errors-ok-button-container");s&&s.querySelectorAll("button").forEach((o,u)=>{i.push({name:()=>"ModalButton"+(u+1),el:()=>o,getPositions:()=>{const l=o.getBoundingClientRect(),c={x:l.x,y:l.y,width:l.width,height:l.height,top:l.top,right:l.right,bottom:l.bottom,left:l.left},f={x:l.left+l.width/2,y:l.top+l.height/2,width:0,height:0,top:l.top+l.height/2,right:l.left+l.width/2,bottom:l.top+l.height/2,left:l.left+l.width/2};return{boundingClientRect:c,center:f}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:l=>!0,focus:()=>o.focus()})})}}),this.focusableComponents=i,this.focusableComponents}findSuitableDOMChild(e){function i(r){if(e.getIsFocusable(r)&&e.getIsAvailableToBeFocused(r))return r;for(let n=0;n<r.children.length;n++){const s=r.children[n],a=i(s);if(a)return a}return null}return e.el()?i(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();const i=e||document.activeElement;if(this.focusableComponents.length){for(const r of this.focusableComponents)if(r.el()===i)return r}}add(e){const i=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&i.push(e),this.focusableComponents=i,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let i=0;i<this.focusableComponents.length;i++)if(this.focusableComponents[i].name()===e.name()){this.focusableComponents.splice(i,1),this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents});return}}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){const i=this.getCurrentComponent();if(!i)return;const r=i.getPositions(),n=this.focusableComponents.filter(a=>a!==i&&this.isInDirection_(r.boundingClientRect,a.getPositions().boundingClientRect,e)),s=this.findBestCandidate_(r.center,n,e);s?this.focus(s):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:i})}findBestCandidate_(e,i,r){let n=1/0,s=null;for(const a of i){const o=a.getPositions().center,u=this.calculateDistance_(e,o,r);u<n&&(n=u,s=a)}return s}isInDirection_(e,i,r){switch(r){case"right":return i.left>=e.right;case"left":return i.right<=e.left;case"down":return i.top>=e.bottom;case"up":return i.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name()){this.focus(this.focusableComponents[e]);return}}else this.focus(this.updateFocusableComponents()[0])}focus(e){typeof e=="object"&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,i,r){const n=Math.abs(e.x-i.x),s=Math.abs(e.y-i.y);let a;switch(r){case"right":case"left":a=n+s*100;break;case"up":a=s*2+n*.5;break;case"down":a=s*5+n;break;default:a=n+s}return a}searchForTrackSelect_(){const e=this;for(const i of e.updateFocusableComponents())if(i.constructor.name==="TextTrackSelect"){e.focus(i);break}}}class vF extends de{constructor(e,i,r){const n=ft({createEl:!1},i);if(super(e,n,r),!i.playerOptions.sources||i.playerOptions.sources.length===0)for(let s=0,a=i.playerOptions.techOrder;s<a.length;s++){const o=kt(a[s]);let u=Ke.getTech(o);if(o||(u=de.getComponent(o)),u&&u.isSupported()){e.loadTech_(o);break}}else e.src(i.playerOptions.sources)}}de.registerComponent("MediaLoader",vF);class lh extends de{constructor(e,i){super(e,i),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=r=>this.handleMouseOver(r),this.handleMouseOut_=r=>this.handleMouseOut(r),this.handleClick_=r=>this.handleClick(r),this.handleKeyDown_=r=>this.handleKeyDown(r),this.emitTapEvents(),this.enable()}createEl(e="div",i={},r={}){i=Object.assign({className:this.buildCSSClass(),tabIndex:0},i),e==="button"&&et.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),r=Object.assign({role:"button"},r),this.tabIndex_=i.tabIndex;const n=qe(e,i,r);return this.player_.options_.experimentalSvgIcons||n.appendChild(qe("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(n),n}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=qe("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,i=this.el()){if(e===void 0)return this.controlText_||"Need Text";const r=this.localize(e);this.controlText_=e,us(this.controlTextEl_,r),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&i.setAttribute("title",r)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){e.key===" "||e.key==="Enter"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}de.registerComponent("ClickableComponent",lh);class pm extends lh{constructor(e,i){super(e,i),this.update(),this.update_=r=>this.update(r),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return qe("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const i=this.player().poster();this.setSrc(i),i?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(qe("picture",{className:"vjs-poster",tabIndex:-1},{},qe("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Vr(this.player_.play()):this.player_.pause())}}pm.prototype.crossorigin=pm.prototype.crossOrigin;de.registerComponent("PosterImage",pm);const Qi="#222",l_="#ccc",_F={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Tf(t,e){let i;if(t.length===4)i=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)i=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+e+")"}function kr(t,e,i){try{t.style[e]=i}catch{return}}function c_(t){return t?`${t}px`:""}class bF extends de{constructor(e,i,r){super(e,i,r);const n=a=>this.updateDisplay(a),s=a=>{this.updateDisplayOverlay(),this.updateDisplay(a)};e.on("loadstart",a=>this.toggleDisplay(a)),e.on("texttrackchange",n),e.on("loadedmetadata",a=>{this.updateDisplayOverlay(),this.preselectTrack(a)}),e.ready(_t(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",s),e.on("playerresize",s);const a=q.screen.orientation||q,o=q.screen.orientation?"change":"orientationchange";a.addEventListener(o,s),e.on("dispose",()=>a.removeEventListener(o,s));const u=this.options_.playerOptions.tracks||[];for(let l=0;l<u.length;l++)this.player_.addRemoteTextTrack(u[l],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},i=this.player_.textTracks(),r=this.player_.cache_.selectedLanguage;let n,s,a;for(let o=0;o<i.length;o++){const u=i[o];r&&r.enabled&&r.language&&r.language===u.language&&u.kind in e?u.kind===r.kind?a=u:a||(a=u):r&&!r.enabled?(a=null,n=null,s=null):u.default&&(u.kind==="descriptions"&&!n?n=u:u.kind in e&&!s&&(s=u))}a?a.mode="showing":s?s.mode="showing":n&&(n.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof q.WebVTT=="function"&&q.WebVTT.processCues(q,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),i=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),i){const a=[];for(let o=0;o<e.length;++o){const u=e[o];u.mode==="showing"&&a.push(u)}this.updateForTrack(a);return}let r=null,n=null,s=e.length;for(;s--;){const a=e[s];a.mode==="showing"&&(a.kind==="descriptions"?r=a:n=a)}if(n?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):r&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(r)),!q.CSS.supports("inset","10px")){const a=this.el_,o=a.querySelectorAll(".vjs-text-track-cue"),u=this.player_.controlBar.el_.getBoundingClientRect().height,l=this.player_.el_.getBoundingClientRect().height;a.style="",kr(a,"position","relative"),kr(a,"height",l-u+"px"),kr(a,"top","unset"),ud?kr(a,"bottom",l+"px"):kr(a,"bottom","0px"),o.length>0&&o.forEach(c=>{if(c.style.inset){const f=c.style.inset.split(" ");f.length===3&&Object.assign(c.style,{top:f[0],right:f[1],bottom:f[2],left:"unset"})}})}}updateDisplayOverlay(){if(!this.player_.videoHeight()||!q.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),i=this.player_.currentHeight(),r=e/i,n=this.player_.videoWidth()/this.player_.videoHeight();let s=0,a=0;Math.abs(r-n)>.1&&(r>n?s=Math.round((e-i*n)/2):a=Math.round((i-e/n)/2)),kr(this.el_,"insetInline",c_(s)),kr(this.el_,"insetBlock",c_(a))}updateDisplayState(e){const i=this.player_.textTrackSettings.getValues(),r=e.activeCues;let n=r.length;for(;n--;){const s=r[n];if(!s)continue;const a=s.displayState;if(i.color&&(a.firstChild.style.color=i.color),i.textOpacity&&kr(a.firstChild,"color",Tf(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(a.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&kr(a.firstChild,"backgroundColor",Tf(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?kr(a,"backgroundColor",Tf(i.windowColor,i.windowOpacity)):a.style.backgroundColor=i.windowColor),i.edgeStyle&&(i.edgeStyle==="dropshadow"?a.firstChild.style.textShadow=`2px 2px 3px ${Qi}, 2px 2px 4px ${Qi}, 2px 2px 5px ${Qi}`:i.edgeStyle==="raised"?a.firstChild.style.textShadow=`1px 1px ${Qi}, 2px 2px ${Qi}, 3px 3px ${Qi}`:i.edgeStyle==="depressed"?a.firstChild.style.textShadow=`1px 1px ${l_}, 0 1px ${l_}, -1px -1px ${Qi}, 0 -1px ${Qi}`:i.edgeStyle==="uniform"&&(a.firstChild.style.textShadow=`0 0 4px ${Qi}, 0 0 4px ${Qi}, 0 0 4px ${Qi}, 0 0 4px ${Qi}`)),i.fontPercent&&i.fontPercent!==1){const o=q.parseFloat(a.style.fontSize);a.style.fontSize=o*i.fontPercent+"px",a.style.height="auto",a.style.top="auto"}i.fontFamily&&i.fontFamily!=="default"&&(i.fontFamily==="small-caps"?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=_F[i.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof q.WebVTT!="function"||e.every(r=>!r.activeCues))return;const i=[];for(let r=0;r<e.length;++r){const n=e[r];for(let s=0;s<n.activeCues.length;++s)i.push(n.activeCues[s])}q.WebVTT.processCues(q,i,this.el_);for(let r=0;r<e.length;++r){const n=e[r];for(let s=0;s<n.activeCues.length;++s){const a=n.activeCues[s].displayState;Ds(a,"vjs-text-track-cue","vjs-text-track-cue-"+(n.language?n.language:r)),n.language&&$a(a,"lang",n.language)}this.player_.textTrackSettings&&this.updateDisplayState(n)}}}de.registerComponent("TextTrackDisplay",bF);class SF extends de{createEl(){const e=this.player_.isAudio(),i=this.localize(e?"Audio Player":"Video Player"),r=qe("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[i])}),n=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return n.appendChild(r),n}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}de.registerComponent("LoadingSpinner",SF);let hi=class extends lh{createEl(e,i={},r={}){e="button",i=Object.assign({className:this.buildCSSClass()},i),r=Object.assign({type:"button"},r);const n=qe(e,i,r);return this.player_.options_.experimentalSvgIcons||n.appendChild(qe("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(n),n}addChild(e,i={}){const r=this.constructor.name;return et.warn(`Adding an actionable (user controllable) child to a Button (${r}) is not supported; use a ClickableComponent instead.`),de.prototype.addChild.call(this,e,i)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(e.key===" "||e.key==="Enter"){e.stopPropagation();return}super.handleKeyDown(e)}};de.registerComponent("Button",hi);class y2 extends hi{constructor(e,i){super(e,i),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",r=>this.handleMouseDown(r))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const i=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e){Vr(i),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const r=this.player_.getChild("controlBar"),n=r&&r.getChild("playToggle");if(!n){this.player_.tech(!0).focus();return}const s=()=>n.focus();fu(i)?i.then(s,()=>{}):this.setTimeout(s,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}y2.prototype.controlText_="Play Video";de.registerComponent("BigPlayButton",y2);class TF extends hi{constructor(e,i){super(e,i),this.setIcon("cancel"),this.controlText(i&&i.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){e.key==="Escape"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}de.registerComponent("CloseButton",TF);class v2 extends hi{constructor(e,i={}){super(e,i),i.replay=i.replay===void 0||i.replay,this.setIcon("play"),this.on(e,"play",r=>this.handlePlay(r)),this.on(e,"pause",r=>this.handlePause(r)),i.replay&&this.on(e,"ended",r=>this.handleEnded(r))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?Vr(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",i=>this.handleSeeked(i))}}v2.prototype.controlText_="Play";de.registerComponent("PlayToggle",v2);class no extends de{constructor(e,i){super(e,i),this.on(e,["timeupdate","ended","seeking"],r=>this.update(r)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),i=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),r=qe("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)}`},{role:"presentation"});return i.appendChild(r),this.contentEl_=qe("span",{className:`${e}-display`},{role:"presentation"}),i.appendChild(this.contentEl_),i}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=Fs(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let i=this.textNode_;i&&this.contentEl_.firstChild!==i&&(i=null,et.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=we.createTextNode(this.formattedTime_),this.textNode_&&(i?this.contentEl_.replaceChild(this.textNode_,i):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}no.prototype.labelText_="Time";no.prototype.controlText_="Time";de.registerComponent("TimeDisplay",no);class Fg extends no{buildCSSClass(){return"vjs-current-time"}updateContent(e){let i;this.player_.ended()?i=this.player_.duration():i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(i)}}Fg.prototype.labelText_="Current Time";Fg.prototype.controlText_="Current Time";de.registerComponent("CurrentTimeDisplay",Fg);class Mg extends no{constructor(e,i){super(e,i);const r=n=>this.updateContent(n);this.on(e,"durationchange",r),this.on(e,"loadstart",r),this.on(e,"loadedmetadata",r)}buildCSSClass(){return"vjs-duration"}updateContent(e){const i=this.player_.duration();this.updateTextNode_(i)}}Mg.prototype.labelText_="Duration";Mg.prototype.controlText_="Duration";de.registerComponent("DurationDisplay",Mg);class EF extends de{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),i=super.createEl("div"),r=super.createEl("span",{textContent:"/"});return i.appendChild(r),e.appendChild(i),e}}de.registerComponent("TimeDivider",EF);class $g extends no{constructor(e,i){super(e,i),this.on(e,"durationchange",r=>this.updateContent(r))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(qe("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let i;this.player_.ended()?i=0:this.player_.remainingTimeDisplay?i=this.player_.remainingTimeDisplay():i=this.player_.remainingTime(),this.updateTextNode_(i)}}$g.prototype.labelText_="Remaining Time";$g.prototype.controlText_="Remaining Time";de.registerComponent("RemainingTimeDisplay",$g);class xF extends de{constructor(e,i){super(e,i),this.updateShowing(),this.on(this.player(),"durationchange",r=>this.updateShowing(r))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=qe("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(qe("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")}`})),this.contentEl_.appendChild(we.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}de.registerComponent("LiveDisplay",xF);class _2 extends hi{constructor(e,i){super(e,i),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=r=>this.updateLiveEdgeStatus(r),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=qe("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}_2.prototype.controlText_="Seek to live, currently playing live";de.registerComponent("SeekToLive",_2);function El(t,e,i){return t=Number(t),Math.min(i,Math.max(e,isNaN(t)?e:t))}var wF=Object.freeze({__proto__:null,clamp:El});class jg extends de{constructor(e,i){super(e,i),this.handleMouseDown_=r=>this.handleMouseDown(r),this.handleMouseUp_=r=>this.handleMouseUp(r),this.handleKeyDown_=r=>this.handleKeyDown(r),this.handleClick_=r=>this.handleClick(r),this.handleMouseMove_=r=>this.handleMouseMove(r),this.update_=r=>this.update(r),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,i={},r={}){return i.className=i.className+" vjs-slider",i=Object.assign({tabIndex:0},i),r=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},r),super.createEl(e,i,r)}handleMouseDown(e){const i=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!en&&e.preventDefault(),zE(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(i,"mousemove",this.handleMouseMove_),this.on(i,"mouseup",this.handleMouseUp_),this.on(i,"touchmove",this.handleMouseMove_),this.on(i,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const i=this.bar.el_.ownerDocument;GE(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(i,"mousemove",this.handleMouseMove_),this.off(i,"mouseup",this.handleMouseUp_),this.off(i,"touchmove",this.handleMouseMove_),this.off(i,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const i=this.vertical()?"height":"width";this.bar.el().style[i]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(El(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const i=rh(this.el_,e);return this.vertical()?i.y:i.x}handleKeyDown(e){const i=this.options_.playerOptions.spatialNavigation,r=i&&i.enabled,n=i&&i.horizontalSeek;r?n&&e.key==="ArrowLeft"||!n&&e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):n&&e.key==="ArrowRight"||!n&&e.key==="ArrowUp"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e):e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):e.key==="ArrowUp"||e.key==="ArrowRight"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}de.registerComponent("Slider",jg);const Ef=(t,e)=>El(t/e*100,0,100).toFixed(2)+"%";class CF extends de{constructor(e,i){super(e,i),this.partEls_=[],this.on(e,"progress",r=>this.update(r))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),i=qe("span",{className:"vjs-control-text"}),r=qe("span",{textContent:this.localize("Loaded")}),n=we.createTextNode(": ");return this.percentageEl_=qe("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(i),i.appendChild(r),i.appendChild(n),i.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const i=this.player_.liveTracker,r=this.player_.buffered(),n=i&&i.isLive()?i.seekableEnd():this.player_.duration(),s=this.player_.bufferedEnd(),a=this.partEls_,o=Ef(s,n);this.percent_!==o&&(this.el_.style.width=o,us(this.percentageEl_,o),this.percent_=o);for(let u=0;u<r.length;u++){const l=r.start(u),c=r.end(u);let f=a[u];f||(f=this.el_.appendChild(qe()),a[u]=f),!(f.dataset.start===l&&f.dataset.end===c)&&(f.dataset.start=l,f.dataset.end=c,f.style.left=Ef(l,s),f.style.width=Ef(c-l,s))}for(let u=a.length;u>r.length;u--)this.el_.removeChild(a[u-1]);a.length=r.length})}}de.registerComponent("LoadProgressBar",CF);class AF extends de{constructor(e,i){super(e,i),this.update=tn(_t(this,this.update),sr)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,i,r){const n=Ou(this.el_),s=ja(this.player_.el()),a=e.width*i;if(!s||!n)return;let o=e.left-s.left+a,u=e.width-a+(s.right-e.right);u||(u=e.width-a,o=a);let l=n.width/2;o<l?l+=l-o:u<l&&(l=u),l<0?l=0:l>n.width&&(l=n.width),l=Math.round(l),this.el_.style.right=`-${l}px`,this.write(r)}write(e){us(this.el_,e)}updateTime(e,i,r,n){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let s;const a=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const o=this.player_.liveTracker.liveWindow(),u=o-i*o;s=(u<1?"":"-")+Fs(u,o)}else s=Fs(r,a);this.update(e,i,s),n&&n()})}}de.registerComponent("TimeTooltip",AF);class Bg extends de{constructor(e,i){super(e,i),this.setIcon("circle"),this.update=tn(_t(this,this.update),sr)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,i){const r=this.getChild("timeTooltip");if(!r)return;const n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();r.updateTime(e,i,n)}}Bg.prototype.options_={children:[]};!ci&&!xr&&Bg.prototype.options_.children.push("timeTooltip");de.registerComponent("PlayProgressBar",Bg);class b2 extends de{constructor(e,i){super(e,i),this.update=tn(_t(this,this.update),sr)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,i){const r=i*this.player_.duration();this.getChild("timeTooltip").updateTime(e,i,r,()=>{this.el_.style.left=`${e.width*i}px`})}}b2.prototype.options_={children:["timeTooltip"]};de.registerComponent("MouseTimeDisplay",b2);class ch extends jg{constructor(e,i){i=ft(ch.prototype.options_,i),i.children=[...i.children];const r=e.options_.disableSeekWhileScrubbingOnMobile&&(ci||xr);(!ci&&!xr||r)&&i.children.splice(1,0,"mouseTimeDisplay"),super(e,i),this.shouldDisableSeekWhileScrubbingOnMobile_=r,this.pendingSeekTime_=null,this.setEventHandlers_()}setEventHandlers_(){this.update_=_t(this,this.update),this.update=tn(this.update_,sr),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in we&&"visibilityState"in we&&this.on(we,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){we.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,sr))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(we.visibilityState==="hidden")return;const i=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const r=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),n=this.player_.liveTracker;let s=this.player_.duration();n&&n.isLive()&&(s=this.player_.liveTracker.liveCurrentTime()),this.percent_!==i&&(this.el_.setAttribute("aria-valuenow",(i*100).toFixed(2)),this.percent_=i),(this.currentTime_!==r||this.duration_!==s)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Fs(r,s),Fs(s,s)],"{1} of {2}")),this.currentTime_=r,this.duration_=s),this.bar&&this.bar.update(ja(this.el()),this.getProgress())}),i}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){if(this.pendingSeekTime_)return this.pendingSeekTime_/this.player_.duration();const e=this.getCurrentTime_();let i;const r=this.player_.liveTracker;return r&&r.isLive()?(i=(e-r.seekableStart())/r.liveWindow(),r.atLiveEdge()&&(i=1)):i=e/this.player_.duration(),i}handleMouseDown(e){Ru(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.shouldDisableSeekWhileScrubbingOnMobile_||this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,i=!1){if(!Ru(e)||isNaN(this.player_.duration()))return;!i&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let r;const n=this.calculateDistance(e),s=this.player_.liveTracker;if(!s||!s.isLive())r=n*this.player_.duration(),r===this.player_.duration()&&(r=r-.1);else{if(n>=.99){s.seekToLiveEdge();return}const a=s.seekableStart(),o=s.liveCurrentTime();if(r=a+n*s.liveWindow(),r>=o&&(r=o),r<=a&&(r=a+.1),r===1/0)return}this.shouldDisableSeekWhileScrubbingOnMobile_?this.pendingSeekTime_=r:this.userSeek_(r),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.pendingSeekTime_&&(this.userSeek_(this.pendingSeekTime_),this.pendingSeekTime_=null),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Vr(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+this.options().stepSeconds)}stepBack(){this.userSeek_(this.player_.currentTime()-this.options().stepSeconds)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const i=this.player_.liveTracker;if(e.key===" "||e.key==="Enter")e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(e.key==="Home")e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(e.key==="End")e.preventDefault(),e.stopPropagation(),i&&i.isLive()?this.userSeek_(i.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();const r=parseInt(e.key,10)*.1;i&&i.isLive()?this.userSeek_(i.seekableStart()+i.liveWindow()*r):this.userSeek_(this.player_.duration()*r)}else e.key==="PageDown"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-this.options().stepSeconds*this.options().pageMultiplier)):e.key==="PageUp"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+this.options().stepSeconds*this.options().pageMultiplier)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in we&&"visibilityState"in we&&this.off(we,"visibilitychange",this.toggleVisibility_),super.dispose()}}ch.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar",stepSeconds:5,pageMultiplier:12};de.registerComponent("SeekBar",ch);class S2 extends de{constructor(e,i){super(e,i),this.handleMouseMove=tn(_t(this,this.handleMouseMove),sr),this.throttledHandleMouseSeek=tn(_t(this,this.handleMouseSeek),sr),this.handleMouseUpHandler_=r=>this.handleMouseUp(r),this.handleMouseDownHandler_=r=>this.handleMouseDown(r),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const i=this.getChild("seekBar");if(!i)return;const r=i.getChild("playProgressBar"),n=i.getChild("mouseTimeDisplay");if(!r&&!n)return;const s=i.el(),a=Ou(s);let o=rh(s,e).x;o=El(o,0,1),n&&n.update(a,o),r&&r.update(a,i.getProgress())}handleMouseSeek(e){const i=this.getChild("seekBar");i&&i.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&Vr(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const i=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseDown(e),this.on(i,"mousemove",this.throttledHandleMouseSeek),this.on(i,"touchmove",this.throttledHandleMouseSeek),this.on(i,"mouseup",this.handleMouseUpHandler_),this.on(i,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const i=this.getChild("seekBar");i&&i.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}S2.prototype.options_={children:["seekBar"]};de.registerComponent("ProgressControl",S2);class T2 extends hi{constructor(e,i){super(e,i),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],r=>this.handlePictureInPictureChange(r)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],r=>this.handlePictureInPictureEnabledChange(r)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){we.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in q?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof we.exitPictureInPicture=="function"&&super.show()}}T2.prototype.controlText_="Picture-in-Picture";de.registerComponent("PictureInPictureToggle",T2);class E2 extends hi{constructor(e,i){super(e,i),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",r=>this.handleFullscreenChange(r)),we[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}E2.prototype.controlText_="Fullscreen";de.registerComponent("FullscreenToggle",E2);const PF=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class OF extends de{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}de.registerComponent("VolumeLevel",OF);class RF extends de{constructor(e,i){super(e,i),this.update=tn(_t(this,this.update),sr)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,i,r,n){if(!r){const s=ja(this.el_),a=ja(this.player_.el()),o=e.width*i;if(!a||!s)return;const u=e.left-a.left+o,l=e.width-o+(a.right-e.right);let c=s.width/2;u<c?c+=c-u:l<c&&(c=l),c<0?c=0:c>s.width&&(c=s.width),this.el_.style.right=`-${c}px`}this.write(`${n}%`)}write(e){us(this.el_,e)}updateVolume(e,i,r,n,s){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,i,r,n.toFixed(0)),s&&s()})}}de.registerComponent("VolumeLevelTooltip",RF);class x2 extends de{constructor(e,i){super(e,i),this.update=tn(_t(this,this.update),sr)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,i,r){const n=100*i;this.getChild("volumeLevelTooltip").updateVolume(e,i,r,n,()=>{r?this.el_.style.bottom=`${e.height*i}px`:this.el_.style.left=`${e.width*i}px`})}}x2.prototype.options_={children:["volumeLevelTooltip"]};de.registerComponent("MouseVolumeLevelDisplay",x2);class dh extends jg{constructor(e,i){super(e,i),this.on("slideractive",r=>this.updateLastVolume_(r)),this.on(e,"volumechange",r=>this.updateARIAAttributes(r)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){Ru(e)&&super.handleMouseDown(e)}handleMouseMove(e){const i=this.getChild("mouseVolumeLevelDisplay");if(i){const r=this.el(),n=ja(r),s=this.vertical();let a=rh(r,e);a=s?a.y:a.x,a=El(a,0,1),i.update(n,a,s)}Ru(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const i=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",i),this.el_.setAttribute("aria-valuetext",i+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}dh.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!ci&&!xr&&dh.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");dh.prototype.playerEvent="volumechange";de.registerComponent("VolumeBar",dh);class w2 extends de{constructor(e,i={}){i.vertical=i.vertical||!1,(typeof i.volumeBar>"u"||Ma(i.volumeBar))&&(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical),super(e,i),PF(this,e),this.throttledHandleMouseMove=tn(_t(this,this.handleMouseMove),sr),this.handleMouseUpHandler_=r=>this.handleMouseUp(r),this.on("mousedown",r=>this.handleMouseDown(r)),this.on("touchstart",r=>this.handleMouseDown(r)),this.on("mousemove",r=>this.handleMouseMove(r)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const i=this.el_.ownerDocument;this.on(i,"mousemove",this.throttledHandleMouseMove),this.on(i,"touchmove",this.throttledHandleMouseMove),this.on(i,"mouseup",this.handleMouseUpHandler_),this.on(i,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const i=this.el_.ownerDocument;this.off(i,"mousemove",this.throttledHandleMouseMove),this.off(i,"touchmove",this.throttledHandleMouseMove),this.off(i,"mouseup",this.handleMouseUpHandler_),this.off(i,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}w2.prototype.options_={children:["volumeBar"]};de.registerComponent("VolumeControl",w2);const DF=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class C2 extends hi{constructor(e,i){super(e,i),DF(this,e),this.on(e,["loadstart","volumechange"],r=>this.update(r))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const i=this.player_.volume(),r=this.player_.lastVolume_();if(i===0){const n=r<.1?.1:r;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let i=3;this.setIcon("volume-high"),ci&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),i=0):e<.33?(this.setIcon("volume-low"),i=1):e<.67&&(this.setIcon("volume-medium"),i=2),th(this.el_,[0,1,2,3].reduce((r,n)=>r+`${n?" ":""}vjs-vol-${n}`,"")),Ds(this.el_,`vjs-vol-${i}`)}updateControlText_(){const i=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==i&&this.controlText(i)}}C2.prototype.controlText_="Mute";de.registerComponent("MuteToggle",C2);class A2 extends de{constructor(e,i={}){typeof i.inline<"u"?i.inline=i.inline:i.inline=!0,(typeof i.volumeControl>"u"||Ma(i.volumeControl))&&(i.volumeControl=i.volumeControl||{},i.volumeControl.vertical=!i.inline),super(e,i),this.handleKeyPressHandler_=r=>this.handleKeyPress(r),this.on(e,["loadstart"],r=>this.volumePanelState_(r)),this.on(this.muteToggle,"keyup",r=>this.handleKeyPress(r)),this.on(this.volumeControl,"keyup",r=>this.handleVolumeControlKeyUp(r)),this.on("keydown",r=>this.handleKeyPress(r)),this.on("mouseover",r=>this.handleMouseOver(r)),this.on("mouseout",r=>this.handleMouseOut(r)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){e.key==="Escape"&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),Hi(we,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),di(we,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){e.key==="Escape"&&this.handleMouseOut()}}A2.prototype.options_={children:["muteToggle","volumeControl"]};de.registerComponent("VolumePanel",A2);class P2 extends hi{constructor(e,i){super(e,i),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const i=this.player_.currentTime(),r=this.player_.liveTracker,n=r&&r.isLive()?r.seekableEnd():this.player_.duration();let s;i+this.skipTime<=n?s=i+this.skipTime:s=n,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}P2.prototype.controlText_="Skip Forward";de.registerComponent("SkipForward",P2);class O2 extends hi{constructor(e,i){super(e,i),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const i=this.player_.currentTime(),r=this.player_.liveTracker,n=r&&r.isLive()&&r.seekableStart();let s;n&&i-this.skipTime<=n?s=n:i>=this.skipTime?s=i-this.skipTime:s=0,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}O2.prototype.controlText_="Skip Backward";de.registerComponent("SkipBackward",O2);class R2 extends de{constructor(e,i){super(e,i),i&&(this.menuButton_=i.menuButton),this.focusedChild_=-1,this.on("keydown",r=>this.handleKeyDown(r)),this.boundHandleBlur_=r=>this.handleBlur(r),this.boundHandleTapClick_=r=>this.handleTapClick(r)}addEventListenerForItem(e){e instanceof de&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof de&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const i=this.addChild(e);i&&this.addEventListenerForItem(i)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=qe(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const i=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return i.appendChild(this.contentEl_),Hi(i,"click",function(r){r.preventDefault(),r.stopImmediatePropagation()}),i}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const i=e.relatedTarget||we.activeElement;if(!this.children().some(r=>r.el()===i)){const r=this.menuButton_;r&&r.buttonPressed_&&i!==r.el().firstChild&&r.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const i=this.children();if(!Array.isArray(i))return;const r=i.filter(n=>n.el()===e.target)[0];if(!r)return;r.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(e.key==="ArrowRight"||e.key==="ArrowUp")&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const i=this.children().slice();i.length&&i[0].hasClass("vjs-menu-title")&&i.shift(),i.length>0&&(e<0?e=0:e>=i.length&&(e=i.length-1),this.focusedChild_=e,i[e].el_.focus())}}de.registerComponent("Menu",R2);class Ug extends de{constructor(e,i={}){super(e,i),this.menuButton_=new hi(e,i),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const r=hi.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+r,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const n=s=>this.handleClick(s);this.handleMenuKeyUp_=s=>this.handleMenuKeyUp(s),this.on(this.menuButton_,"tap",n),this.on(this.menuButton_,"click",n),this.on(this.menuButton_,"keydown",s=>this.handleKeyDown(s)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),Hi(we,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",s=>this.handleMouseLeave(s)),this.on("keydown",s=>this.handleSubmenuKeyDown(s))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new R2(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const i=qe("li",{className:"vjs-menu-title",textContent:kt(this.options_.title),tabIndex:-1}),r=new de(this.player_,{el:i});e.addItem(r)}if(this.items=this.createItems(),this.items)for(let i=0;i<this.items.length;i++)e.addItem(this.items[i]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const i=hi.prototype.buildCSSClass();return`vjs-menu-button ${e} ${i} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,i=this.menuButton_.el()){return this.menuButton_.controlText(e,i)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),di(we,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){e.key==="Escape"||e.key==="Tab"?(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus())):(e.key==="Up"||e.key==="Down"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(e.key==="Escape"||e.key==="Tab")&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(e.key==="Escape"||e.key==="Tab")&&(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),ci&&UE())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}de.registerComponent("MenuButton",Ug);class Hg extends Ug{constructor(e,i){const r=i.tracks;if(super(e,i),this.items.length<=1&&this.hide(),!r)return;const n=_t(this,this.update);r.addEventListener("removetrack",n),r.addEventListener("addtrack",n),r.addEventListener("labelchange",n),this.player_.on("ready",n),this.player_.on("dispose",function(){r.removeEventListener("removetrack",n),r.removeEventListener("addtrack",n),r.removeEventListener("labelchange",n)})}}de.registerComponent("TrackButton",Hg);class xl extends lh{constructor(e,i){super(e,i),this.selectable=i.selectable,this.isSelected_=i.selected||!1,this.multiSelectable=i.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,i,r){this.nonIconControl=!0;const n=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},i),r),s=qe("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?n.appendChild(s):n.replaceChild(s,n.querySelector(".vjs-icon-placeholder")),n}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}de.registerComponent("MenuItem",xl);class wl extends xl{constructor(e,i){const r=i.track,n=e.textTracks();i.label=r.label||r.language||"Unknown",i.selected=r.mode==="showing",super(e,i),this.track=r,this.kinds=(i.kinds||[i.kind||this.track.kind]).filter(Boolean);const s=(...o)=>{this.handleTracksChange.apply(this,o)},a=(...o)=>{this.handleSelectedLanguageChange.apply(this,o)};if(e.on(["loadstart","texttrackchange"],s),n.addEventListener("change",s),n.addEventListener("selectedlanguagechange",a),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],s),n.removeEventListener("change",s),n.removeEventListener("selectedlanguagechange",a)}),n.onchange===void 0){let o;this.on(["tap","click"],function(){if(typeof q.Event!="object")try{o=new q.Event("change")}catch{}o||(o=we.createEvent("Event"),o.initEvent("change",!0,!0)),n.dispatchEvent(o)})}this.handleTracksChange()}handleClick(e){const i=this.track,r=this.player_.textTracks();if(super.handleClick(e),!!r)for(let n=0;n<r.length;n++){const s=r[n];this.kinds.indexOf(s.kind)!==-1&&(s===i?s.mode!=="showing"&&(s.mode="showing"):s.mode!=="disabled"&&(s.mode="disabled"))}}handleTracksChange(e){const i=this.track.mode==="showing";i!==this.isSelected_&&this.selected(i)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const i=this.player_.cache_.selectedLanguage;if(i&&i.enabled&&i.language===this.track.language&&i.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}de.registerComponent("TextTrackMenuItem",wl);class D2 extends wl{constructor(e,i){i.track={player:e,kind:i.kind,kinds:i.kinds,default:!1,mode:"disabled"},i.kinds||(i.kinds=[i.kind]),i.label?i.track.label=i.label:i.track.label=i.kinds.join(" and ")+" off",i.selectable=!0,i.multiSelectable=!1,super(e,i)}handleTracksChange(e){const i=this.player().textTracks();let r=!0;for(let n=0,s=i.length;n<s;n++){const a=i[n];if(this.options_.kinds.indexOf(a.kind)>-1&&a.mode==="showing"){r=!1;break}}r!==this.isSelected_&&this.selected(r)}handleSelectedLanguageChange(e){const i=this.player().textTracks();let r=!0;for(let n=0,s=i.length;n<s;n++){const a=i[n];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&a.mode==="showing"){r=!1;break}}r&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}de.registerComponent("OffTextTrackMenuItem",D2);class so extends Hg{constructor(e,i={}){i.tracks=e.textTracks(),super(e,i)}createItems(e=[],i=wl){let r;this.label_&&(r=`${this.label_} off`),e.push(new D2(this.player_,{kinds:this.kinds_,kind:this.kind_,label:r})),this.hideThreshold_+=1;const n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let s=0;s<n.length;s++){const a=n[s];if(this.kinds_.indexOf(a.kind)>-1){const o=new i(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});o.addClass(`vjs-${a.kind}-menu-item`),e.push(o)}}return e}}de.registerComponent("TextTrackButton",so);class I2 extends xl{constructor(e,i){const r=i.track,n=i.cue,s=e.currentTime();i.selectable=!0,i.multiSelectable=!1,i.label=n.text,i.selected=n.startTime<=s&&s<n.endTime,super(e,i),this.track=r,this.cue=n}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}de.registerComponent("ChaptersTrackMenuItem",I2);class qg extends so{constructor(e,i,r){super(e,i,r),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(n=>{n.selected(this.track_.activeCues[0]===n.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const i=this.findChaptersTrack();i!==this.track_?(this.setTrack(i),super.update()):(!this.items||i&&i.cues&&i.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let i=e.length-1;i>=0;i--){const r=e[i];if(r.kind===this.kind_)return r}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(kt(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const i=this.track_.cues;if(!i)return e;for(let r=0,n=i.length;r<n;r++){const s=i[r],a=new I2(this.player_,{track:this.track_,cue:s});e.push(a)}return e}}qg.prototype.kind_="chapters";qg.prototype.controlText_="Chapters";de.registerComponent("ChaptersButton",qg);class Vg extends so{constructor(e,i,r){super(e,i,r),this.setIcon("audio-description");const n=e.textTracks(),s=_t(this,this.handleTracksChange);n.addEventListener("change",s),this.on("dispose",function(){n.removeEventListener("change",s)})}handleTracksChange(e){const i=this.player().textTracks();let r=!1;for(let n=0,s=i.length;n<s;n++){const a=i[n];if(a.kind!==this.kind_&&a.mode==="showing"){r=!0;break}}r?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}Vg.prototype.kind_="descriptions";Vg.prototype.controlText_="Descriptions";de.registerComponent("DescriptionsButton",Vg);class Wg extends so{constructor(e,i,r){super(e,i,r),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}Wg.prototype.kind_="subtitles";Wg.prototype.controlText_="Subtitles";de.registerComponent("SubtitlesButton",Wg);class zg extends wl{constructor(e,i){i.track={player:e,kind:i.kind,label:i.kind+" settings",selectable:!1,default:!1,mode:"disabled"},i.selectable=!1,i.name="CaptionSettingsMenuItem",super(e,i),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+i.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}de.registerComponent("CaptionSettingsMenuItem",zg);class Gg extends so{constructor(e,i,r){super(e,i,r),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new zg(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}Gg.prototype.kind_="captions";Gg.prototype.controlText_="Captions";de.registerComponent("CaptionsButton",Gg);class k2 extends wl{createEl(e,i,r){const n=super.createEl(e,i,r),s=n.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",n):s.appendChild(qe("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(qe("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),n}}de.registerComponent("SubsCapsMenuItem",k2);class Kg extends so{constructor(e,i={}){super(e,i),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(kt(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new zg(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,k2),e}}Kg.prototype.kinds_=["captions","subtitles"];Kg.prototype.controlText_="Subtitles";de.registerComponent("SubsCapsButton",Kg);class L2 extends xl{constructor(e,i){const r=i.track,n=e.audioTracks();i.label=r.label||r.language||"Unknown",i.selected=r.enabled,super(e,i),this.track=r,this.addClass(`vjs-${r.kind}-menu-item`);const s=(...a)=>{this.handleTracksChange.apply(this,a)};n.addEventListener("change",s),this.on("dispose",()=>{n.removeEventListener("change",s)})}createEl(e,i,r){const n=super.createEl(e,i,r),s=n.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(s.appendChild(qe("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(qe("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),n}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const i=this.player_.audioTracks();for(let r=0;r<i.length;r++){const n=i[r];n!==this.track&&(n.enabled=n===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}de.registerComponent("AudioTrackMenuItem",L2);class N2 extends Hg{constructor(e,i={}){i.tracks=e.audioTracks(),super(e,i),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const i=this.player_.audioTracks();for(let r=0;r<i.length;r++){const n=i[r];e.push(new L2(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return e}}N2.prototype.controlText_="Audio Track";de.registerComponent("AudioTrackButton",N2);class Qg extends xl{constructor(e,i){const r=i.rate,n=parseFloat(r,10);i.label=r,i.selected=n===e.playbackRate(),i.selectable=!0,i.multiSelectable=!1,super(e,i),this.label=r,this.rate=n,this.on(e,"ratechange",s=>this.update(s))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}Qg.prototype.contentElType="button";de.registerComponent("PlaybackRateMenuItem",Qg);class F2 extends Ug{constructor(e,i){super(e,i),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",r=>this.updateVisibility(r)),this.on(e,"ratechange",r=>this.updateLabel(r)),this.on(e,"playbackrateschange",r=>this.handlePlaybackRateschange(r))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=qe("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),i=[];for(let r=e.length-1;r>=0;r--)i.push(new Qg(this.player(),{rate:e[r]+"x"}));return i}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}F2.prototype.controlText_="Playback Rate";de.registerComponent("PlaybackRateMenuButton",F2);class M2 extends de{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",i={},r={}){return i.className||(i.className=this.buildCSSClass()),super.createEl(e,i,r)}}de.registerComponent("Spacer",M2);class IF extends M2{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:""})}}de.registerComponent("CustomControlSpacer",IF);class $2 extends de{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}$2.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};de.registerComponent("ControlBar",$2);class j2 extends ro{constructor(e,i){super(e,i),this.on(e,"error",r=>{this.open(r)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}j2.prototype.options_=Object.assign({},ro.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});de.registerComponent("ErrorDisplay",j2);class B2 extends de{constructor(e,i={}){super(e,i),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),qe("select",{id:this.options_.id},{},this.options_.SelectOptions.map(i=>{const r=(this.options_.labelId?this.options_.labelId:`vjs-track-option-${nr()}`)+"-"+i[1].replace(/\W+/g,""),n=qe("option",{id:r,value:this.localize(i[0]),textContent:this.localize(i[1])});return n.setAttribute("aria-labelledby",`${this.selectLabelledbyIds} ${r}`),n}))}}de.registerComponent("TextTrackSelect",B2);class ks extends de{constructor(e,i={}){super(e,i);const r=qe("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(r);const n=this.options_.selects;for(const s of n){const a=this.options_.selectConfigs[s],o=a.className,u=a.id.replace("%s",this.options_.id_);let l=null;const c=`vjs_select_${nr()}`;if(this.options_.type==="colors"){l=qe("span",{className:o});const m=qe("label",{id:u,className:"vjs-label",textContent:this.localize(a.label)});m.setAttribute("for",c),l.appendChild(m)}const f=new B2(e,{SelectOptions:a.options,legendId:this.options_.legendId,id:c,labelId:u});this.addChild(f),this.options_.type==="colors"&&(l.appendChild(f.el()),this.el().appendChild(l))}}createEl(){return qe("fieldset",{className:this.options_.className})}}de.registerComponent("TextTrackFieldset",ks);class U2 extends de{constructor(e,i={}){super(e,i);const r=this.options_.textTrackComponentid,n=new ks(e,{id_:r,legendId:`captions-text-legend-${r}`,legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(n);const s=new ks(e,{id_:r,legendId:`captions-background-${r}`,legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(s);const a=new ks(e,{id_:r,legendId:`captions-window-${r}`,legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(a)}createEl(){return qe("div",{className:"vjs-track-settings-colors"})}}de.registerComponent("TextTrackSettingsColors",U2);class H2 extends de{constructor(e,i={}){super(e,i);const r=this.options_.textTrackComponentid,n=new ks(e,{id_:r,legendId:`captions-font-size-${r}`,legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(n);const s=new ks(e,{id_:r,legendId:`captions-edge-style-${r}`,legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(s);const a=new ks(e,{id_:r,legendId:`captions-font-family-${r}`,legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(a)}createEl(){return qe("div",{className:"vjs-track-settings-font"})}}de.registerComponent("TextTrackSettingsFont",H2);class q2 extends de{constructor(e,i={}){super(e,i);const r=this.localize("restore all settings to the default values"),n=new hi(e,{controlText:r,className:"vjs-default-button"});n.el().classList.remove("vjs-control","vjs-button"),n.el().textContent=this.localize("Reset"),this.addChild(n);const s=new hi(e,{controlText:r,className:"vjs-done-button"});s.el().classList.remove("vjs-control","vjs-button"),s.el().textContent=this.localize("Done"),this.addChild(s)}createEl(){return qe("div",{className:"vjs-track-settings-controls"})}}de.registerComponent("TrackSettingsControls",q2);const xf="vjs-text-track-settings",d_=["#000","Black"],h_=["#00F","Blue"],f_=["#0FF","Cyan"],p_=["#0F0","Green"],m_=["#F0F","Magenta"],g_=["#F00","Red"],y_=["#FFF","White"],v_=["#FF0","Yellow"],wf=["1","Opaque"],Cf=["0.5","Semi-Transparent"],__=["0","Transparent"],Qn={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[d_,y_,g_,p_,h_,v_,m_,f_],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[wf,Cf,__],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[y_,d_,g_,p_,h_,v_,m_,f_],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[wf,Cf],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[__,Cf,wf],className:"vjs-window-opacity vjs-opacity"}};Qn.windowColor.options=Qn.backgroundColor.options;function V2(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function kF(t,e){const i=t.options[t.options.selectedIndex].value;return V2(i,e)}function LF(t,e,i){if(e){for(let r=0;r<t.options.length;r++)if(V2(t.options[r].value,i)===e){t.selectedIndex=r;break}}}class NF extends ro{constructor(e,i){i.temporary=!1,super(e,i),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=qe("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),i.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){const i=new U2(e,{textTrackComponentid:this.id_,selectConfigs:Qn,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(i);const r=new H2(e,{textTrackComponentid:this.id_,selectConfigs:Qn,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(r);const n=new q2(e);this.addChild(n)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),_a(Qn,e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return LE(Qn,(e,i,r)=>{const n=kF(this.$(i.selector),i.parser);return n!==void 0&&(e[r]=n),e},{})}setValues(e){_a(Qn,(i,r)=>{LF(this.$(i.selector),e[r],i.parser)})}setDefaults(){_a(Qn,e=>{const i=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=i})}restoreSettings(){let e;try{e=JSON.parse(q.localStorage.getItem(xf))}catch(i){et.warn(i)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?q.localStorage.setItem(xf,JSON.stringify(e)):q.localStorage.removeItem(xf)}catch(i){et.warn(i)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}}de.registerComponent("TextTrackSettings",NF);class FF extends de{constructor(e,i){let r=i.ResizeObserver||q.ResizeObserver;i.ResizeObserver===null&&(r=!1);const n=ft({createEl:!r,reportTouchActivity:!1},i);super(e,n),this.ResizeObserver=i.ResizeObserver||q.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=r2(()=>{this.resizeHandler()},100,!1,this),r?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const s=this.debouncedHandler_;let a=this.unloadListener_=function(){di(this,"resize",s),di(this,"unload",a),a=null};Hi(this.el_.contentWindow,"unload",a),Hi(this.el_.contentWindow,"resize",s)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}de.registerComponent("ResizeManager",FF);const MF={trackingThreshold:20,liveTolerance:15};class $F extends de{constructor(e,i){const r=ft(MF,i,{createEl:!1});super(e,r),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=n=>this.handlePlay(n),this.handleFirstTimeupdate_=n=>this.handleFirstTimeupdate(n),this.handleSeeked_=n=>this.handleSeeked(n),this.seekToLiveEdge_=n=>this.seekToLiveEdge(n),this.reset_(),this.on(this.player_,"durationchange",n=>this.handleDurationchange(n)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const i=Number(q.performance.now().toFixed(4)),r=this.lastTime_===-1?0:(i-this.lastTime_)/1e3;this.lastTime_=i,this.pastSeekEnd_=this.pastSeekEnd()+r;const n=this.liveCurrentTime(),s=this.player_.currentTime();let a=this.player_.paused()||this.seekedBehindLive_||Math.abs(n-s)>this.options_.liveTolerance;(!this.timeupdateSeen_||n===1/0)&&(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,sr),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),i=[];let r=e?e.length:0;for(;r--;)i.push(e.end(r));return i.length?i.sort()[i.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),i=[];let r=e?e.length:0;for(;r--;)i.push(e.start(r));return i.length?i.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}de.registerComponent("LiveTracker",$F);class jF extends de{constructor(e,i){super(e,i),this.on("statechanged",r=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:qe("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${nr()}`}),description:qe("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${nr()}`})},qe("div",{className:"vjs-title-bar"},{},NE(this.els))}updateDom_(){const e=this.player_.tech_,i=e&&e.el_,r={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(n=>{const s=this.state[n],a=this.els[n],o=r[n];nh(a),s&&us(a,s),i&&(i.removeAttribute(o),s&&i.setAttribute(o,a.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,i=e&&e.el_;i&&(i.removeAttribute("aria-labelledby"),i.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}de.registerComponent("TitleBar",jF);const BF={initialDisplay:4e3,position:[],takeFocus:!1};class UF extends hi{constructor(e,i){i=ft(BF,i),super(e,i),this.controlText(i.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],r=>{this.removeClass("force-display")})}buildCSSClass(){return`vjs-transient-button focus-visible ${this.options_.position.map(e=>`vjs-${e}`).join(" ")}`}createEl(){const e=qe("button",{},{type:"button",class:this.buildCSSClass()},qe("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}}de.registerComponent("TransientButton",UF);const mm=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const i=t.$$("source"),r=[];let n="";if(!i.length)return!1;for(let s=0;s<i.length;s++){const a=i[s].src;a&&r.indexOf(a)===-1&&r.push(a)}return r.length?(r.length===1&&(n=r[0]),t.triggerSourceset(n),!0):!1},HF=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=we.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const i=we.createDocumentFragment();for(;e.childNodes.length;)i.appendChild(e.childNodes[0]);return this.innerText="",q.Element.prototype.appendChild.call(this,i),this.innerHTML}}),W2=(t,e)=>{let i={};for(let r=0;r<t.length&&(i=Object.getOwnPropertyDescriptor(t[r],e),!(i&&i.set&&i.get));r++);return i.enumerable=!0,i.configurable=!0,i},qF=t=>W2([t.el(),q.HTMLMediaElement.prototype,q.Element.prototype,HF],"innerHTML"),b_=function(t){const e=t.el();if(e.resetSourceWatch_)return;const i={},r=qF(t),n=s=>(...a)=>{const o=s.apply(e,a);return mm(t),o};["append","appendChild","insertAdjacentHTML"].forEach(s=>{e[s]&&(i[s]=e[s],e[s]=n(i[s]))}),Object.defineProperty(e,"innerHTML",ft(r,{set:n(r.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(i).forEach(s=>{e[s]=i[s]}),Object.defineProperty(e,"innerHTML",r)},t.one("sourceset",e.resetSourceWatch_)},VF=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?f2(q.Element.prototype.getAttribute.call(this,"src")):""},set(t){return q.Element.prototype.setAttribute.call(this,"src",t),t}}),WF=t=>W2([t.el(),q.HTMLMediaElement.prototype,VF],"src"),zF=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const i=WF(t),r=e.setAttribute,n=e.load;Object.defineProperty(e,"src",ft(i,{set:s=>{const a=i.set.call(e,s);return t.triggerSourceset(e.src),a}})),e.setAttribute=(s,a)=>{const o=r.call(e,s,a);return/src/i.test(s)&&t.triggerSourceset(e.src),o},e.load=()=>{const s=n.call(e);return mm(t)||(t.triggerSourceset(""),b_(t)),s},e.currentSrc?t.triggerSourceset(e.currentSrc):mm(t)||b_(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=n,e.setAttribute=r,Object.defineProperty(e,"src",i),e.resetSourceWatch_&&e.resetSourceWatch_()}};class Ne extends Ke{constructor(e,i){super(e,i);const r=e.source;let n=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",r&&(this.el_.currentSrc!==r.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(r):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const s=this.el_.childNodes;let a=s.length;const o=[];for(;a--;){const u=s[a];u.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(u),this.remoteTextTracks().addTrack(u.track),this.textTracks().addTrack(u.track),!n&&!this.el_.hasAttribute("crossorigin")&&uh(u.src)&&(n=!0)):o.push(u))}for(let u=0;u<o.length;u++)this.el_.removeChild(o[u])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&n&&et.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(Pu||Zd)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),Ne.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){zF(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let i;const r=()=>{i=[];for(let s=0;s<e.length;s++){const a=e[s];a.kind==="metadata"&&i.push({track:a,storedMode:a.mode})}};r(),e.addEventListener("change",r),this.on("dispose",()=>e.removeEventListener("change",r));const n=()=>{for(let s=0;s<i.length;s++){const a=i[s];a.track.mode==="disabled"&&a.track.mode!==a.storedMode&&(a.track.mode=a.storedMode)}e.removeEventListener("change",n)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",r),e.removeEventListener("change",n),e.addEventListener("change",n)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",r),e.addEventListener("change",r),e.removeEventListener("change",n)})}overrideNative_(e,i){if(i!==this[`featuresNative${e}Tracks`])return;const r=e.toLowerCase();this[`${r}TracksListeners_`]&&Object.keys(this[`${r}TracksListeners_`]).forEach(n=>{this.el()[`${r}Tracks`].removeEventListener(n,this[`${r}TracksListeners_`][n])}),this[`featuresNative${e}Tracks`]=!i,this[`${r}TracksListeners_`]=null,this.proxyNativeTracksForType_(r)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const i=tr[e],r=this.el()[i.getterName],n=this[i.getterName]();if(!this[`featuresNative${i.capitalName}Tracks`]||!r||!r.addEventListener)return;const s={change:o=>{const u={type:"change",target:n,currentTarget:n,srcElement:n};n.trigger(u),e==="text"&&this[Ha.remoteText.getterName]().trigger(u)},addtrack(o){n.addTrack(o.track)},removetrack(o){n.removeTrack(o.track)}},a=function(){const o=[];for(let u=0;u<n.length;u++){let l=!1;for(let c=0;c<r.length;c++)if(r[c]===n[u]){l=!0;break}l||o.push(n[u])}for(;o.length;)n.removeTrack(o.shift())};this[i.getterName+"Listeners_"]=s,Object.keys(s).forEach(o=>{const u=s[o];r.addEventListener(o,u),this.on("dispose",l=>r.removeEventListener(o,u))}),this.on("loadstart",a),this.on("dispose",o=>this.off("loadstart",a))}proxyNativeTracks_(){tr.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const r=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(r,e),Ne.disposeMediaElement(e),e=r}else{e=we.createElement("video");const r=this.options_.tag&&Kn(this.options_.tag),n=ft({},r);(!Pu||this.options_.nativeControlsForTouch!==!0)&&delete n.controls,VE(e,Object.assign(n,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&$a(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const i=["loop","muted","playsinline","autoplay"];for(let r=0;r<i.length;r++){const n=i[r],s=this.options_[n];typeof s<"u"&&(s?$a(e,n,n):ih(e,n),e[n]=s)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let r=!1;const n=function(){r=!0};this.on("loadstart",n);const s=function(){r||this.trigger("loadstart")};this.on("loadedmetadata",s),this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",s),r||this.trigger("loadstart")});return}const i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready(function(){i.forEach(function(r){this.trigger(r)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&eh?this.el_.fastSeek(e):this.el_.currentTime=e}catch(i){et(i,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&xr&&en&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},i=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",()=>{this.off("webkitbeginfullscreen",i),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Vr(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(i){this.trigger("fullscreenerror",i)}},0);else try{e.webkitEnterFullScreen()}catch(i){this.trigger("fullscreenerror",i)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}addSourceElement(e,i){if(!e)return et.error("Invalid source URL."),!1;const r={src:e};i&&(r.type=i);const n=qe("source",{},r);return this.el_.appendChild(n),!0}removeSourceElement(e){if(!e)return et.error("Source URL is required to remove the source element."),!1;const i=this.el_.querySelectorAll("source");for(const r of i)if(r.src===e)return this.el_.removeChild(r),!0;return et.warn(`No matching source element found with src: ${e}`),!1}reset(){Ne.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,i,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,i,r):super.addTextTrack(e,i,r)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const i=we.createElement("track");return e.kind&&(i.kind=e.kind),e.label&&(i.label=e.label),(e.language||e.srclang)&&(i.srclang=e.language||e.srclang),e.default&&(i.default=e.default),e.id&&(i.id=e.id),e.src&&(i.src=e.src),i}addRemoteTextTrack(e,i){const r=super.addRemoteTextTrack(e,i);return this.featuresNativeTextTracks&&this.el().appendChild(r),r}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const i=this.$$("track");let r=i.length;for(;r--;)(e===i[r]||e===i[r].track)&&this.el().removeChild(i[r])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),q.performance&&(e.creationTime=q.performance.now()),e}}Xd(Ne,"TEST_VID",function(){if(!eo())return;const t=we.createElement("video"),e=we.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t});Ne.isSupported=function(){try{Ne.TEST_VID.volume=.5}catch{return!1}return!!(Ne.TEST_VID&&Ne.TEST_VID.canPlayType)};Ne.canPlayType=function(t){return Ne.TEST_VID.canPlayType(t)};Ne.canPlaySource=function(t,e){return Ne.canPlayType(t.type)};Ne.canControlVolume=function(){try{const t=Ne.TEST_VID.volume;Ne.TEST_VID.volume=t/2+.1;const e=t!==Ne.TEST_VID.volume;return e&&ci?(q.setTimeout(()=>{Ne&&Ne.prototype&&(Ne.prototype.featuresVolumeControl=t!==Ne.TEST_VID.volume)}),!1):e}catch{return!1}};Ne.canMuteVolume=function(){try{const t=Ne.TEST_VID.muted;return Ne.TEST_VID.muted=!t,Ne.TEST_VID.muted?$a(Ne.TEST_VID,"muted","muted"):ih(Ne.TEST_VID,"muted","muted"),t!==Ne.TEST_VID.muted}catch{return!1}};Ne.canControlPlaybackRate=function(){if(xr&&en&&Yd<58)return!1;try{const t=Ne.TEST_VID.playbackRate;return Ne.TEST_VID.playbackRate=t/2+.1,t!==Ne.TEST_VID.playbackRate}catch{return!1}};Ne.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(we.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(we.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(we.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(we.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};Ne.supportsNativeTextTracks=function(){return eh||ci&&en};Ne.supportsNativeVideoTracks=function(){return!!(Ne.TEST_VID&&Ne.TEST_VID.videoTracks)};Ne.supportsNativeAudioTracks=function(){return!!(Ne.TEST_VID&&Ne.TEST_VID.audioTracks)};Ne.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){Xd(Ne.prototype,t,()=>Ne[e](),!0)});Ne.prototype.featuresVolumeControl=Ne.canControlVolume();Ne.prototype.movingMediaElementInDOM=!ci;Ne.prototype.featuresFullscreenResize=!0;Ne.prototype.featuresProgressEvents=!0;Ne.prototype.featuresTimeupdateEvents=!0;Ne.prototype.featuresVideoFrameCallback=!!(Ne.TEST_VID&&Ne.TEST_VID.requestVideoFrameCallback);Ne.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};Ne.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let i=e.length;for(;i--;)t.removeChild(e[i]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Ne.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Ne.prototype["set"+kt(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){Ne.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){Ne.prototype["set"+kt(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){Ne.prototype[t]=function(){return this.el_[t]()}});Ke.withSourceHandlers(Ne);Ne.nativeSourceHandler={};Ne.nativeSourceHandler.canPlayType=function(t){try{return Ne.TEST_VID.canPlayType(t)}catch{return""}};Ne.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Ne.nativeSourceHandler.canPlayType(t.type);if(t.src){const i=Lg(t.src);return Ne.nativeSourceHandler.canPlayType(`video/${i}`)}return""};Ne.nativeSourceHandler.handleSource=function(t,e,i){e.setSrc(t.src)};Ne.nativeSourceHandler.dispose=function(){};Ne.registerSourceHandler(Ne.nativeSourceHandler);Ke.registerTech("Html5",Ne);const z2=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Af={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},gm=["tiny","xsmall","small","medium","large","xlarge","huge"],Fc={};gm.forEach(t=>{const e=t.charAt(0)==="x"?`x-${t.substring(1)}`:t;Fc[t]=`vjs-layout-${e}`});const GF={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class Et extends de{constructor(e,i,r){if(e.id=e.id||i.id||`vjs_video_${nr()}`,i=Object.assign(Et.getTagSettings(e),i),i.initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language){const a=e.closest("[lang]");a&&(i.language=a.getAttribute("lang"))}if(super(null,i,r),this.boundDocumentFullscreenChange_=a=>this.documentFullscreenChange_(a),this.boundFullWindowOnEscKey_=a=>this.fullWindowOnEscKey(a),this.boundUpdateStyleEl_=a=>this.updateStyleEl_(a),this.boundApplyInitTime_=a=>this.applyInitTime_(a),this.boundUpdateCurrentBreakpoint_=a=>this.updateCurrentBreakpoint_(a),this.boundHandleTechClick_=a=>this.handleTechClick_(a),this.boundHandleTechDoubleClick_=a=>this.handleTechDoubleClick_(a),this.boundHandleTechTouchStart_=a=>this.handleTechTouchStart_(a),this.boundHandleTechTouchMove_=a=>this.handleTechTouchMove_(a),this.boundHandleTechTouchEnd_=a=>this.handleTechTouchEnd_(a),this.boundHandleTechTap_=a=>this.handleTechTap_(a),this.boundUpdatePlayerHeightOnAudioOnlyMode_=a=>this.updatePlayerHeightOnAudioOnlyMode_(a),this.isFullscreen_=!1,this.log=IE(this.id_),this.fsApi_=rd,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&Kn(e),this.language(this.options_.language),i.languages){const a={};Object.getOwnPropertyNames(i.languages).forEach(function(o){a[o.toLowerCase()]=i.languages[o]}),this.languages_=a}else this.languages_=Et.prototype.options_.languages;this.resetCache_(),this.poster_=i.poster||"",this.controls_=!!i.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),i.plugins&&Object.keys(i.plugins).forEach(a=>{if(typeof this[a]!="function")throw new Error(`plugin "${a}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),Rg(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(Hi(we,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const n=ft(this.options_);if(i.plugins&&Object.keys(i.plugins).forEach(a=>{this[a](i.plugins[a])}),i.debug&&this.debug(!0),this.options_.playerOptions=n,this.middleware_=[],this.playbackRates(i.playbackRates),i.experimentalSvgIcons){const o=new q.DOMParser().parseFromString(gF,"image/svg+xml");if(o.querySelector("parsererror"))et.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const l=o.documentElement;l.style.display="none",this.el_.appendChild(l),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),i.spatialNavigation&&i.spatialNavigation.enabled&&(this.spatialNavigation=new yF(this),this.addClass("vjs-spatial-navigation-enabled")),Pu&&this.addClass("vjs-touch-enabled"),ci||this.addClass("vjs-workinghover"),Et.players[this.id_]=this;const s=am.split(".")[0];this.addClass(`vjs-v${s}`),this.userActive(!0),this.reportUserActivity(),this.one("play",a=>this.listenForUserActivity_(a)),this.on("keydown",a=>this.handleKeyDown(a)),this.on("languagechange",a=>this.handleLanguagechange(a)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),di(we,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),di(we,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),Et.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),hF(this),Si.names.forEach(e=>{const i=Si[e],r=this[i.getterName]();r&&r.off&&r.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,i,r=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const n=this.tag.tagName.toLowerCase()==="video-js";r?i=this.el_=e.parentNode:n||(i=this.el_=super.createEl("div"));const s=Kn(e);if(n){for(i=this.el_=e,e=this.tag=we.createElement("video");i.children.length;)e.appendChild(i.firstChild);du(i,"video-js")||Ds(i,"video-js"),i.appendChild(e),r=this.playerElIngest_=i,Object.keys(i).forEach(u=>{try{e[u]=i[u]}catch{}})}e.setAttribute("tabindex","-1"),s.tabindex="-1",en&&Jd&&(e.setAttribute("role","application"),s.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach(function(u){n&&u==="class"||i.setAttribute(u,s[u]),n&&e.setAttribute(u,s[u])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=i.player=this,this.addClass("vjs-paused");const a=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(u=>BE[u]).map(u=>"vjs-device-"+u.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...a),q.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=t2("vjs-styles-dimensions");const u=is(".vjs-styles-defaults"),l=is("head");l.insertBefore(this.styleEl_,u?u.nextSibling:l.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const o=e.getElementsByTagName("a");for(let u=0;u<o.length;u++){const l=o.item(u);Ds(l,"vjs-hidden"),l.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!r&&e.parentNode.insertBefore(i,e),um(e,i),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=i,i}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){et.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,i){const r=e+"_";if(i===void 0)return this[r]||0;if(i===""||i==="auto"){this[r]=void 0,this.updateStyleEl_();return}const n=parseFloat(i);if(isNaN(n)){et.error(`Improper value "${i}" supplied for for ${e}`);return}this[r]=n,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,bn(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),HN(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(q.VIDEOJS_NO_DYNAMIC_STYLE===!0){const o=typeof this.width_=="number"?this.width_:this.options_.width,u=typeof this.height_=="number"?this.height_:this.options_.height,l=this.tech_&&this.tech_.el();l&&(o>=0&&(l.width=o),u>=0&&(l.height=u));return}let e,i,r,n;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?r=this.aspectRatio_:this.videoWidth()>0?r=this.videoWidth()+":"+this.videoHeight():r="16:9";const s=r.split(":"),a=s[1]/s[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/a:e=this.videoWidth()||300,this.height_!==void 0?i=this.height_:i=e*a,/^[^a-zA-Z]/.test(this.id())?n="dimensions-"+this.id():n=this.id()+"-dimensions",this.addClass(n),i2(this.styleEl_,`
      .${n} {
        width: ${e}px;
        height: ${i}px;
      }

      .${n}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${a*100}%;
      }
    `)}loadTech_(e,i){this.tech_&&this.unloadTech_();const r=kt(e),n=e.charAt(0).toLowerCase()+e.slice(1);r!=="Html5"&&this.tag&&(Ke.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;let s=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(s=!1);const a={source:i,autoplay:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${n}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Si.names.forEach(u=>{const l=Si[u];a[l.getterName]=this[l.privateName]}),Object.assign(a,this.options_[r]),Object.assign(a,this.options_[n]),Object.assign(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),i&&i.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);const o=Ke.getTech(e);if(!o)throw new Error(`No Tech named '${r}' exists! '${r}' should be registered using videojs.registerTech()'`);this.tech_=new o(a),this.tech_.ready(_t(this,this.handleTechReady_),!0),e_.jsonToTextTracks(this.textTracksJson_||[],this.tech_),z2.forEach(u=>{this.on(this.tech_,u,l=>this[`handleTech${kt(u)}_`](l))}),Object.keys(Af).forEach(u=>{this.on(this.tech_,u,l=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${Af[u]}_`].bind(this),event:l});return}this[`handleTech${Af[u]}_`](l)})}),this.on(this.tech_,"loadstart",u=>this.handleTechLoadStart_(u)),this.on(this.tech_,"sourceset",u=>this.handleTechSourceset_(u)),this.on(this.tech_,"waiting",u=>this.handleTechWaiting_(u)),this.on(this.tech_,"ended",u=>this.handleTechEnded_(u)),this.on(this.tech_,"seeking",u=>this.handleTechSeeking_(u)),this.on(this.tech_,"play",u=>this.handleTechPlay_(u)),this.on(this.tech_,"pause",u=>this.handleTechPause_(u)),this.on(this.tech_,"durationchange",u=>this.handleTechDurationChange_(u)),this.on(this.tech_,"fullscreenchange",(u,l)=>this.handleTechFullscreenChange_(u,l)),this.on(this.tech_,"fullscreenerror",(u,l)=>this.handleTechFullscreenError_(u,l)),this.on(this.tech_,"enterpictureinpicture",u=>this.handleTechEnterPictureInPicture_(u)),this.on(this.tech_,"leavepictureinpicture",u=>this.handleTechLeavePictureInPicture_(u)),this.on(this.tech_,"error",u=>this.handleTechError_(u)),this.on(this.tech_,"posterchange",u=>this.handleTechPosterChange_(u)),this.on(this.tech_,"textdata",u=>this.handleTechTextData_(u)),this.on(this.tech_,"ratechange",u=>this.handleTechRateChange_(u)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(r!=="Html5"||!this.tag)&&um(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){Si.names.forEach(e=>{const i=Si[e];this[i.privateName]=this[i.getterName]()}),this.textTracksJson_=e_.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&et.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}version(){return{"video.js":am}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const i=()=>{const n=this.muted();this.muted(!0);const s=()=>{this.muted(n)};this.playTerminatedQueue_.push(s);const a=this.play();if(fu(a))return a.catch(o=>{throw s(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${o||""}`)})};let r;if(e==="any"&&!this.muted()?(r=this.play(),fu(r)&&(r=r.catch(i))):e==="muted"&&!this.muted()?r=i():r=this.play(),!!fu(r))return r.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let i=e,r="";typeof i!="string"&&(i=e.src,r=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],i&&!r&&(r=mF(this,i)),this.cache_.source=ft({},e,{src:i,type:r});const n=this.cache_.sources.filter(u=>u.src&&u.src===i),s=[],a=this.$$("source"),o=[];for(let u=0;u<a.length;u++){const l=Kn(a[u]);s.push(l),l.src&&l.src===i&&o.push(l.src)}o.length&&!n.length?this.cache_.sources=s:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=i}handleTechSourceset_(e){if(!this.changingSrc_){let i=s=>this.updateSourceCaches_(s);const r=this.currentSource().src,n=e.src;r&&!/^blob:/.test(r)&&/^blob:/.test(n)&&(!this.lastSource_||this.lastSource_.tech!==n&&this.lastSource_.player!==r)&&(i=()=>{}),i(n),e.src||this.tech_.any(["sourceset","loadstart"],s=>{if(s.type==="sourceset")return;const a=this.techGet_("currentSrc");this.lastSource_.tech=a,this.updateSourceCaches_(a)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),i=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",i))};this.on("timeupdate",i)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?Vr(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),r=>r.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isInPictureInPicture()&&!we.pictureInPictureElement?this.exitPictureInPicture():this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const i=e.target.player;if(i&&i!==this)return;const r=this.el();let n=we[this.fsApi_.fullscreenElement]===r;!n&&r.matches&&(n=r.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(n)}handleTechFullscreenChange_(e,i){i&&(i.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(i.isFullscreen))}handleTechFullscreenError_(e,i){this.trigger("fullscreenerror",i)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,i){this.ready(function(){if(e in cF)return uF(this.middleware_,this.tech_,e,i);if(e in s_)return n_(this.middleware_,this.tech_,e,i);try{this.tech_&&this.tech_[e](i)}catch(r){throw et(r),r}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in lF)return oF(this.middleware_,this.tech_,e);if(e in s_)return n_(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(i){throw this.tech_[e]===void 0?(et(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,i),i):i.name==="TypeError"?(et(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,i),this.tech_.isReady_=!1,i):(et(i),i)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=Vr){this.playCallbacks_.push(e);const i=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),r=!!(eh||ci);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!i){this.waitToPlay_=a=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!i&&r&&this.load();return}const n=this.techGet_("play");r&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),n===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(n)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(i){i()})}runPlayCallbacks_(e){const i=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],i.forEach(function(r){r(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||Tr(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=Tr(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=Tr(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return d2(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),i=this.duration();let r=e.end(e.length-1);return r>i&&(r=i),r}volume(e){let i;if(e!==void 0){i=Math.max(0,Math.min(1,e)),this.cache_.volume=i,this.techCall_("setVolume",i),i>0&&this.lastVolume_(i);return}return i=parseFloat(this.techGet_("volume")),isNaN(i)?1:i}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const i=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==i&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const i=this;return new Promise((r,n)=>{function s(){i.off("fullscreenerror",o),i.off("fullscreenchange",a)}function a(){s(),r()}function o(l,c){s(),n(c)}i.one("fullscreenchange",a),i.one("fullscreenerror",o);const u=i.requestFullscreenHelper_(e);u&&(u.then(s,s),u.then(r,n))})}requestFullscreenHelper_(e){let i;if(this.fsApi_.prefixed||(i=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(i=e)),this.fsApi_.requestFullscreen){const r=this.el_[this.fsApi_.requestFullscreen](i);return r&&r.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),r}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((i,r)=>{function n(){e.off("fullscreenerror",a),e.off("fullscreenchange",s)}function s(){n(),i()}function a(u,l){n(),r(l)}e.one("fullscreenchange",s),e.one("fullscreenerror",a);const o=e.exitFullscreenHelper_();o&&(o.then(n,n),o.then(i,r))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=we[this.fsApi_.exitFullscreen]();return e&&Vr(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=we.documentElement.style.overflow,Hi(we,"keydown",this.boundFullWindowOnEscKey_),we.documentElement.style.overflow="hidden",Ds(we.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){e.key==="Escape"&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,di(we,"keydown",this.boundFullWindowOnEscKey_),we.documentElement.style.overflow=this.docOrigOverflow,th(we.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&q.documentPictureInPicture){const e=we.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(qe("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),q.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(i=>(JE(i),this.el_.parentNode.insertBefore(e,this.el_),i.document.body.appendChild(this.el_),i.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:i}),i.addEventListener("pagehide",r=>{const n=r.target.querySelector(".video-js");e.parentNode.replaceChild(n,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),i))}return"pictureInPictureEnabled"in we&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(q.documentPictureInPicture&&q.documentPictureInPicture.window)return q.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in we)return we.exitPictureInPicture()}handleKeyDown(e){const{userActions:i}=this.options_;!i||!i.hotkeys||(n=>{const s=n.tagName.toLowerCase();if(n.isContentEditable)return!0;const a=["button","checkbox","hidden","radio","reset","submit"];return s==="input"?a.indexOf(n.type)===-1:["textarea"].indexOf(s)!==-1})(this.el_.ownerDocument.activeElement)||(typeof i.hotkeys=="function"?i.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const i=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:r=a=>e.key.toLowerCase()==="f",muteKey:n=a=>e.key.toLowerCase()==="m",playPauseKey:s=a=>e.key.toLowerCase()==="k"||e.key.toLowerCase()===" "}=i;if(r.call(this,e)){e.preventDefault(),e.stopPropagation();const a=de.getComponent("FullscreenToggle");we[this.fsApi_.fullscreenEnabled]!==!1&&a.prototype.handleClick.call(this,e)}else n.call(this,e)?(e.preventDefault(),e.stopPropagation(),de.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),de.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let i;for(let r=0,n=this.options_.techOrder;r<n.length;r++){const s=n[r];let a=Ke.getTech(s);if(a||(a=de.getComponent(s)),!a){et.error(`The "${s}" tech is undefined. Skipped browser support check for that tech.`);continue}if(a.isSupported()&&(i=a.canPlayType(e),i))return i}return""}selectSource(e){const i=this.options_.techOrder.map(o=>[o,Ke.getTech(o)]).filter(([o,u])=>u?u.isSupported():(et.error(`The "${o}" tech is undefined. Skipped browser support check for that tech.`),!1)),r=function(o,u,l){let c;return o.some(f=>u.some(m=>{if(c=l(f,m),c)return!0})),c};let n;const s=o=>(u,l)=>o(l,u),a=([o,u],l)=>{if(u.canPlaySource(l,this.options_[o.toLowerCase()]))return{source:l,tech:o}};return this.options_.sourceOrder?n=r(e,i,s(a)):n=r(i,e,a),n||!1}handleSrc_(e,i){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const r=g2(e);if(!r.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,i||(this.cache_.sources=r),this.updateSourceCaches_(r[0]),sF(this,r[0],(n,s)=>{if(this.middleware_=s,i||(this.cache_.sources=r),this.updateSourceCaches_(n),this.src_(n)){if(r.length>1)return this.handleSrc_(r.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}aF(s,this.tech_)}),r.length>1){const n=()=>{this.error(null),this.handleSrc_(r.slice(1),!0)},s=()=>{this.off("error",n)};this.one("error",n),this.one("playing",s),this.resetRetryOnError_=()=>{this.off("error",n),this.off("playing",s)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const i=this.selectSource([e]);return i?o2(i.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}addSourceElement(e,i){return this.tech_?this.tech_.addSourceElement(e,i):!1}removeSourceElement(e){return this.tech_?this.tech_.removeSourceElement(e):!1}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();Vr(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),bn(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:i,progressControl:r,remainingTimeDisplay:n}=this.controlBar||{},{seekBar:s}=r||{};e&&e.updateContent(),i&&i.updateContent(),n&&n.updateContent(),s&&(s.update(),s.loadProgressBar&&s.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),i=[];return Object.keys(e).length!==0&&i.push(e),this.cache_.sources||i}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let i;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),i=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,i=typeof i>"u"?this.options_.autoplay:i,this.tech_&&this.techCall_("setAutoplay",i)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(ts("beforeerror").forEach(i=>{const r=i(this,e);if(!(Zr(r)&&!Array.isArray(r)||typeof r=="string"||typeof r=="number"||r===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=r}),this.options_.suppressNotSupportedError&&e&&e.code===4){const i=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],i),this.one("loadstart",function(){this.off(["click","touchstart"],i)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new It(e),this.addClass("vjs-error"),et.error(`(CODE:${this.error_.code} ${It.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),ts("error").forEach(i=>i(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(i){i.stopPropagation(),i.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,i,r;const n=_t(this,this.reportUserActivity),s=function(f){(f.screenX!==i||f.screenY!==r)&&(i=f.screenX,r=f.screenY,n())},a=function(){n(),this.clearInterval(e),e=this.setInterval(n,250)},o=function(f){n(),this.clearInterval(e)};this.on("mousedown",a),this.on("mousemove",s),this.on("mouseup",o),this.on("mouseleave",o);const u=this.getChild("controlBar");u&&!ci&&!xr&&(u.on("mouseenter",function(f){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),u.on("mouseleave",function(f){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",n),this.on("keyup",n);let l;const c=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(l);const f=this.options_.inactivityTimeout;f<=0||(l=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},f))};this.setInterval(c,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}updatePlayerHeightOnAudioOnlyMode_(){const e=this.getChild("ControlBar");!e||this.audioOnlyCache_.controlBarHeight===e.currentHeight()||(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),i=this.getChild("ControlBar"),r=i&&i.currentHeight();e.forEach(n=>{n!==i&&n.el_&&!n.hasClass("vjs-hidden")&&(n.hide(),this.audioOnlyCache_.hiddenChildren.push(n))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=r,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(r),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const i=[];return this.isInPictureInPicture()&&i.push(this.exitPictureInPicture()),this.isFullscreen()&&i.push(this.exitFullscreen()),this.audioPosterMode()&&i.push(this.audioPosterMode(!1)),Promise.all(i).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,i,r){if(this.tech_)return this.tech_.addTextTrack(e,i,r)}addRemoteTextTrack(e,i){if(this.tech_)return this.tech_.addRemoteTextTrack(e,i)}removeRemoteTextTrack(e={}){let{track:i}=e;if(i||(i=e),this.tech_)return this.tech_.removeRemoteTextTrack(i)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),bn(this)&&this.trigger("languagechange"))}languages(){return ft(Et.prototype.options_.languages,this.languages_)}toJSON(){const e=ft(this.options_),i=e.tracks;e.tracks=[];for(let r=0;r<i.length;r++){let n=i[r];n=ft(n),n.player=void 0,e.tracks[r]=n}return e}createModal(e,i){i=i||{},i.content=e||"";const r=new ro(this,i);return this.addChild(r),r.on("dispose",()=>{this.removeChild(r)}),r.open(),r}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),i=this.currentWidth();for(let r=0;r<gm.length;r++){const n=gm[r],s=this.breakpoints_[n];if(i<=s){if(e===n)return;e&&this.removeClass(Fc[e]),this.addClass(Fc[n]),this.breakpoint_=n;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},GF,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const i=this.responsive_;if(e!==i)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return Fc[this.breakpoint_]||""}loadMedia(e,i){if(!e||typeof e!="object")return;const r=this.crossOrigin();this.reset(),this.cache_.media=ft(e);const{artist:n,artwork:s,description:a,poster:o,src:u,textTracks:l,title:c}=this.cache_.media;!s&&o&&(this.cache_.media.artwork=[{src:o,type:fd(o)}]),r&&this.crossOrigin(r),u&&this.src(u),o&&this.poster(o),Array.isArray(l)&&l.forEach(f=>this.addRemoteTextTrack(f,!1)),this.titleBar&&this.titleBar.update({title:c,description:a||n||""}),this.ready(i)}getMedia(){if(!this.cache_.media){const e=this.poster(),i=this.currentSources(),r=Array.prototype.map.call(this.remoteTextTracks(),s=>({kind:s.kind,label:s.label,language:s.language,src:s.src})),n={src:i,textTracks:r};return e&&(n.poster=e,n.artwork=[{src:n.poster,type:fd(n.poster)}]),n}return ft(this.cache_.media)}static getTagSettings(e){const i={sources:[],tracks:[]},r=Kn(e),n=r["data-setup"];if(du(e,"vjs-fill")&&(r.fill=!0),du(e,"vjs-fluid")&&(r.fluid=!0),n!==null)try{Object.assign(r,JSON.parse(n||"{}"))}catch(s){et.error("data-setup",s)}if(Object.assign(i,r),e.hasChildNodes()){const s=e.childNodes;for(let a=0,o=s.length;a<o;a++){const u=s[a],l=u.nodeName.toLowerCase();l==="source"?i.sources.push(Kn(u)):l==="track"&&i.tracks.push(Kn(u))}}return i}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(i=>typeof i=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}Si.names.forEach(function(t){const e=Si[t];Et.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});Et.prototype.crossorigin=Et.prototype.crossOrigin;Et.players={};const jo=q.navigator;Et.prototype.options_={techOrder:Ke.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:jo&&(jo.languages&&jo.languages[0]||jo.userLanguage||jo.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1,disableSeekWhileScrubbingOnMobile:!1};z2.forEach(function(t){Et.prototype[`handleTech${kt(t)}_`]=function(){return this.trigger(t)}});de.registerComponent("Player",Et);const pd="plugin",Ta="activePlugins_",oa={},md=t=>oa.hasOwnProperty(t),Mc=t=>md(t)?oa[t]:void 0,G2=(t,e)=>{t[Ta]=t[Ta]||{},t[Ta][e]=!0},gd=(t,e,i)=>{const r=(i?"before":"")+"pluginsetup";t.trigger(r,e),t.trigger(r+":"+e.name,e)},KF=function(t,e){const i=function(){gd(this,{name:t,plugin:e,instance:null},!0);const r=e.apply(this,arguments);return G2(this,t),gd(this,{name:t,plugin:e,instance:r}),r};return Object.keys(e).forEach(function(r){i[r]=e[r]}),i},S_=(t,e)=>(e.prototype.name=t,function(...i){gd(this,{name:t,plugin:e,instance:null},!0);const r=new e(this,...i);return this[t]=()=>r,gd(this,r.getEventHash()),r});class ki{constructor(e){if(this.constructor===ki)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),Rg(this),delete this.trigger,a2(this,this.constructor.defaultState),G2(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,i={}){return io(this.eventBusEl_,e,this.getEventHash(i))}handleStateChanged(e){}dispose(){const{name:e,player:i}=this;this.trigger("dispose"),this.off(),i.off("dispose",this.dispose),i[Ta][e]=!1,this.player=this.state=null,i[e]=S_(e,oa[e])}static isBasic(e){const i=typeof e=="string"?Mc(e):e;return typeof i=="function"&&!ki.prototype.isPrototypeOf(i.prototype)}static registerPlugin(e,i){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(md(e))et.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(Et.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof i!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof i}.`);return oa[e]=i,e!==pd&&(ki.isBasic(i)?Et.prototype[e]=KF(e,i):Et.prototype[e]=S_(e,i)),i}static deregisterPlugin(e){if(e===pd)throw new Error("Cannot de-register base plugin.");md(e)&&(delete oa[e],delete Et.prototype[e])}static getPlugins(e=Object.keys(oa)){let i;return e.forEach(r=>{const n=Mc(r);n&&(i=i||{},i[r]=n)}),i}static getPluginVersion(e){const i=Mc(e);return i&&i.VERSION||""}}ki.getPlugin=Mc;ki.BASE_PLUGIN_NAME=pd;ki.registerPlugin(pd,ki);Et.prototype.usingPlugin=function(t){return!!this[Ta]&&this[Ta][t]===!0};Et.prototype.hasPlugin=function(t){return!!md(t)};function QF(t,e){let i=!1;return function(...r){return i||et.warn(t),i=!0,e.apply(this,r)}}function wr(t,e,i,r){return QF(`${e} is deprecated and will be removed in ${t}.0; please use ${i} instead.`,r)}var XF={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};const K2=t=>t.indexOf("#")===0?t.slice(1):t;function se(t,e,i){let r=se.getPlayer(t);if(r)return e&&et.warn(`Player "${t}" is already initialised. Options will not be applied.`),i&&r.ready(i),r;const n=typeof t=="string"?is("#"+K2(t)):t;if(!to(n))throw new TypeError("The element or ID supplied is not valid. (videojs)");const a=("getRootNode"in n?n.getRootNode()instanceof q.ShadowRoot:!1)?n.getRootNode():n.ownerDocument.body;(!n.ownerDocument.defaultView||!a.contains(n))&&et.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player")?n.parentNode:n).cloneNode(!0)),ts("beforesetup").forEach(u=>{const l=u(n,ft(e));if(!Zr(l)||Array.isArray(l)){et.error("please return an object in beforesetup hooks");return}e=ft(e,l)});const o=de.getComponent("Player");return r=new o(n,e,i),ts("setup").forEach(u=>u(r)),r}se.hooks_=yn;se.hooks=ts;se.hook=PN;se.hookOnce=ON;se.removeHook=DE;if(q.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&eo()){let t=is(".vjs-styles-defaults");if(!t){t=t2("vjs-styles-defaults");const e=is("head");e&&e.insertBefore(t,e.firstChild),i2(t,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}cm(1,se);se.VERSION=am;se.options=Et.prototype.options_;se.getPlayers=()=>Et.players;se.getPlayer=t=>{const e=Et.players;let i;if(typeof t=="string"){const r=K2(t),n=e[r];if(n)return n;i=is("#"+r)}else i=t;if(to(i)){const{player:r,playerId:n}=i;if(r||e[n])return r||e[n]}};se.getAllPlayers=()=>Object.keys(Et.players).map(t=>Et.players[t]).filter(Boolean);se.players=Et.players;se.getComponent=de.getComponent;se.registerComponent=(t,e)=>(Ke.isTech(e)&&et.warn(`The ${t} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),de.registerComponent.call(de,t,e));se.getTech=Ke.getTech;se.registerTech=Ke.registerTech;se.use=nF;Object.defineProperty(se,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(se.middleware,"TERMINATOR",{value:hd,writeable:!1,enumerable:!0});se.browser=BE;se.obj=IN;se.mergeOptions=wr(9,"videojs.mergeOptions","videojs.obj.merge",ft);se.defineLazyProperty=wr(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",Xd);se.bind=wr(9,"videojs.bind","native Function.prototype.bind",_t);se.registerPlugin=ki.registerPlugin;se.deregisterPlugin=ki.deregisterPlugin;se.plugin=(t,e)=>(et.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),ki.registerPlugin(t,e));se.getPlugins=ki.getPlugins;se.getPlugin=ki.getPlugin;se.getPluginVersion=ki.getPluginVersion;se.addLanguage=function(t,e){return t=(""+t).toLowerCase(),se.options.languages=ft(se.options.languages,{[t]:e}),se.options.languages[t]};se.log=et;se.createLogger=IE;se.time=GN;se.createTimeRange=wr(9,"videojs.createTimeRange","videojs.time.createTimeRanges",Tr);se.createTimeRanges=wr(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",Tr);se.formatTime=wr(9,"videojs.formatTime","videojs.time.formatTime",Fs);se.setFormatTime=wr(9,"videojs.setFormatTime","videojs.time.setFormatTime",l2);se.resetFormatTime=wr(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",c2);se.parseUrl=wr(9,"videojs.parseUrl","videojs.url.parseUrl",kg);se.isCrossOrigin=wr(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",uh);se.EventTarget=qi;se.any=Og;se.on=Hi;se.one=ah;se.off=di;se.trigger=io;se.xhr=gE;se.TextTrack=Tl;se.AudioTrack=p2;se.VideoTrack=m2;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{se[t]=function(){return et.warn(`videojs.${t}() is deprecated; use videojs.dom.${t}() instead`),ZE[t].apply(null,arguments)}});se.computedStyle=wr(9,"videojs.computedStyle","videojs.dom.computedStyle",Ba);se.dom=ZE;se.fn=UN;se.num=wF;se.str=WN;se.url=iF;se.Error=XF;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class YF{constructor(e){let i=this;return i.id=e.id,i.label=i.id,i.width=e.width,i.height=e.height,i.bitrate=e.bandwidth,i.frameRate=e.frameRate,i.enabled_=e.enabled,Object.defineProperty(i,"enabled",{get(){return i.enabled_()},set(r){i.enabled_(r)}}),i}}class yd extends se.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let i=this.getQualityLevelById(e.id);if(i)return i;const r=this.levels_.length;return i=new YF(e),""+r in this||Object.defineProperty(this,r,{get(){return this.levels_[r]}}),this.levels_.push(i),this.trigger({qualityLevel:i,type:"addqualitylevel"}),i}removeQualityLevel(e){let i=null;for(let r=0,n=this.length;r<n;r++)if(this[r]===e){i=this.levels_.splice(r,1)[0],this.selectedIndex_===r?this.selectedIndex_=-1:this.selectedIndex_>r&&this.selectedIndex_--;break}return i&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),i}getQualityLevelById(e){for(let i=0,r=this.length;i<r;i++){const n=this[i];if(n.id===e)return n}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}yd.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in yd.prototype.allowedEvents_)yd.prototype["on"+t]=null;var Q2="4.1.0";const JF=function(t,e){const i=t.qualityLevels,r=new yd,n=function(){r.dispose(),t.qualityLevels=i,t.off("dispose",n)};return t.on("dispose",n),t.qualityLevels=()=>r,t.qualityLevels.VERSION=Q2,r},X2=function(t){return JF(this,se.obj.merge({},t))};se.registerPlugin("qualityLevels",X2);X2.VERSION=Q2;/*! @name @videojs/http-streaming @version 3.17.0 @license Apache-2.0 */const Ri=zd,vd=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,ur=t=>se.log.debug?se.log.debug.bind(se,"VHS:",`${t} >`):function(){};function ct(...t){const e=se.obj||se;return(e.merge||e.mergeOptions).apply(e,t)}function Yt(...t){const e=se.time||se;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}function ZF(t){if(t.length===0)return"Buffered Ranges are empty";let e=`Buffered Ranges: 
`;for(let i=0;i<t.length;i++){const r=t.start(i),n=t.end(i);e+=`${r} --> ${n}. Duration (${n-r})
`}return e}const Wr=1/30,zr=Wr*3,Y2=function(t,e){const i=[];let r;if(t&&t.length)for(r=0;r<t.length;r++)e(t.start(r),t.end(r))&&i.push([t.start(r),t.end(r)]);return Yt(i)},ua=function(t,e){return Y2(t,function(i,r){return i-zr<=e&&r+zr>=e})},hc=function(t,e){return Y2(t,function(i){return i-Wr>=e})},e4=function(t){if(t.length<2)return Yt();const e=[];for(let i=1;i<t.length;i++){const r=t.end(i-1),n=t.start(i);e.push([r,n])}return Yt(e)},t4=function(t,e){let i=null,r=null,n=0;const s=[],a=[];if(!t||!t.length||!e||!e.length)return Yt();let o=t.length;for(;o--;)s.push({time:t.start(o),type:"start"}),s.push({time:t.end(o),type:"end"});for(o=e.length;o--;)s.push({time:e.start(o),type:"start"}),s.push({time:e.end(o),type:"end"});for(s.sort(function(u,l){return u.time-l.time}),o=0;o<s.length;o++)s[o].type==="start"?(n++,n===2&&(i=s[o].time)):s[o].type==="end"&&(n--,n===1&&(r=s[o].time)),i!==null&&r!==null&&(a.push([i,r]),i=null,r=null);return Yt(a)},J2=t=>{const e=[];if(!t||!t.length)return"";for(let i=0;i<t.length;i++)e.push(t.start(i)+" => "+t.end(i));return e.join(", ")},i4=function(t,e,i=1){return((t.length?t.end(t.length-1):0)-e)/i},ws=t=>{const e=[];for(let i=0;i<t.length;i++)e.push({start:t.start(i),end:t.end(i)});return e},r4=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let i=0;i<t.length;i++)if(t.start(i)!==e.start(i)||t.end(i)!==e.end(i))return!0;return!1},Pf=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},Xg=function(t,e){let i=0;if(!t||!t.length)return i;for(let r=0;r<t.length;r++){const n=t.start(r),s=t.end(r);if(!(e>s)){if(e>n&&e<=s){i+=s-e;continue}i+=s-n}}return i},Yg=(t,e)=>{if(!e.preload)return e.duration;let i=0;return(e.parts||[]).forEach(function(r){i+=r.duration}),(e.preloadHints||[]).forEach(function(r){r.type==="PART"&&(i+=t.partTargetDuration)}),i},ym=t=>(t.segments||[]).reduce((e,i,r)=>(i.parts?i.parts.forEach(function(n,s){e.push({duration:n.duration,segmentIndex:r,partIndex:s,part:n,segment:i})}):e.push({duration:i.duration,segmentIndex:r,partIndex:null,segment:i,part:null}),e),[]),Z2=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},ex=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:i}=t;let r=(i||[]).reduce((n,s)=>n+(s.type==="PART"?1:0),0);return r+=e&&e.length?e.length:0,r},tx=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const i=Z2(e).length>0;return i&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:i&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},n4=function(t,e){let i=0,r=e-t.mediaSequence,n=t.segments[r];if(n){if(typeof n.start<"u")return{result:n.start,precise:!0};if(typeof n.end<"u")return{result:n.end-n.duration,precise:!0}}for(;r--;){if(n=t.segments[r],typeof n.end<"u")return{result:i+n.end,precise:!0};if(i+=Yg(t,n),typeof n.start<"u")return{result:i+n.start,precise:!0}}return{result:i,precise:!1}},s4=function(t,e){let i=0,r,n=e-t.mediaSequence;for(;n<t.segments.length;n++){if(r=t.segments[n],typeof r.start<"u")return{result:r.start-i,precise:!0};if(i+=Yg(t,r),typeof r.end<"u")return{result:r.end-i,precise:!0}}return{result:-1,precise:!1}},ix=function(t,e,i){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const r=n4(t,e);if(r.precise)return r.result;const n=s4(t,e);return n.precise?n.result:r.result+i},rx=function(t,e,i){if(!t)return 0;if(typeof i!="number"&&(i=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return q.Infinity}return ix(t,e,i)},pu=function({defaultDuration:t,durationList:e,startIndex:i,endIndex:r}){let n=0;if(i>r&&([i,r]=[r,i]),i<0){for(let s=i;s<Math.min(0,r);s++)n+=t;i=0}for(let s=i;s<r;s++)n+=e[s].duration;return n},nx=function(t,e,i,r){if(!t||!t.segments)return null;if(t.endList)return rx(t);if(e===null)return null;e=e||0;let n=ix(t,t.mediaSequence+t.segments.length,e);return i&&(r=typeof r=="number"?r:tx(null,t),n-=r),Math.max(0,n)},a4=function(t,e,i){const n=e||0;let s=nx(t,e,!0,i);return s===null?Yt():(s<n&&(s=n),Yt(n,s))},o4=function({playlist:t,currentTime:e,startingSegmentIndex:i,startingPartIndex:r,startTime:n,exactManifestTimings:s}){let a=e-n;const o=ym(t);let u=0;for(let l=0;l<o.length;l++){const c=o[l];if(i===c.segmentIndex&&!(typeof r=="number"&&typeof c.partIndex=="number"&&r!==c.partIndex)){u=l;break}}if(a<0){if(u>0)for(let l=u-1;l>=0;l--){const c=o[l];if(a+=c.duration,s){if(a<0)continue}else if(a+Wr<=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:n-pu({defaultDuration:t.targetDuration,durationList:o,startIndex:u,endIndex:l})}}return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e}}if(u<0){for(let l=u;l<0;l++)if(a-=t.targetDuration,a<0)return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e};u=0}for(let l=u;l<o.length;l++){const c=o[l];a-=c.duration;const f=c.duration>Wr,m=a===0,h=f&&a+Wr>=0;if(!((m||h)&&l!==o.length-1)){if(s){if(a>0)continue}else if(a-Wr>=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:n+pu({defaultDuration:t.targetDuration,durationList:o,startIndex:u,endIndex:l})}}}return{segmentIndex:o[o.length-1].segmentIndex,partIndex:o[o.length-1].partIndex,startTime:e}},sx=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},Jg=function(t){return t.excludeUntil&&t.excludeUntil===1/0},hh=function(t){const e=sx(t);return!t.disabled&&!e},u4=function(t){return t.disabled},l4=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},ax=function(t,e){return e.attributes&&e.attributes[t]},c4=function(t,e,i,r=0){return ax("BANDWIDTH",i)?(t*i.attributes.BANDWIDTH-r*8)/e:NaN},vm=(t,e)=>{if(t.playlists.length===1)return!0;const i=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(r=>hh(r)?(r.attributes.BANDWIDTH||0)<i:!1).length===0},Zg=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),T_=function(t,e){const i=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let r=!1;for(const n in i){for(const s in i[n])if(r=e(i[n][s]),r)break;if(r)break}return!!r},Cl=t=>{if(!t||!t.playlists||!t.playlists.length)return T_(t,i=>i.playlists&&i.playlists.length||i.uri);for(let e=0;e<t.playlists.length;e++){const i=t.playlists[e],r=i.attributes&&i.attributes.CODECS;if(!(r&&r.split(",").every(s=>_E(s))||T_(t,s=>Zg(i,s))))return!1}return!0};var Di={liveEdgeDelay:tx,duration:rx,seekable:a4,getMediaInfoForTime:o4,isEnabled:hh,isDisabled:u4,isExcluded:sx,isIncompatible:Jg,playlistEnd:nx,isAes:l4,hasAttribute:ax,estimateSegmentRequestTime:c4,isLowestEnabledRendition:vm,isAudioOnly:Cl,playlistMatch:Zg,segmentDurationWithParts:Yg};const{log:ox}=se,Ea=(t,e)=>`${t}-${e}`,ux=(t,e,i)=>`placeholder-uri-${t}-${e}-${i}`,d4=({onwarn:t,oninfo:e,manifestString:i,customTagParsers:r=[],customTagMappers:n=[],llhls:s})=>{const a=new XL;t&&a.on("warn",t),e&&a.on("info",e),r.forEach(l=>a.addParser(l)),n.forEach(l=>a.addTagMapper(l)),a.push(i),a.end();const o=a.manifest;if(s||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(l){o.hasOwnProperty(l)&&delete o[l]}),o.segments&&o.segments.forEach(function(l){["parts","preloadHints"].forEach(function(c){l.hasOwnProperty(c)&&delete l[c]})})),!o.targetDuration){let l=10;o.segments&&o.segments.length&&(l=o.segments.reduce((c,f)=>Math.max(c,f.duration),0)),t&&t({message:`manifest has no targetDuration defaulting to ${l}`}),o.targetDuration=l}const u=Z2(o);if(u.length&&!o.partTargetDuration){const l=u.reduce((c,f)=>Math.max(c,f.duration),0);t&&(t({message:`manifest has no partTargetDuration defaulting to ${l}`}),ox.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),o.partTargetDuration=l}return o},ao=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(i=>{if(t.mediaGroups[i])for(const r in t.mediaGroups[i])for(const n in t.mediaGroups[i][r]){const s=t.mediaGroups[i][r][n];e(s,i,r,n)}})},lx=({playlist:t,uri:e,id:i})=>{t.id=i,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},h4=t=>{let e=t.playlists.length;for(;e--;){const i=t.playlists[e];lx({playlist:i,id:Ea(e,i.uri)}),i.resolvedUri=Ri(t.uri,i.uri),t.playlists[i.id]=i,t.playlists[i.uri]=i,i.attributes.BANDWIDTH||ox.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},f4=t=>{ao(t,e=>{e.uri&&(e.resolvedUri=Ri(t.uri,e.uri))})},p4=(t,e)=>{const i=Ea(0,e),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:q.location.href,resolvedUri:q.location.href,playlists:[{uri:e,id:i,resolvedUri:e,attributes:{}}]};return r.playlists[i]=r.playlists[0],r.playlists[e]=r.playlists[0],r},cx=(t,e,i=ux)=>{t.uri=e;for(let n=0;n<t.playlists.length;n++)if(!t.playlists[n].uri){const s=`placeholder-uri-${n}`;t.playlists[n].uri=s}const r=Cl(t);ao(t,(n,s,a,o)=>{if(!n.playlists||!n.playlists.length){if(r&&s==="AUDIO"&&!n.uri)for(let u=0;u<t.playlists.length;u++){const l=t.playlists[u];if(l.attributes&&l.attributes.AUDIO&&l.attributes.AUDIO===a)return}n.playlists=[Ot({},n)]}n.playlists.forEach(function(u,l){const c=i(s,a,o,u),f=Ea(l,c);u.uri?u.resolvedUri=u.resolvedUri||Ri(t.uri,u.uri):(u.uri=l===0?c:f,u.resolvedUri=u.uri),u.id=u.id||f,u.attributes=u.attributes||{},t.playlists[u.id]=u,t.playlists[u.uri]=u})}),h4(t),f4(t)};class E_{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[i]=e;i.programDateTime!==void 0&&(this.offset_=i.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[i]=e,r=i.startDate.getTime();this.trimProcessedDateRanges_(r),this.pendingDateRanges_=e.reduce((n,s)=>(n.set(s.id,s),n),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},i=[];this.pendingDateRanges_.forEach((r,n)=>{if(!this.processedDateRanges_.has(n)&&(r.startTime=r.startDate.getTime()/1e3-this.offset_,r.processDateRange=()=>this.processDateRange(r),i.push(r),!!r.class))if(e[r.class]){const s=e[r.class].push(r);r.classListIndex=s-1}else e[r.class]=[r],r.classListIndex=0});for(const r of i){const n=e[r.class]||[];r.endDate?r.endTime=r.endDate.getTime()/1e3-this.offset_:r.endOnNext&&n[r.classListIndex+1]?r.endTime=n[r.classListIndex+1].startTime:r.duration?r.endTime=r.startTime+r.duration:r.plannedDuration?r.endTime=r.startTime+r.plannedDuration:r.endTime=r.startTime}return i}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((r,n)=>{r.startDate.getTime()<e&&this.processedDateRanges_.delete(n)})}}const dx=22,Ls=({requestType:t,request:e,error:i,parseFailure:r})=>{const n=e.status<200||e.status>299,s=e.status>=400&&e.status<=499,a={uri:e.uri,requestType:t},o=n&&!s||r;if(i&&s)a.error=Ot({},i),a.errorType=se.Error.NetworkRequestFailed;else if(e.aborted)a.errorType=se.Error.NetworkRequestAborted;else if(e.timedout)a.erroType=se.Error.NetworkRequestTimeout;else if(o){const u=r?se.Error.NetworkBodyParserFailed:se.Error.NetworkBadStatus;a.errorType=u,a.status=e.status,a.headers=e.headers}return a},m4=ur("CodecUtils"),hx=function(t){const e=t.attributes||{};if(e.CODECS)return Mr(e.CODECS)},fx=(t,e)=>{const i=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&i.AUDIO&&t.mediaGroups.AUDIO[i.AUDIO]},g4=(t,e)=>{if(!fx(t,e))return!0;const i=e.attributes||{},r=t.mediaGroups.AUDIO[i.AUDIO];for(const n in r)if(!r[n].uri&&!r[n].playlists)return!0;return!1},Du=function(t){const e={};return t.forEach(({mediaType:i,type:r,details:n})=>{e[i]=e[i]||[],e[i].push(vE(`${r}${n}`))}),Object.keys(e).forEach(function(i){if(e[i].length>1){m4(`multiple ${i} codecs found as attributes: ${e[i].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[i]=null;return}e[i]=e[i][0]}),e},x_=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},mu=function(t,e){const i=e.attributes||{},r=Du(hx(e)||[]);if(fx(t,e)&&!r.audio&&!g4(t,e)){const n=Du(JL(t,i.AUDIO)||[]);n.audio&&(r.audio=n.audio)}return r},{EventTarget:y4}=se,v4=(t,e)=>{if(e.endList||!e.serverControl)return t;const i={};if(e.serverControl.canBlockReload){const{preloadSegment:r}=e;let n=e.mediaSequence+e.segments.length;if(r){const s=r.parts||[],a=ex(e)-1;a>-1&&a!==s.length-1&&(i._HLS_part=a),(a>-1||s.length)&&n--}i._HLS_msn=n}if(e.serverControl&&e.serverControl.canSkipUntil&&(i._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(i).length){const r=new q.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(n){i.hasOwnProperty(n)&&r.searchParams.set(n,i[n])}),t=r.toString()}return t},_4=(t,e)=>{if(!t)return e;const i=ct(t,e);if(t.preloadHints&&!e.preloadHints&&delete i.preloadHints,t.parts&&!e.parts)delete i.parts;else if(t.parts&&e.parts)for(let r=0;r<e.parts.length;r++)t.parts&&t.parts[r]&&(i.parts[r]=ct(t.parts[r],e.parts[r]));return!t.skipped&&e.skipped&&(i.skipped=!1),t.preload&&!e.preload&&(i.preload=!1),i},b4=(t,e,i)=>{const r=t.slice(),n=e.slice();i=i||0;const s=[];let a;for(let o=0;o<n.length;o++){const u=r[o+i],l=n[o];u?(a=u.map||a,s.push(_4(u,l))):(a&&!l.map&&(l.map=a),s.push(l))}return s},px=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=Ri(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=Ri(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=Ri(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=Ri(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(i=>{i.resolvedUri||(i.resolvedUri=Ri(e,i.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(i=>{i.resolvedUri||(i.resolvedUri=Ri(e,i.uri))})},mx=function(t){const e=t.segments||[],i=t.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints){for(let r=0;r<i.preloadHints.length;r++)if(i.preloadHints[r].type==="MAP")return e}i.duration=t.targetDuration,i.preload=!0,e.push(i)}return e},gx=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,_m=(t,e,i=gx)=>{const r=ct(t,{}),n=r.playlists[e.id];if(!n||i(n,e))return null;e.segments=mx(e);const s=ct(n,e);if(s.preloadSegment&&!e.preloadSegment&&delete s.preloadSegment,n.segments){if(e.skip){e.segments=e.segments||[];for(let a=0;a<e.skip.skippedSegments;a++)e.segments.unshift({skipped:!0})}s.segments=b4(n.segments,e.segments,e.mediaSequence-n.mediaSequence)}s.segments.forEach(a=>{px(a,s.resolvedUri)});for(let a=0;a<r.playlists.length;a++)r.playlists[a].id===e.id&&(r.playlists[a]=s);return r.playlists[e.id]=s,r.playlists[e.uri]=s,ao(t,(a,o,u,l)=>{if(a.playlists)for(let c=0;c<a.playlists.length;c++)e.id===a.playlists[c].id&&(a.playlists[c]=s)}),r},bm=(t,e)=>{const i=t.segments||[],r=i[i.length-1],n=r&&r.parts&&r.parts[r.parts.length-1],s=n&&n.duration||r&&r.duration;return e&&s?s*1e3:(t.partTargetDuration||t.targetDuration||10)*500},w_=(t,e,i)=>{if(!t)return;const r=[];return t.forEach(n=>{if(!n.attributes)return;const{BANDWIDTH:s,RESOLUTION:a,CODECS:o}=n.attributes;r.push({id:n.id,bandwidth:s,resolution:a,codecs:o})}),{type:e,isLive:i,renditions:r}};class la extends y4{constructor(e,i,r={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=ur("PlaylistLoader");const{withCredentials:n=!1}=r;this.src=e,this.vhs_=i,this.withCredentials=n,this.addDateRangesToTextTrack_=r.addDateRangesToTextTrack;const s=i.options_;this.customTagParsers=s&&s.customTagParsers||[],this.customTagMappers=s&&s.customTagMappers||[],this.llhls=s&&s.llhls,this.dateRangesStorage_=new E_,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const i=this.dateRangesStorage_.getDateRangesToProcess();!i.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(i)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let i=Ri(this.main.uri,e.uri);this.llhls&&(i=v4(i,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:i,withCredentials:this.withCredentials,requestType:"hls-playlist"},(r,n)=>{if(this.request){if(r)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,i,r){const{uri:n,id:s}=i;this.request=null,r&&(this.state=r),this.error={playlist:this.main.playlists[s],status:e.status,message:`HLS playlist request error at URL: ${n}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:Ls({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:i}){try{const r=d4({onwarn:({message:n})=>this.logger_(`m3u8-parser warn for ${e}: ${n}`),oninfo:({message:n})=>this.logger_(`m3u8-parser info for ${e}: ${n}`),manifestString:i,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls});return!r.playlists||!r.playlists.length||this.excludeAudioOnlyVariants(r.playlists),r}catch(r){this.error=r,this.error.metadata={errorType:se.Error.StreamingHlsPlaylistParserError,error:r}}}excludeAudioOnlyVariants(e){const i=r=>{const n=r.attributes||{},{width:s,height:a}=n.RESOLUTION||{};if(s&&a)return!0;const o=hx(r)||[];return!!Du(o).video};e.some(i)&&e.forEach(r=>{i(r)||(r.excludeUntil=1/0)})}haveMetadata({playlistString:e,playlistObject:i,url:r,id:n}){this.request=null,this.state="HAVE_METADATA";const s={playlistInfo:{type:"media",uri:r}};this.trigger({type:"playlistparsestart",metadata:s});const a=i||this.parseManifest_({url:r,manifestString:e});a.lastRequest=Date.now(),lx({playlist:a,uri:r,id:n});const o=_m(this.main,a);this.targetDuration=a.partTargetDuration||a.targetDuration,this.pendingMedia_=null,o?(this.main=o,this.media_=this.main.playlists[n]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(bm(this.media(),!!o)),s.parsedPlaylist=w_(this.main.playlists,s.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:s}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),q.clearTimeout(this.mediaUpdateTimeout),q.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new E_,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,i){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(q.clearTimeout(this.finalRenditionTimeout),i){const o=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=q.setTimeout(this.media.bind(this,e,!1),o);return}const r=this.state,n=!this.media_||e.id!==this.media_.id,s=this.main.playlists[e.id];if(s&&s.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,n&&(this.trigger("mediachanging"),r==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(bm(e,!0)),!n)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const a={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:a}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(o,u)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=vd(e.resolvedUri,u),o)return this.playlistRequestError(this.request,e,r);this.trigger({type:"playlistrequestcomplete",metadata:a}),this.haveMetadata({playlistString:u.responseText,url:e.uri,id:e.id}),r==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&(q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const i=this.media();if(e){const r=i?(i.partTargetDuration||i.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=q.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},r);return}if(!this.started){this.start();return}i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=q.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=q.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(i,r)=>{if(!this.request)return;if(this.request=null,i)return this.error={status:r.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:r.responseText,code:2,metadata:Ls({requestType:r.requestType,request:r,error:i})},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=vd(this.src,r),this.trigger({type:"playlistparsestart",metadata:e});const n=this.parseManifest_({manifestString:r.responseText,url:this.src});e.parsedPlaylist=w_(n.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(n)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,cx(this.main,this.srcUri()),e.playlists.forEach(r=>{r.segments=mx(r),r.segments.forEach(n=>{px(n,r.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const i=this.srcUri()||q.location.href;this.main=p4(e,i),this.haveMetadata({playlistObject:e,url:i,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,i){const r=this.main,n=e.ID;let s=r.playlists.length;for(;s--;){const a=r.playlists[s];if(a.attributes["PATHWAY-ID"]===n){const o=a.resolvedUri,u=a.id;if(i){const l=this.createCloneURI_(a.resolvedUri,e),c=Ea(n,l),f=this.createCloneAttributes_(n,a.attributes),m=this.createClonePlaylist_(a,c,e,f);r.playlists[s]=m,r.playlists[c]=m,r.playlists[l]=m}else r.playlists.splice(s,1);delete r.playlists[u],delete r.playlists[o]}}this.updateOrDeleteCloneMedia(e,i)}updateOrDeleteCloneMedia(e,i){const r=this.main,n=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!r.mediaGroups[s]||!r.mediaGroups[s][n])){for(const a in r.mediaGroups[s])if(a===n){for(const o in r.mediaGroups[s][a])r.mediaGroups[s][a][o].playlists.forEach((l,c)=>{const f=r.playlists[l.id],m=f.id,h=f.resolvedUri;delete r.playlists[m],delete r.playlists[h]});delete r.mediaGroups[s][a]}}}),i&&this.createClonedMediaGroups_(e)}addClonePathway(e,i={}){const r=this.main,n=r.playlists.length,s=this.createCloneURI_(i.resolvedUri,e),a=Ea(e.ID,s),o=this.createCloneAttributes_(e.ID,i.attributes),u=this.createClonePlaylist_(i,a,e,o);r.playlists[n]=u,r.playlists[a]=u,r.playlists[s]=u,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const i=e.ID,r=e["BASE-ID"],n=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!n.mediaGroups[s]||n.mediaGroups[s][i]))for(const a in n.mediaGroups[s]){if(a===r)n.mediaGroups[s][i]={};else continue;for(const o in n.mediaGroups[s][a]){const u=n.mediaGroups[s][a][o];n.mediaGroups[s][i][o]=Ot({},u);const l=n.mediaGroups[s][i][o],c=this.createCloneURI_(u.resolvedUri,e);l.resolvedUri=c,l.uri=c,l.playlists=[],u.playlists.forEach((f,m)=>{const h=n.playlists[f.id],g=ux(s,i,o),p=Ea(i,g);if(h&&!n.playlists[p]){const _=this.createClonePlaylist_(h,p,e),y=_.resolvedUri;n.playlists[p]=_,n.playlists[y]=_}l.playlists[m]=this.createClonePlaylist_(f,p,e)})}}})}createClonePlaylist_(e,i,r,n){const s=this.createCloneURI_(e.resolvedUri,r),a={resolvedUri:s,uri:s,id:i};return e.segments&&(a.segments=[]),n&&(a.attributes=n),ct(e,a)}createCloneURI_(e,i){const r=new URL(e);r.hostname=i["URI-REPLACEMENT"].HOST;const n=i["URI-REPLACEMENT"].PARAMS;for(const s of Object.keys(n))r.searchParams.set(s,n[s]);return r.href}createCloneAttributes_(e,i){const r={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(n=>{i[n]&&(r[n]=e)}),r}getKeyIdSet(e){if(e.contentProtection){const i=new Set;for(const r in e.contentProtection){const n=e.contentProtection[r].attributes.keyId;n&&i.add(n.toLowerCase())}return i}}}const Sm=function(t,e,i,r){const n=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&n&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=n.byteLength||n.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),i.headers&&(t.responseHeaders=i.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&i.statusCode!==200&&i.statusCode!==206&&i.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(n||t.responseText)))),r(e,t)},S4=(t,e)=>{if(!t||!t.size)return;let i=e;return t.forEach(r=>{i=r(i)}),i},T4=(t,e,i,r)=>{!t||!t.size||t.forEach(n=>{n(e,i,r)})},yx=function(){const t=function e(i,r){i=ct({timeout:45e3},i);const n=e.beforeRequest||se.Vhs.xhr.beforeRequest,s=e._requestCallbackSet||se.Vhs.xhr._requestCallbackSet||new Set,a=e._responseCallbackSet||se.Vhs.xhr._responseCallbackSet;n&&typeof n=="function"&&(se.log.warn("beforeRequest is deprecated, use onRequest instead."),s.add(n));const o=se.Vhs.xhr.original===!0?se.xhr:se.Vhs.xhr,u=S4(s,i);s.delete(n);const l=o(u||i,function(f,m){return T4(a,l,f,m),Sm(l,f,m,r)}),c=l.abort;return l.abort=function(){return l.aborted=!0,c.apply(l,arguments)},l.uri=i.uri,l.requestType=i.requestType,l.requestTime=Date.now(),l};return t.original=!0,t},E4=function(t){let e;const i=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=q.BigInt(t.offset)+q.BigInt(t.length)-q.BigInt(1):e=t.offset+t.length-1,"bytes="+i+"-"+e},Tm=function(t){const e={};return t.byterange&&(e.Range=E4(t.byterange)),e},x4=function(t,e){return t.start(e)+"-"+t.end(e)},w4=function(t,e){const i=t.toString(16);return"00".substring(0,2-i.length)+i+(e%2?" ":"")},C4=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},vx=function(t){const e={};return Object.keys(t).forEach(i=>{const r=t[i];SE(r)?e[i]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:e[i]=r}),e},_d=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},_x=function(t){return t.resolvedUri},bx=t=>{const e=Array.prototype.slice.call(t),i=16;let r="",n,s;for(let a=0;a<e.length/i;a++)n=e.slice(a*i,a*i+i).map(w4).join(""),s=e.slice(a*i,a*i+i).map(C4).join(""),r+=n+" "+s+`
`;return r},A4=({bytes:t})=>bx(t),P4=t=>{let e="",i;for(i=0;i<t.length;i++)e+=x4(t,i)+" ";return e};var O4=Object.freeze({__proto__:null,createTransferableMessage:vx,initSegmentId:_d,segmentKeyId:_x,hexDump:bx,tagDump:A4,textRanges:P4});const Sx=.25,R4=(t,e)=>{if(!e.dateTimeObject)return null;const i=e.videoTimingInfo.transmuxerPrependedSeconds,n=e.videoTimingInfo.transmuxedPresentationStart+i,s=t-n;return new Date(e.dateTimeObject.getTime()+s*1e3)},D4=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,I4=(t,e)=>{let i;try{i=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let r=e.segments[0];if(i<new Date(r.dateTimeObject))return null;for(let u=0;u<e.segments.length-1;u++){r=e.segments[u];const l=new Date(e.segments[u+1].dateTimeObject);if(i<l)break}const n=e.segments[e.segments.length-1],s=n.dateTimeObject,a=n.videoTimingInfo?D4(n.videoTimingInfo):n.duration+n.duration*Sx,o=new Date(s.getTime()+a*1e3);return i>o?null:(i>new Date(s)&&(r=n),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:Di.duration(e,e.mediaSequence+e.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})},k4=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let i=0,r;for(let s=0;s<e.segments.length&&(r=e.segments[s],i=r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationEnd:i+r.duration,!(t<=i));s++);const n=e.segments[e.segments.length-1];if(n.videoTimingInfo&&n.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>i){if(t>i+n.duration*Sx)return null;r=n}return{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:i-r.duration,type:r.videoTimingInfo?"accurate":"estimate"}},L4=(t,e)=>{let i,r;try{i=new Date(t),r=new Date(e)}catch{}const n=i.getTime();return(r.getTime()-n)/1e3},N4=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},F4=({playlist:t,time:e=void 0,callback:i})=>{if(!i)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return i({message:"getProgramTime: playlist and time must be provided"});const r=k4(e,t);if(!r)return i({message:"valid programTime was not found"});if(r.type==="estimate")return i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:r.estimatedStart});const n={mediaSeconds:e},s=R4(e,r.segment);return s&&(n.programDateTime=s.toISOString()),i(null,n)},Tx=({programTime:t,playlist:e,retryCount:i=2,seekTo:r,pauseAfterSeek:n=!0,tech:s,callback:a})=>{if(!a)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!r)return a({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!s.hasStarted_)return a({message:"player must be playing a live stream to start buffering"});if(!N4(e))return a({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const o=I4(t,e);if(!o)return a({message:`${t} was not found in the stream`});const u=o.segment,l=L4(u.dateTimeObject,t);if(o.type==="estimate"){if(i===0)return a({message:`${t} is not buffered yet. Try again`});r(o.estimatedStart+l),s.one("seeked",()=>{Tx({programTime:t,playlist:e,retryCount:i-1,seekTo:r,pauseAfterSeek:n,tech:s,callback:a})});return}const c=u.start+l,f=()=>a(null,s.currentTime());s.one("seeked",f),n&&s.pause(),r(c)},Of=(t,e)=>{if(t.readyState===4)return e()},M4=(t,e,i,r)=>{let n=[],s,a=!1;const o=function(f,m,h,g){return m.abort(),a=!0,i(f,m,h,g)},u=function(f,m){if(a)return;if(f)return f.metadata=Ls({requestType:r,request:m,error:f}),o(f,m,"",n);const h=m.responseText.substring(n&&n.byteLength||0,m.responseText.length);if(n=u3(n,TE(h,!0)),s=s||Qo(n),n.length<10||s&&n.length<s+2)return Of(m,()=>o(f,m,"",n));const g=xg(n);return g==="ts"&&n.length<188?Of(m,()=>o(f,m,"",n)):!g&&n.length<376?Of(m,()=>o(f,m,"",n)):o(null,m,g,n)},c=e({uri:t,beforeSend(f){f.overrideMimeType("text/plain; charset=x-user-defined"),f.addEventListener("progress",function({total:m,loaded:h}){return Sm(f,null,{statusCode:f.status},u)})}},function(f,m){return Sm(c,f,m,u)});return c},{EventTarget:$4}=se,C_=function(t,e){if(!gx(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let i=0;i<t.segments.length;i++){const r=t.segments[i],n=e.segments[i];if(r.uri!==n.uri)return!1;if(!r.byterange&&!n.byterange)continue;const s=r.byterange,a=n.byterange;if(s&&!a||!s&&a||s.offset!==a.offset||s.length!==a.length)return!1}return!0},j4=(t,e,i,r)=>{const n=r.attributes.NAME||i;return`placeholder-uri-${t}-${e}-${n}`},B4=({mainXml:t,srcUrl:e,clientOffset:i,sidxMapping:r,previousManifest:n})=>{const s=aN(t,{manifestUri:e,clientOffset:i,sidxMapping:r,previousManifest:n});return cx(s,e,j4),s},U4=(t,e)=>{ao(t,(i,r,n,s)=>{(!e.mediaGroups[r][n]||!(s in e.mediaGroups[r][n]))&&delete t.mediaGroups[r][n][s]})},H4=(t,e,i)=>{let r=!0,n=ct(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let s=0;s<e.playlists.length;s++){const a=e.playlists[s];if(a.sidx){const u=Kd(a.sidx);i&&i[u]&&i[u].sidx&&Sg(a,i[u].sidx,a.sidx.resolvedUri)}const o=_m(n,a,C_);o&&(n=o,r=!1)}return ao(e,(s,a,o,u)=>{if(s.playlists&&s.playlists.length){const l=s.playlists[0].id,c=_m(n,s.playlists[0],C_);c&&(n=c,u in n.mediaGroups[a][o]||(n.mediaGroups[a][o][u]=s),n.mediaGroups[a][o][u].playlists[0]=n.playlists[l],r=!1)}}),U4(n,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(r=!1),r?null:n},q4=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,A_=(t,e)=>{const i={};for(const r in t){const s=t[r].sidx;if(s){const a=Kd(s);if(!e[a])break;const o=e[a].sidxInfo;q4(o,s)&&(i[a]=e[a])}}return i},V4=(t,e)=>{let r=A_(t.playlists,e);return ao(t,(n,s,a,o)=>{if(n.playlists&&n.playlists.length){const u=n.playlists;r=ct(r,A_(u,e))}}),r};class Em extends $4{constructor(e,i,r={},n){super(),this.isPaused_=!0,this.mainPlaylistLoader_=n||this,n||(this.isMain_=!0);const{withCredentials:s=!1}=r;if(this.vhs_=i,this.withCredentials=s,this.addMetadataToTextTrack=r.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=ur("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}get isPaused(){return this.isPaused_}requestErrored_(e,i,r){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:i.status,message:"DASH request error at URL: "+i.uri,response:i.response,code:2,metadata:e.metadata},r&&(this.state=r),this.trigger("error"),!0}addSidxSegments_(e,i,r){const n=e.sidx&&Kd(e.sidx);if(!e.sidx||!n||this.mainPlaylistLoader_.sidxMapping_[n]){q.clearTimeout(this.mediaRequest_),this.mediaRequest_=q.setTimeout(()=>r(!1),0);return}const s=vd(e.sidx.resolvedUri),a=(u,l)=>{if(this.requestErrored_(u,l,i))return;const c=this.mainPlaylistLoader_.sidxMapping_,{requestType:f}=l;let m;try{m=dN(Ue(l.response).subarray(8))}catch(h){h.metadata=Ls({requestType:f,request:l,parseFailure:!0}),this.requestErrored_(h,l,i);return}return c[n]={sidxInfo:e.sidx,sidx:m},Sg(e,m,e.sidx.resolvedUri),r(!0)},o="dash-sidx";this.request=M4(s,this.vhs_.xhr,(u,l,c,f)=>{if(u)return a(u,l);if(!c||c!=="mp4"){const g=c||"unknown";return a({status:l.status,message:`Unsupported ${g} container type for sidx segment at URL: ${s}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},l)}const{offset:m,length:h}=e.sidx.byterange;if(f.length>=h+m)return a(u,{response:f.subarray(m,m+h),status:l.status,uri:l.uri});this.request=this.vhs_.xhr({uri:s,responseType:"arraybuffer",requestType:"dash-sidx",headers:Tm({byterange:e.sidx.byterange})},a)},o)}dispose(){this.isPaused_=!0,this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},q.clearTimeout(this.minimumUpdatePeriodTimeout_),q.clearTimeout(this.mediaRequest_),q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const i=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const r=!this.media_||e.id!==this.media_.id;if(r&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,r&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}r&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,i,n=>{this.haveMetadata({startingState:i,playlist:e})}))}haveMetadata({startingState:e,playlist:i}){this.state="HAVE_METADATA",this.loadedPlaylists_[i.id]=i,q.clearTimeout(this.mediaRequest_),this.mediaRequest_=null,this.refreshMedia_(i.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.isPaused_=!0,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(q.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){this.isPaused_=!1,q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const i=this.media();if(e){const r=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=q.setTimeout(()=>this.load(),r);return}if(!this.started){this.start();return}i&&!i.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){q.clearTimeout(this.mediaRequest_),this.mediaRequest_=q.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,i)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){const i={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:i}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(r,n)=>{if(r){const{requestType:a}=n;r.metadata=Ls({requestType:a,request:n,error:r})}if(this.requestErrored_(r,n)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}this.trigger({type:"manifestrequestcomplete",metadata:i});const s=n.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?this.mainLoaded_=Date.parse(n.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=vd(this.mainPlaylistLoader_.srcUrl,n),s){this.handleMain_(),this.syncClientServerClock_(()=>e(n,s));return}return e(n,s)})}syncClientServerClock_(e){const i=oN(this.mainPlaylistLoader_.mainXml_);if(i===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(i.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=i.value-Date.now(),e();this.request=this.vhs_.xhr({uri:Ri(this.mainPlaylistLoader_.srcUrl,i.value),method:i.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(r,n)=>{if(!this.request)return;if(r){const{requestType:a}=n;return this.error.metadata=Ls({requestType:a,request:n,error:r}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let s;i.method==="HEAD"?!n.responseHeaders||!n.responseHeaders.date?s=this.mainLoaded_:s=Date.parse(n.responseHeaders.date):s=Date.parse(n.responseText),this.mainPlaylistLoader_.clientOffset_=s-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){q.clearTimeout(this.mediaRequest_),this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,i={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:i});let r;try{r=B4({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(s){this.error=s,this.error.metadata={errorType:se.Error.StreamingDashManifestParserError,error:s},this.trigger("error")}e&&(r=H4(e,r,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=r||e;const n=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(n&&n!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=n),(!e||r&&r.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(r),r){const{duration:s,endList:a}=r,o=[];r.playlists.forEach(l=>{o.push({id:l.id,bandwidth:l.attributes.BANDWIDTH,resolution:l.attributes.RESOLUTION,codecs:l.attributes.CODECS})});const u={duration:s,isLive:!a,renditions:o};i.parsedManifest=u,this.trigger({type:"manifestparsecomplete",metadata:i})}return!!r}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(q.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let i=e.main&&e.main.minimumUpdatePeriod;if(i===0&&(e.media()?i=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof i!="number"||i<=0){i<0&&this.logger_(`found invalid minimumUpdatePeriod of ${i}, not setting a timeout`);return}this.createMUPTimeout_(i)}createMUPTimeout_(e){const i=this.mainPlaylistLoader_;i.minimumUpdatePeriodTimeout_=q.setTimeout(()=>{i.minimumUpdatePeriodTimeout_=null,i.trigger("minimumUpdatePeriod"),i.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,i)=>{i&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=V4(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,r=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const i=this.mainPlaylistLoader_.main.playlists,r=!this.media_||this.media_!==i[e];if(r?this.media_=i[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const n=()=>{this.media().endList||(this.mediaUpdateTimeout=q.setTimeout(()=>{this.trigger("mediaupdatetimeout"),n()},bm(this.media(),!!r)))};n()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const i=this.mainPlaylistLoader_.main.eventStream.map(r=>({cueTime:r.start,frames:[{data:r.messageData}]}));this.addMetadataToTextTrack("EventStream",i,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const i=new Set;for(const r in e.contentProtection){const n=e.contentProtection[r].attributes["cenc:default_KID"];n&&i.add(n.replace(/-/g,"").toLowerCase())}return i}}}var Gt={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const W4=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e.buffer},Ex=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},z4=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const i=new BlobBuilder;return i.append(t),URL.createObjectURL(i.getBlob())}},xx=function(t){return function(){const e=z4(t),i=Ex(new Worker(e));i.objURL=e;const r=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(e),r.call(this)},i}},wx=function(t){return`var browserWorkerPolyFill = ${Ex.toString()};
browserWorkerPolyFill(self);
`+t},Cx=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},G4=wx(Cx(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var d={};this.on=function(v,S){d[v]||(d[v]=[]),d[v]=d[v].concat(S)},this.off=function(v,S){var b;return d[v]?(b=d[v].indexOf(S),d[v]=d[v].slice(),d[v].splice(b,1),b>-1):!1},this.trigger=function(v){var S,b,x,A;if(S=d[v],!!S)if(arguments.length===2)for(x=S.length,b=0;b<x;++b)S[b].call(this,arguments[1]);else{for(A=[],b=arguments.length,b=1;b<arguments.length;++b)A.push(arguments[b]);for(x=S.length,b=0;b<x;++b)S[b].apply(this,A)}},this.dispose=function(){d={}}}};e.prototype.pipe=function(d){return this.on("data",function(v){d.push(v)}),this.on("done",function(v){d.flush(v)}),this.on("partialdone",function(v){d.partialFlush(v)}),this.on("endedtimeline",function(v){d.endTimeline(v)}),this.on("reset",function(v){d.reset(v)}),d},e.prototype.push=function(d){this.trigger("data",d)},e.prototype.flush=function(d){this.trigger("done",d)},e.prototype.partialFlush=function(d){this.trigger("partialdone",d)},e.prototype.endTimeline=function(d){this.trigger("endedtimeline",d)},e.prototype.reset=function(d){this.trigger("reset",d)};var i=e,r=Math.pow(2,32),n=function(d){var v=new DataView(d.buffer,d.byteOffset,d.byteLength),S;return v.getBigUint64?(S=v.getBigUint64(0),S<Number.MAX_SAFE_INTEGER?Number(S):S):v.getUint32(0)*r+v.getUint32(4)},s={getUint64:n,MAX_UINT32:r},a=s.MAX_UINT32,o,u,l,c,f,m,h,g,p,_,y,T,E,C,R,I,D,O,w,P,L,M,j,Q,Z,J,H,W,G,Y,ie,me,Te,Ce,ge,Oe;(function(){var d;if(j={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(d in j)j.hasOwnProperty(d)&&(j[d]=[d.charCodeAt(0),d.charCodeAt(1),d.charCodeAt(2),d.charCodeAt(3)]);Q=new Uint8Array([105,115,111,109]),J=new Uint8Array([97,118,99,49]),Z=new Uint8Array([0,0,0,1]),H=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),W=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),G={video:H,audio:W},me=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),ie=new Uint8Array([0,0,0,0,0,0,0,0]),Te=new Uint8Array([0,0,0,0,0,0,0,0]),Ce=Te,ge=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Oe=Te,Y=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),o=function(d){var v=[],S=0,b,x,A;for(b=1;b<arguments.length;b++)v.push(arguments[b]);for(b=v.length;b--;)S+=v[b].byteLength;for(x=new Uint8Array(S+8),A=new DataView(x.buffer,x.byteOffset,x.byteLength),A.setUint32(0,x.byteLength),x.set(d,4),b=0,S=8;b<v.length;b++)x.set(v[b],S),S+=v[b].byteLength;return x},u=function(){return o(j.dinf,o(j.dref,me))},l=function(d){return o(j.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,d.audioobjecttype<<3|d.samplingfrequencyindex>>>1,d.samplingfrequencyindex<<7|d.channelcount<<3,6,1,2]))},c=function(){return o(j.ftyp,Q,Z,Q,J)},I=function(d){return o(j.hdlr,G[d])},f=function(d){return o(j.mdat,d)},R=function(d){var v=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,d.duration>>>24&255,d.duration>>>16&255,d.duration>>>8&255,d.duration&255,85,196,0,0]);return d.samplerate&&(v[12]=d.samplerate>>>24&255,v[13]=d.samplerate>>>16&255,v[14]=d.samplerate>>>8&255,v[15]=d.samplerate&255),o(j.mdhd,v)},C=function(d){return o(j.mdia,R(d),I(d.type),h(d))},m=function(d){return o(j.mfhd,new Uint8Array([0,0,0,0,(d&4278190080)>>24,(d&16711680)>>16,(d&65280)>>8,d&255]))},h=function(d){return o(j.minf,d.type==="video"?o(j.vmhd,Y):o(j.smhd,ie),u(),O(d))},g=function(d,v){for(var S=[],b=v.length;b--;)S[b]=P(v[b]);return o.apply(null,[j.moof,m(d)].concat(S))},p=function(d){for(var v=d.length,S=[];v--;)S[v]=T(d[v]);return o.apply(null,[j.moov,y(4294967295)].concat(S).concat(_(d)))},_=function(d){for(var v=d.length,S=[];v--;)S[v]=L(d[v]);return o.apply(null,[j.mvex].concat(S))},y=function(d){var v=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(d&4278190080)>>24,(d&16711680)>>16,(d&65280)>>8,d&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o(j.mvhd,v)},D=function(d){var v=d.samples||[],S=new Uint8Array(4+v.length),b,x;for(x=0;x<v.length;x++)b=v[x].flags,S[x+4]=b.dependsOn<<4|b.isDependedOn<<2|b.hasRedundancy;return o(j.sdtp,S)},O=function(d){return o(j.stbl,w(d),o(j.stts,Oe),o(j.stsc,Ce),o(j.stsz,ge),o(j.stco,Te))},function(){var d,v;w=function(S){return o(j.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),S.type==="video"?d(S):v(S))},d=function(S){var b=S.sps||[],x=S.pps||[],A=[],F=[],$,U;for($=0;$<b.length;$++)A.push((b[$].byteLength&65280)>>>8),A.push(b[$].byteLength&255),A=A.concat(Array.prototype.slice.call(b[$]));for($=0;$<x.length;$++)F.push((x[$].byteLength&65280)>>>8),F.push(x[$].byteLength&255),F=F.concat(Array.prototype.slice.call(x[$]));if(U=[j.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(S.width&65280)>>8,S.width&255,(S.height&65280)>>8,S.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o(j.avcC,new Uint8Array([1,S.profileIdc,S.profileCompatibility,S.levelIdc,255].concat([b.length],A,[x.length],F))),o(j.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],S.sarRatio){var V=S.sarRatio[0],ee=S.sarRatio[1];U.push(o(j.pasp,new Uint8Array([(V&4278190080)>>24,(V&16711680)>>16,(V&65280)>>8,V&255,(ee&4278190080)>>24,(ee&16711680)>>16,(ee&65280)>>8,ee&255])))}return o.apply(null,U)},v=function(S){return o(j.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(S.channelcount&65280)>>8,S.channelcount&255,(S.samplesize&65280)>>8,S.samplesize&255,0,0,0,0,(S.samplerate&65280)>>8,S.samplerate&255,0,0]),l(S))}}(),E=function(d){var v=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(d.id&4278190080)>>24,(d.id&16711680)>>16,(d.id&65280)>>8,d.id&255,0,0,0,0,(d.duration&4278190080)>>24,(d.duration&16711680)>>16,(d.duration&65280)>>8,d.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(d.width&65280)>>8,d.width&255,0,0,(d.height&65280)>>8,d.height&255,0,0]);return o(j.tkhd,v)},P=function(d){var v,S,b,x,A,F,$;return v=o(j.tfhd,new Uint8Array([0,0,0,58,(d.id&4278190080)>>24,(d.id&16711680)>>16,(d.id&65280)>>8,d.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),F=Math.floor(d.baseMediaDecodeTime/a),$=Math.floor(d.baseMediaDecodeTime%a),S=o(j.tfdt,new Uint8Array([1,0,0,0,F>>>24&255,F>>>16&255,F>>>8&255,F&255,$>>>24&255,$>>>16&255,$>>>8&255,$&255])),A=92,d.type==="audio"?(b=M(d,A),o(j.traf,v,S,b)):(x=D(d),b=M(d,x.length+A),o(j.traf,v,S,b,x))},T=function(d){return d.duration=d.duration||4294967295,o(j.trak,E(d),C(d))},L=function(d){var v=new Uint8Array([0,0,0,0,(d.id&4278190080)>>24,(d.id&16711680)>>16,(d.id&65280)>>8,d.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return d.type!=="video"&&(v[v.length-1]=0),o(j.trex,v)},function(){var d,v,S;S=function(b,x){var A=0,F=0,$=0,U=0;return b.length&&(b[0].duration!==void 0&&(A=1),b[0].size!==void 0&&(F=2),b[0].flags!==void 0&&($=4),b[0].compositionTimeOffset!==void 0&&(U=8)),[0,0,A|F|$|U,1,(b.length&4278190080)>>>24,(b.length&16711680)>>>16,(b.length&65280)>>>8,b.length&255,(x&4278190080)>>>24,(x&16711680)>>>16,(x&65280)>>>8,x&255]},v=function(b,x){var A,F,$,U,V,ee;for(U=b.samples||[],x+=20+16*U.length,$=S(U,x),F=new Uint8Array($.length+U.length*16),F.set($),A=$.length,ee=0;ee<U.length;ee++)V=U[ee],F[A++]=(V.duration&4278190080)>>>24,F[A++]=(V.duration&16711680)>>>16,F[A++]=(V.duration&65280)>>>8,F[A++]=V.duration&255,F[A++]=(V.size&4278190080)>>>24,F[A++]=(V.size&16711680)>>>16,F[A++]=(V.size&65280)>>>8,F[A++]=V.size&255,F[A++]=V.flags.isLeading<<2|V.flags.dependsOn,F[A++]=V.flags.isDependedOn<<6|V.flags.hasRedundancy<<4|V.flags.paddingValue<<1|V.flags.isNonSyncSample,F[A++]=V.flags.degradationPriority&61440,F[A++]=V.flags.degradationPriority&15,F[A++]=(V.compositionTimeOffset&4278190080)>>>24,F[A++]=(V.compositionTimeOffset&16711680)>>>16,F[A++]=(V.compositionTimeOffset&65280)>>>8,F[A++]=V.compositionTimeOffset&255;return o(j.trun,F)},d=function(b,x){var A,F,$,U,V,ee;for(U=b.samples||[],x+=20+8*U.length,$=S(U,x),A=new Uint8Array($.length+U.length*8),A.set($),F=$.length,ee=0;ee<U.length;ee++)V=U[ee],A[F++]=(V.duration&4278190080)>>>24,A[F++]=(V.duration&16711680)>>>16,A[F++]=(V.duration&65280)>>>8,A[F++]=V.duration&255,A[F++]=(V.size&4278190080)>>>24,A[F++]=(V.size&16711680)>>>16,A[F++]=(V.size&65280)>>>8,A[F++]=V.size&255;return o(j.trun,A)},M=function(b,x){return b.type==="audio"?d(b,x):v(b,x)}}();var re={ftyp:c,mdat:f,moof:g,moov:p,initSegment:function(d){var v=c(),S=p(d),b;return b=new Uint8Array(v.byteLength+S.byteLength),b.set(v),b.set(S,v.byteLength),b}},ce=function(d){var v,S,b=[],x=[];for(x.byteLength=0,x.nalCount=0,x.duration=0,b.byteLength=0,v=0;v<d.length;v++)S=d[v],S.nalUnitType==="access_unit_delimiter_rbsp"?(b.length&&(b.duration=S.dts-b.dts,x.byteLength+=b.byteLength,x.nalCount+=b.length,x.duration+=b.duration,x.push(b)),b=[S],b.byteLength=S.data.byteLength,b.pts=S.pts,b.dts=S.dts):(S.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(b.keyFrame=!0),b.duration=S.dts-b.dts,b.byteLength+=S.data.byteLength,b.push(S));return x.length&&(!b.duration||b.duration<=0)&&(b.duration=x[x.length-1].duration),x.byteLength+=b.byteLength,x.nalCount+=b.length,x.duration+=b.duration,x.push(b),x},_e=function(d){var v,S,b=[],x=[];for(b.byteLength=0,b.nalCount=0,b.duration=0,b.pts=d[0].pts,b.dts=d[0].dts,x.byteLength=0,x.nalCount=0,x.duration=0,x.pts=d[0].pts,x.dts=d[0].dts,v=0;v<d.length;v++)S=d[v],S.keyFrame?(b.length&&(x.push(b),x.byteLength+=b.byteLength,x.nalCount+=b.nalCount,x.duration+=b.duration),b=[S],b.nalCount=S.length,b.byteLength=S.byteLength,b.pts=S.pts,b.dts=S.dts,b.duration=S.duration):(b.duration+=S.duration,b.nalCount+=S.length,b.byteLength+=S.byteLength,b.push(S));return x.length&&b.duration<=0&&(b.duration=x[x.length-1].duration),x.byteLength+=b.byteLength,x.nalCount+=b.nalCount,x.duration+=b.duration,x.push(b),x},Ee=function(d){var v;return!d[0][0].keyFrame&&d.length>1&&(v=d.shift(),d.byteLength-=v.byteLength,d.nalCount-=v.nalCount,d[0][0].dts=v.dts,d[0][0].pts=v.pts,d[0][0].duration+=v.duration),d},Fe=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},B=function(d,v){var S=Fe();return S.dataOffset=v,S.compositionTimeOffset=d.pts-d.dts,S.duration=d.duration,S.size=4*d.length,S.size+=d.byteLength,d.keyFrame&&(S.flags.dependsOn=2,S.flags.isNonSyncSample=0),S},z=function(d,v){var S,b,x,A,F,$=v||0,U=[];for(S=0;S<d.length;S++)for(A=d[S],b=0;b<A.length;b++)F=A[b],x=B(F,$),$+=x.size,U.push(x);return U},te=function(d){var v,S,b,x,A,F,$=0,U=d.byteLength,V=d.nalCount,ee=U+4*V,le=new Uint8Array(ee),Ie=new DataView(le.buffer);for(v=0;v<d.length;v++)for(x=d[v],S=0;S<x.length;S++)for(A=x[S],b=0;b<A.length;b++)F=A[b],Ie.setUint32($,F.data.byteLength),$+=4,le.set(F.data,$),$+=F.data.byteLength;return le},pe=function(d,v){var S,b=v||0,x=[];return S=B(d,b),x.push(S),x},he=function(d){var v,S,b=0,x=d.byteLength,A=d.length,F=x+4*A,$=new Uint8Array(F),U=new DataView($.buffer);for(v=0;v<d.length;v++)S=d[v],U.setUint32(b,S.data.byteLength),b+=4,$.set(S.data,b),b+=S.data.byteLength;return $},be={groupNalsIntoFrames:ce,groupFramesIntoGops:_e,extendFirstKeyFrame:Ee,generateSampleTable:z,concatenateNalData:te,generateSampleTableForFrame:pe,concatenateNalDataForFrame:he},Ae=[33,16,5,32,164,27],xe=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ye=function(d){for(var v=[];d--;)v.push(0);return v},fe=function(d){return Object.keys(d).reduce(function(v,S){return v[S]=new Uint8Array(d[S].reduce(function(b,x){return b.concat(x)},[])),v},{})},ke,Pe=function(){if(!ke){var d={96e3:[Ae,[227,64],ye(154),[56]],88200:[Ae,[231],ye(170),[56]],64e3:[Ae,[248,192],ye(240),[56]],48e3:[Ae,[255,192],ye(268),[55,148,128],ye(54),[112]],44100:[Ae,[255,192],ye(268),[55,163,128],ye(84),[112]],32e3:[Ae,[255,192],ye(268),[55,234],ye(226),[112]],24e3:[Ae,[255,192],ye(268),[55,255,128],ye(268),[111,112],ye(126),[224]],16e3:[Ae,[255,192],ye(268),[55,255,128],ye(268),[111,255],ye(269),[223,108],ye(195),[1,192]],12e3:[xe,ye(268),[3,127,248],ye(268),[6,255,240],ye(268),[13,255,224],ye(268),[27,253,128],ye(259),[56]],11025:[xe,ye(268),[3,127,248],ye(268),[6,255,240],ye(268),[13,255,224],ye(268),[27,255,192],ye(268),[55,175,128],ye(108),[112]],8e3:[xe,ye(268),[3,121,16],ye(47),[7]]};ke=fe(d)}return ke},Me=9e4,$e,Ge,Je,Ze,Bt,Nt,Ht;$e=function(d){return d*Me},Ge=function(d,v){return d*v},Je=function(d){return d/Me},Ze=function(d,v){return d/v},Bt=function(d,v){return $e(Ze(d,v))},Nt=function(d,v){return Ge(Je(d),v)},Ht=function(d,v,S){return Je(S?d:d-v)};var Ye={ONE_SECOND_IN_TS:Me,secondsToVideoTs:$e,secondsToAudioTs:Ge,videoTsToSeconds:Je,audioTsToSeconds:Ze,audioTsToVideoTs:Bt,videoTsToAudioTs:Nt,metadataTsToSeconds:Ht},Ar=Pe,Pr=Ye,qt=function(d){var v,S,b=0;for(v=0;v<d.length;v++)S=d[v],b+=S.data.byteLength;return b},ti=function(d,v,S,b){var x,A=0,F=0,$=0,U=0,V,ee,le;if(v.length&&(x=Pr.audioTsToVideoTs(d.baseMediaDecodeTime,d.samplerate),A=Math.ceil(Pr.ONE_SECOND_IN_TS/(d.samplerate/1024)),S&&b&&(F=x-Math.max(S,b),$=Math.floor(F/A),U=$*A),!($<1||U>Pr.ONE_SECOND_IN_TS/2))){for(V=Ar()[d.samplerate],V||(V=v[0].data),ee=0;ee<$;ee++)le=v[0],v.splice(0,0,{data:V,dts:le.dts-A,pts:le.pts-A});return d.baseMediaDecodeTime-=Math.floor(Pr.videoTsToAudioTs(U,d.samplerate)),U}},dr=function(d,v,S){return v.minSegmentDts>=S?d:(v.minSegmentDts=1/0,d.filter(function(b){return b.dts>=S?(v.minSegmentDts=Math.min(v.minSegmentDts,b.dts),v.minSegmentPts=v.minSegmentDts,!0):!1}))},Ll=function(d){var v,S,b=[];for(v=0;v<d.length;v++)S=d[v],b.push({size:S.data.byteLength,duration:1024});return b},mo=function(d){var v,S,b=0,x=new Uint8Array(qt(d));for(v=0;v<d.length;v++)S=d[v],x.set(S.data,b),b+=S.data.byteLength;return x},Nl={prefixWithSilence:ti,trimAdtsFramesByEarliestDts:dr,generateSampleTable:Ll,concatenateFrameData:mo},k=Ye.ONE_SECOND_IN_TS,N=function(d,v){typeof v.pts=="number"&&(d.timelineStartInfo.pts===void 0&&(d.timelineStartInfo.pts=v.pts),d.minSegmentPts===void 0?d.minSegmentPts=v.pts:d.minSegmentPts=Math.min(d.minSegmentPts,v.pts),d.maxSegmentPts===void 0?d.maxSegmentPts=v.pts:d.maxSegmentPts=Math.max(d.maxSegmentPts,v.pts)),typeof v.dts=="number"&&(d.timelineStartInfo.dts===void 0&&(d.timelineStartInfo.dts=v.dts),d.minSegmentDts===void 0?d.minSegmentDts=v.dts:d.minSegmentDts=Math.min(d.minSegmentDts,v.dts),d.maxSegmentDts===void 0?d.maxSegmentDts=v.dts:d.maxSegmentDts=Math.max(d.maxSegmentDts,v.dts))},K=function(d){delete d.minSegmentDts,delete d.maxSegmentDts,delete d.minSegmentPts,delete d.maxSegmentPts},oe=function(d,v){var S,b,x=d.minSegmentDts;return v||(x-=d.timelineStartInfo.dts),S=d.timelineStartInfo.baseMediaDecodeTime,S+=x,S=Math.max(0,S),d.type==="audio"&&(b=d.samplerate/k,S*=b,S=Math.floor(S)),S},De={clearDtsInfo:K,calculateTrackBaseMediaDecodeTime:oe,collectDtsInfo:N},Ve=4,mt=128,ii=function(d){for(var v=0,S={payloadType:-1,payloadSize:0},b=0,x=0;v<d.byteLength&&d[v]!==mt;){for(;d[v]===255;)b+=255,v++;for(b+=d[v++];d[v]===255;)x+=255,v++;if(x+=d[v++],!S.payload&&b===Ve){var A=String.fromCharCode(d[v+3],d[v+4],d[v+5],d[v+6]);if(A==="GA94"){S.payloadType=b,S.payloadSize=x,S.payload=d.subarray(v,v+x);break}else S.payload=void 0}v+=x,b=0,x=0}return S},hr=function(d){return d.payload[0]!==181||(d.payload[1]<<8|d.payload[2])!==49||String.fromCharCode(d.payload[3],d.payload[4],d.payload[5],d.payload[6])!=="GA94"||d.payload[7]!==3?null:d.payload.subarray(8,d.payload.length-1)},Or=function(d,v){var S=[],b,x,A,F;if(!(v[0]&64))return S;for(x=v[0]&31,b=0;b<x;b++)A=b*3,F={type:v[A+2]&3,pts:d},v[A+2]&4&&(F.ccData=v[A+3]<<8|v[A+4],S.push(F));return S},fr=function(d){for(var v=d.byteLength,S=[],b=1,x,A;b<v-2;)d[b]===0&&d[b+1]===0&&d[b+2]===3?(S.push(b+2),b+=2):b++;if(S.length===0)return d;x=v-S.length,A=new Uint8Array(x);var F=0;for(b=0;b<x;F++,b++)F===S[0]&&(F++,S.shift()),A[b]=d[F];return A},Rr={parseSei:ii,parseUserData:hr,parseCaptionPackets:Or,discardEmulationPreventionBytes:fr,USER_DATA_REGISTERED_ITU_T_T35:Ve},pr=i,Gi=Rr,St=function(d){d=d||{},St.prototype.init.call(this),this.parse708captions_=typeof d.parse708captions=="boolean"?d.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new xt(0,0),new xt(0,1),new xt(1,0),new xt(1,1)],this.parse708captions_&&(this.cc708Stream_=new st({captionServices:d.captionServices})),this.reset(),this.ccStreams_.forEach(function(v){v.on("data",this.trigger.bind(this,"data")),v.on("partialdone",this.trigger.bind(this,"partialdone")),v.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};St.prototype=new pr,St.prototype.push=function(d){var v,S,b;if(d.nalUnitType==="sei_rbsp"&&(v=Gi.parseSei(d.escapedRBSP),!!v.payload&&v.payloadType===Gi.USER_DATA_REGISTERED_ITU_T_T35&&(S=Gi.parseUserData(v),!!S))){if(d.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(d.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}b=Gi.parseCaptionPackets(d.pts,S),this.captionPackets_=this.captionPackets_.concat(b),this.latestDts_!==d.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=d.dts}},St.prototype.flushCCStreams=function(d){this.ccStreams_.forEach(function(v){return d==="flush"?v.flush():v.partialFlush()},this)},St.prototype.flushStream=function(d){if(!this.captionPackets_.length){this.flushCCStreams(d);return}this.captionPackets_.forEach(function(v,S){v.presortIndex=S}),this.captionPackets_.sort(function(v,S){return v.pts===S.pts?v.presortIndex-S.presortIndex:v.pts-S.pts}),this.captionPackets_.forEach(function(v){v.type<2?this.dispatchCea608Packet(v):this.dispatchCea708Packet(v)},this),this.captionPackets_.length=0,this.flushCCStreams(d)},St.prototype.flush=function(){return this.flushStream("flush")},St.prototype.partialFlush=function(){return this.flushStream("partialFlush")},St.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(d){d.reset()})},St.prototype.dispatchCea608Packet=function(d){this.setsTextOrXDSActive(d)?this.activeCea608Channel_[d.type]=null:this.setsChannel1Active(d)?this.activeCea608Channel_[d.type]=0:this.setsChannel2Active(d)&&(this.activeCea608Channel_[d.type]=1),this.activeCea608Channel_[d.type]!==null&&this.ccStreams_[(d.type<<1)+this.activeCea608Channel_[d.type]].push(d)},St.prototype.setsChannel1Active=function(d){return(d.ccData&30720)===4096},St.prototype.setsChannel2Active=function(d){return(d.ccData&30720)===6144},St.prototype.setsTextOrXDSActive=function(d){return(d.ccData&28928)===256||(d.ccData&30974)===4138||(d.ccData&30974)===6186},St.prototype.dispatchCea708Packet=function(d){this.parse708captions_&&this.cc708Stream_.push(d)};var an={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},hs=function(d){var v=an[d]||d;return d&4096&&d===v?"":String.fromCharCode(v)},Ft=function(d){return 32<=d&&d<=127||160<=d&&d<=255},Ki=function(d){this.windowNum=d,this.reset()};Ki.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Ki.prototype.getText=function(){return this.rows.join(`
`)},Ki.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Ki.prototype.newLine=function(d){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(d),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Ki.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Ki.prototype.addText=function(d){this.rows[this.rowIdx]+=d},Ki.prototype.backspace=function(){if(!this.isEmpty()){var d=this.rows[this.rowIdx];this.rows[this.rowIdx]=d.substr(0,d.length-1)}};var mr=function(d,v,S){this.serviceNum=d,this.text="",this.currentWindow=new Ki(-1),this.windows=[],this.stream=S,typeof v=="string"&&this.createTextDecoder(v)};mr.prototype.init=function(d,v){this.startPts=d;for(var S=0;S<8;S++)this.windows[S]=new Ki(S),typeof v=="function"&&(this.windows[S].beforeRowOverflow=v)},mr.prototype.setCurrentWindow=function(d){this.currentWindow=this.windows[d]},mr.prototype.createTextDecoder=function(d){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(d)}catch(v){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+d+" encoding. "+v})}};var st=function(d){d=d||{},st.prototype.init.call(this);var v=this,S=d.captionServices||{},b={},x;Object.keys(S).forEach(A=>{x=S[A],/^SERVICE/.test(A)&&(b[A]=x.encoding)}),this.serviceEncodings=b,this.current708Packet=null,this.services={},this.push=function(A){A.type===3?(v.new708Packet(),v.add708Bytes(A)):(v.current708Packet===null&&v.new708Packet(),v.add708Bytes(A))}};st.prototype=new pr,st.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},st.prototype.add708Bytes=function(d){var v=d.ccData,S=v>>>8,b=v&255;this.current708Packet.ptsVals.push(d.pts),this.current708Packet.data.push(S),this.current708Packet.data.push(b)},st.prototype.push708Packet=function(){var d=this.current708Packet,v=d.data,S=null,b=null,x=0,A=v[x++];for(d.seq=A>>6,d.sizeCode=A&63;x<v.length;x++)A=v[x++],S=A>>5,b=A&31,S===7&&b>0&&(A=v[x++],S=A),this.pushServiceBlock(S,x,b),b>0&&(x+=b-1)},st.prototype.pushServiceBlock=function(d,v,S){var b,x=v,A=this.current708Packet.data,F=this.services[d];for(F||(F=this.initService(d,x));x<v+S&&x<A.length;x++)b=A[x],Ft(b)?x=this.handleText(x,F):b===24?x=this.multiByteCharacter(x,F):b===16?x=this.extendedCommands(x,F):128<=b&&b<=135?x=this.setCurrentWindow(x,F):152<=b&&b<=159?x=this.defineWindow(x,F):b===136?x=this.clearWindows(x,F):b===140?x=this.deleteWindows(x,F):b===137?x=this.displayWindows(x,F):b===138?x=this.hideWindows(x,F):b===139?x=this.toggleWindows(x,F):b===151?x=this.setWindowAttributes(x,F):b===144?x=this.setPenAttributes(x,F):b===145?x=this.setPenColor(x,F):b===146?x=this.setPenLocation(x,F):b===143?F=this.reset(x,F):b===8?F.currentWindow.backspace():b===12?F.currentWindow.clearText():b===13?F.currentWindow.pendingNewLine=!0:b===14?F.currentWindow.clearText():b===141&&x++},st.prototype.extendedCommands=function(d,v){var S=this.current708Packet.data,b=S[++d];return Ft(b)&&(d=this.handleText(d,v,{isExtended:!0})),d},st.prototype.getPts=function(d){return this.current708Packet.ptsVals[Math.floor(d/2)]},st.prototype.initService=function(d,v){var b="SERVICE"+d,S=this,b,x;return b in this.serviceEncodings&&(x=this.serviceEncodings[b]),this.services[d]=new mr(d,x,S),this.services[d].init(this.getPts(v),function(A){S.flushDisplayed(A,S.services[d])}),this.services[d]},st.prototype.handleText=function(d,v,S){var b=S&&S.isExtended,x=S&&S.isMultiByte,A=this.current708Packet.data,F=b?4096:0,$=A[d],U=A[d+1],V=v.currentWindow,ee,le;function Ie(ve){return ve.map(Be=>("0"+(Be&255).toString(16)).slice(-2)).join("")}if(x?(le=[$,U],d++):le=[$],v.textDecoder_&&!b)ee=v.textDecoder_.decode(new Uint8Array(le));else if(x){const ve=Ie(le);ee=String.fromCharCode(parseInt(ve,16))}else ee=hs(F|$);return V.pendingNewLine&&!V.isEmpty()&&V.newLine(this.getPts(d)),V.pendingNewLine=!1,V.addText(ee),d},st.prototype.multiByteCharacter=function(d,v){var S=this.current708Packet.data,b=S[d+1],x=S[d+2];return Ft(b)&&Ft(x)&&(d=this.handleText(++d,v,{isMultiByte:!0})),d},st.prototype.setCurrentWindow=function(d,v){var S=this.current708Packet.data,b=S[d],x=b&7;return v.setCurrentWindow(x),d},st.prototype.defineWindow=function(d,v){var S=this.current708Packet.data,b=S[d],x=b&7;v.setCurrentWindow(x);var A=v.currentWindow;return b=S[++d],A.visible=(b&32)>>5,A.rowLock=(b&16)>>4,A.columnLock=(b&8)>>3,A.priority=b&7,b=S[++d],A.relativePositioning=(b&128)>>7,A.anchorVertical=b&127,b=S[++d],A.anchorHorizontal=b,b=S[++d],A.anchorPoint=(b&240)>>4,A.rowCount=b&15,b=S[++d],A.columnCount=b&63,b=S[++d],A.windowStyle=(b&56)>>3,A.penStyle=b&7,A.virtualRowCount=A.rowCount+1,d},st.prototype.setWindowAttributes=function(d,v){var S=this.current708Packet.data,b=S[d],x=v.currentWindow.winAttr;return b=S[++d],x.fillOpacity=(b&192)>>6,x.fillRed=(b&48)>>4,x.fillGreen=(b&12)>>2,x.fillBlue=b&3,b=S[++d],x.borderType=(b&192)>>6,x.borderRed=(b&48)>>4,x.borderGreen=(b&12)>>2,x.borderBlue=b&3,b=S[++d],x.borderType+=(b&128)>>5,x.wordWrap=(b&64)>>6,x.printDirection=(b&48)>>4,x.scrollDirection=(b&12)>>2,x.justify=b&3,b=S[++d],x.effectSpeed=(b&240)>>4,x.effectDirection=(b&12)>>2,x.displayEffect=b&3,d},st.prototype.flushDisplayed=function(d,v){for(var S=[],b=0;b<8;b++)v.windows[b].visible&&!v.windows[b].isEmpty()&&S.push(v.windows[b].getText());v.endPts=d,v.text=S.join(`

`),this.pushCaption(v),v.startPts=d},st.prototype.pushCaption=function(d){d.text!==""&&(this.trigger("data",{startPts:d.startPts,endPts:d.endPts,text:d.text,stream:"cc708_"+d.serviceNum}),d.text="",d.startPts=d.endPts)},st.prototype.displayWindows=function(d,v){var S=this.current708Packet.data,b=S[++d],x=this.getPts(d);this.flushDisplayed(x,v);for(var A=0;A<8;A++)b&1<<A&&(v.windows[A].visible=1);return d},st.prototype.hideWindows=function(d,v){var S=this.current708Packet.data,b=S[++d],x=this.getPts(d);this.flushDisplayed(x,v);for(var A=0;A<8;A++)b&1<<A&&(v.windows[A].visible=0);return d},st.prototype.toggleWindows=function(d,v){var S=this.current708Packet.data,b=S[++d],x=this.getPts(d);this.flushDisplayed(x,v);for(var A=0;A<8;A++)b&1<<A&&(v.windows[A].visible^=1);return d},st.prototype.clearWindows=function(d,v){var S=this.current708Packet.data,b=S[++d],x=this.getPts(d);this.flushDisplayed(x,v);for(var A=0;A<8;A++)b&1<<A&&v.windows[A].clearText();return d},st.prototype.deleteWindows=function(d,v){var S=this.current708Packet.data,b=S[++d],x=this.getPts(d);this.flushDisplayed(x,v);for(var A=0;A<8;A++)b&1<<A&&v.windows[A].reset();return d},st.prototype.setPenAttributes=function(d,v){var S=this.current708Packet.data,b=S[d],x=v.currentWindow.penAttr;return b=S[++d],x.textTag=(b&240)>>4,x.offset=(b&12)>>2,x.penSize=b&3,b=S[++d],x.italics=(b&128)>>7,x.underline=(b&64)>>6,x.edgeType=(b&56)>>3,x.fontStyle=b&7,d},st.prototype.setPenColor=function(d,v){var S=this.current708Packet.data,b=S[d],x=v.currentWindow.penColor;return b=S[++d],x.fgOpacity=(b&192)>>6,x.fgRed=(b&48)>>4,x.fgGreen=(b&12)>>2,x.fgBlue=b&3,b=S[++d],x.bgOpacity=(b&192)>>6,x.bgRed=(b&48)>>4,x.bgGreen=(b&12)>>2,x.bgBlue=b&3,b=S[++d],x.edgeRed=(b&48)>>4,x.edgeGreen=(b&12)>>2,x.edgeBlue=b&3,d},st.prototype.setPenLocation=function(d,v){var S=this.current708Packet.data,b=S[d],x=v.currentWindow.penLoc;return v.currentWindow.pendingNewLine=!0,b=S[++d],x.row=b&15,b=S[++d],x.column=b&63,d},st.prototype.reset=function(d,v){var S=this.getPts(d);return this.flushDisplayed(S,v),this.initService(v.serviceNum,d)};var UA={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Fl=function(d){return d===null?"":(d=UA[d]||d,String.fromCharCode(d))},Ml=14,HA=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],fs=function(){for(var d=[],v=Ml+1;v--;)d.push({text:"",indent:0,offset:0});return d},xt=function(d,v){xt.prototype.init.call(this),this.field_=d||0,this.dataChannel_=v||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(S){var b,x,A,F,$;if(b=S.ccData&32639,b===this.lastControlCode_){this.lastControlCode_=null;return}if((b&61440)===4096?this.lastControlCode_=b:b!==this.PADDING_&&(this.lastControlCode_=null),A=b>>>8,F=b&255,b!==this.PADDING_)if(b===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(b===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(S.pts),this.flushDisplayed(S.pts),x=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=x,this.startPts_=S.pts;else if(b===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(S.pts);else if(b===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(S.pts);else if(b===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(S.pts);else if(b===this.CARRIAGE_RETURN_)this.clearFormatting(S.pts),this.flushDisplayed(S.pts),this.shiftRowsUp_(),this.startPts_=S.pts;else if(b===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(b===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(S.pts),this.displayed_=fs();else if(b===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=fs();else if(b===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(S.pts),this.displayed_=fs()),this.mode_="paintOn",this.startPts_=S.pts;else if(this.isSpecialCharacter(A,F))A=(A&3)<<8,$=Fl(A|F),this[this.mode_](S.pts,$),this.column_++;else if(this.isExtCharacter(A,F))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),A=(A&3)<<8,$=Fl(A|F),this[this.mode_](S.pts,$),this.column_++;else if(this.isMidRowCode(A,F))this.clearFormatting(S.pts),this[this.mode_](S.pts," "),this.column_++,(F&14)===14&&this.addFormatting(S.pts,["i"]),(F&1)===1&&this.addFormatting(S.pts,["u"]);else if(this.isOffsetControlCode(A,F)){const V=F&3;this.nonDisplayed_[this.row_].offset=V,this.column_+=V}else if(this.isPAC(A,F)){var U=HA.indexOf(b&7968);if(this.mode_==="rollUp"&&(U-this.rollUpRows_+1<0&&(U=this.rollUpRows_-1),this.setRollUp(S.pts,U)),U!==this.row_&&U>=0&&U<=14&&(this.clearFormatting(S.pts),this.row_=U),F&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(S.pts,["u"]),(b&16)===16){const V=(b&14)>>1;this.column_=V*4,this.nonDisplayed_[this.row_].indent+=V}this.isColorPAC(F)&&(F&14)===14&&this.addFormatting(S.pts,["i"])}else this.isNormalChar(A)&&(F===0&&(F=null),$=Fl(A),$+=Fl(F),this[this.mode_](S.pts,$),this.column_+=$.length)}};xt.prototype=new pr,xt.prototype.flushDisplayed=function(d){const v=b=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+b+"."})},S=[];this.displayed_.forEach((b,x)=>{if(b&&b.text&&b.text.length){try{b.text=b.text.trim()}catch{v(x)}b.text.length&&S.push({text:b.text,line:x+1,position:10+Math.min(70,b.indent*10)+b.offset*2.5})}else b==null&&v(x)}),S.length&&this.trigger("data",{startPts:this.startPts_,endPts:d,content:S,stream:this.name_})},xt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=fs(),this.nonDisplayed_=fs(),this.lastControlCode_=null,this.column_=0,this.row_=Ml,this.rollUpRows_=2,this.formatting_=[]},xt.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},xt.prototype.isSpecialCharacter=function(d,v){return d===this.EXT_&&v>=48&&v<=63},xt.prototype.isExtCharacter=function(d,v){return(d===this.EXT_+1||d===this.EXT_+2)&&v>=32&&v<=63},xt.prototype.isMidRowCode=function(d,v){return d===this.EXT_&&v>=32&&v<=47},xt.prototype.isOffsetControlCode=function(d,v){return d===this.OFFSET_&&v>=33&&v<=35},xt.prototype.isPAC=function(d,v){return d>=this.BASE_&&d<this.BASE_+8&&v>=64&&v<=127},xt.prototype.isColorPAC=function(d){return d>=64&&d<=79||d>=96&&d<=127},xt.prototype.isNormalChar=function(d){return d>=32&&d<=127},xt.prototype.setRollUp=function(d,v){if(this.mode_!=="rollUp"&&(this.row_=Ml,this.mode_="rollUp",this.flushDisplayed(d),this.nonDisplayed_=fs(),this.displayed_=fs()),v!==void 0&&v!==this.row_)for(var S=0;S<this.rollUpRows_;S++)this.displayed_[v-S]=this.displayed_[this.row_-S],this.displayed_[this.row_-S]={text:"",indent:0,offset:0};v===void 0&&(v=this.row_),this.topRow_=v-this.rollUpRows_+1},xt.prototype.addFormatting=function(d,v){this.formatting_=this.formatting_.concat(v);var S=v.reduce(function(b,x){return b+"<"+x+">"},"");this[this.mode_](d,S)},xt.prototype.clearFormatting=function(d){if(this.formatting_.length){var v=this.formatting_.reverse().reduce(function(S,b){return S+"</"+b+">"},"");this.formatting_=[],this[this.mode_](d,v)}},xt.prototype.popOn=function(d,v){var S=this.nonDisplayed_[this.row_].text;S+=v,this.nonDisplayed_[this.row_].text=S},xt.prototype.rollUp=function(d,v){var S=this.displayed_[this.row_].text;S+=v,this.displayed_[this.row_].text=S},xt.prototype.shiftRowsUp_=function(){var d;for(d=0;d<this.topRow_;d++)this.displayed_[d]={text:"",indent:0,offset:0};for(d=this.row_+1;d<Ml+1;d++)this.displayed_[d]={text:"",indent:0,offset:0};for(d=this.topRow_;d<this.row_;d++)this.displayed_[d]=this.displayed_[d+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},xt.prototype.paintOn=function(d,v){var S=this.displayed_[this.row_].text;S+=v,this.displayed_[this.row_].text=S};var Ny={CaptionStream:St,Cea608Stream:xt,Cea708Stream:st},$l={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},qA=i,VA=8589934592,WA=4294967296,Fy="shared",Eh=function(d,v){var S=1;for(d>v&&(S=-1);Math.abs(v-d)>WA;)d+=S*VA;return d},xh=function(d){var v,S;xh.prototype.init.call(this),this.type_=d||Fy,this.push=function(b){if(b.type==="metadata"){this.trigger("data",b);return}this.type_!==Fy&&b.type!==this.type_||(S===void 0&&(S=b.dts),b.dts=Eh(b.dts,S),b.pts=Eh(b.pts,S),v=b.dts,this.trigger("data",b))},this.flush=function(){S=v,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){S=void 0,v=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};xh.prototype=new qA;var My={TimestampRolloverStream:xh,handleRollover:Eh},zA=(d,v,S)=>{if(!d)return-1;for(var b=S;b<d.length;b++)if(d[b]===v)return b;return-1},GA={typedArrayIndexOf:zA},jl=GA.typedArrayIndexOf,Bl={Utf8:3},$y=function(d,v,S){var b,x="";for(b=v;b<S;b++)x+="%"+("00"+d[b].toString(16)).slice(-2);return x},go=function(d,v,S){return decodeURIComponent($y(d,v,S))},yo=function(d,v,S){return unescape($y(d,v,S))},vo=function(d){return d[0]<<21|d[1]<<14|d[2]<<7|d[3]},_o={APIC:function(d){var v=1,S,b,x="-->";d.data[0]===Bl.Utf8&&(S=jl(d.data,0,v),!(S<0)&&(d.mimeType=yo(d.data,v,S),v=S+1,d.pictureType=d.data[v],v++,b=jl(d.data,0,v),!(b<0)&&(d.description=go(d.data,v,b),v=b+1,d.mimeType===x?d.url=yo(d.data,v,d.data.length):d.pictureData=d.data.subarray(v,d.data.length))))},"T*":function(d){d.data[0]===Bl.Utf8&&(d.value=go(d.data,1,d.data.length).replace(/\0*$/,""),d.values=d.value.split("\0"))},TXXX:function(d){var v;d.data[0]===Bl.Utf8&&(v=jl(d.data,0,1),v!==-1&&(d.description=go(d.data,1,v),d.value=go(d.data,v+1,d.data.length).replace(/\0*$/,""),d.data=d.value))},"W*":function(d){d.url=yo(d.data,0,d.data.length).replace(/\0.*$/,"")},WXXX:function(d){var v;d.data[0]===Bl.Utf8&&(v=jl(d.data,0,1),v!==-1&&(d.description=go(d.data,1,v),d.url=yo(d.data,v+1,d.data.length).replace(/\0.*$/,"")))},PRIV:function(d){var v;for(v=0;v<d.data.length;v++)if(d.data[v]===0){d.owner=yo(d.data,0,v);break}d.privateData=d.data.subarray(v+1),d.data=d.privateData}},KA=function(d){var v,S,b=10,x=0,A=[];if(!(d.length<10||d[0]!==73||d[1]!==68||d[2]!==51)){x=vo(d.subarray(6,10)),x+=10;var F=d[5]&64;F&&(b+=4,b+=vo(d.subarray(10,14)),x-=vo(d.subarray(16,20)));do{if(v=vo(d.subarray(b+4,b+8)),v<1)break;S=String.fromCharCode(d[b],d[b+1],d[b+2],d[b+3]);var $={id:S,data:d.subarray(b+10,b+v+10)};$.key=$.id,_o[$.id]?_o[$.id]($):$.id[0]==="T"?_o["T*"]($):$.id[0]==="W"&&_o["W*"]($),A.push($),b+=10,b+=v}while(b<x);return A}},jy={parseId3Frames:KA,parseSyncSafeInteger:vo,frameParsers:_o},QA=i,XA=$l,In=jy,Ul;Ul=function(d){var v={descriptor:d&&d.descriptor},S=0,b=[],x=0,A;if(Ul.prototype.init.call(this),this.dispatchType=XA.METADATA_STREAM_TYPE.toString(16),v.descriptor)for(A=0;A<v.descriptor.length;A++)this.dispatchType+=("00"+v.descriptor[A].toString(16)).slice(-2);this.push=function(F){var $,U,V,ee,le,Ie;if(F.type==="timed-metadata"){if(F.dataAlignmentIndicator&&(x=0,b.length=0),b.length===0&&(F.data.length<10||F.data[0]!==73||F.data[1]!==68||F.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(b.push(F),x+=F.data.byteLength,b.length===1&&(S=In.parseSyncSafeInteger(F.data.subarray(6,10)),S+=10),!(x<S)){for($={data:new Uint8Array(S),frames:[],pts:b[0].pts,dts:b[0].dts},le=0;le<S;)$.data.set(b[0].data.subarray(0,S-le),le),le+=b[0].data.byteLength,x-=b[0].data.byteLength,b.shift();U=10,$.data[5]&64&&(U+=4,U+=In.parseSyncSafeInteger($.data.subarray(10,14)),S-=In.parseSyncSafeInteger($.data.subarray(16,20)));do{if(V=In.parseSyncSafeInteger($.data.subarray(U+4,U+8)),V<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(Ie=String.fromCharCode($.data[U],$.data[U+1],$.data[U+2],$.data[U+3]),ee={id:Ie,data:$.data.subarray(U+10,U+V+10)},ee.key=ee.id,In.frameParsers[ee.id]?In.frameParsers[ee.id](ee):ee.id[0]==="T"?In.frameParsers["T*"](ee):ee.id[0]==="W"&&In.frameParsers["W*"](ee),ee.owner==="com.apple.streaming.transportStreamTimestamp"){var ve=ee.data,Be=(ve[3]&1)<<30|ve[4]<<22|ve[5]<<14|ve[6]<<6|ve[7]>>>2;Be*=4,Be+=ve[7]&3,ee.timeStamp=Be,$.pts===void 0&&$.dts===void 0&&($.pts=ee.timeStamp,$.dts=ee.timeStamp),this.trigger("timestamp",ee)}$.frames.push(ee),U+=10,U+=V}while(U<S);this.trigger("data",$)}}}},Ul.prototype=new QA;var YA=Ul,wh=i,Ch=Ny,gr=$l,JA=My.TimestampRolloverStream,Hl,bo,ql,Us=188,Ah=71;Hl=function(){var d=new Uint8Array(Us),v=0;Hl.prototype.init.call(this),this.push=function(S){var b=0,x=Us,A;for(v?(A=new Uint8Array(S.byteLength+v),A.set(d.subarray(0,v)),A.set(S,v),v=0):A=S;x<A.byteLength;){if(A[b]===Ah&&A[x]===Ah){this.trigger("data",A.subarray(b,x)),b+=Us,x+=Us;continue}b++,x++}b<A.byteLength&&(d.set(A.subarray(b),0),v=A.byteLength-b)},this.flush=function(){v===Us&&d[0]===Ah&&(this.trigger("data",d),v=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){v=0,this.trigger("reset")}},Hl.prototype=new wh,bo=function(){var d,v,S,b;bo.prototype.init.call(this),b=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,d=function(x,A){var F=0;A.payloadUnitStartIndicator&&(F+=x[F]+1),A.type==="pat"?v(x.subarray(F),A):S(x.subarray(F),A)},v=function(x,A){A.section_number=x[7],A.last_section_number=x[8],b.pmtPid=(x[10]&31)<<8|x[11],A.pmtPid=b.pmtPid},S=function(x,A){var F,$,U,V;if(x[5]&1){for(b.programMapTable={video:null,audio:null,"timed-metadata":{}},F=(x[1]&15)<<8|x[2],$=3+F-4,U=(x[10]&15)<<8|x[11],V=12+U;V<$;){var ee=x[V],le=(x[V+1]&31)<<8|x[V+2];ee===gr.H264_STREAM_TYPE&&b.programMapTable.video===null?b.programMapTable.video=le:ee===gr.ADTS_STREAM_TYPE&&b.programMapTable.audio===null?b.programMapTable.audio=le:ee===gr.METADATA_STREAM_TYPE&&(b.programMapTable["timed-metadata"][le]=ee),V+=((x[V+3]&15)<<8|x[V+4])+5}A.programMapTable=b.programMapTable}},this.push=function(x){var A={},F=4;if(A.payloadUnitStartIndicator=!!(x[1]&64),A.pid=x[1]&31,A.pid<<=8,A.pid|=x[2],(x[3]&48)>>>4>1&&(F+=x[F]+1),A.pid===0)A.type="pat",d(x.subarray(F),A),this.trigger("data",A);else if(A.pid===this.pmtPid)for(A.type="pmt",d(x.subarray(F),A),this.trigger("data",A);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([x,F,A]):this.processPes_(x,F,A)},this.processPes_=function(x,A,F){F.pid===this.programMapTable.video?F.streamType=gr.H264_STREAM_TYPE:F.pid===this.programMapTable.audio?F.streamType=gr.ADTS_STREAM_TYPE:F.streamType=this.programMapTable["timed-metadata"][F.pid],F.type="pes",F.data=x.subarray(A),this.trigger("data",F)}},bo.prototype=new wh,bo.STREAM_TYPES={h264:27,adts:15},ql=function(){var d=this,v=!1,S={data:[],size:0},b={data:[],size:0},x={data:[],size:0},A,F=function(U,V){var ee;const le=U[0]<<16|U[1]<<8|U[2];V.data=new Uint8Array,le===1&&(V.packetLength=6+(U[4]<<8|U[5]),V.dataAlignmentIndicator=(U[6]&4)!==0,ee=U[7],ee&192&&(V.pts=(U[9]&14)<<27|(U[10]&255)<<20|(U[11]&254)<<12|(U[12]&255)<<5|(U[13]&254)>>>3,V.pts*=4,V.pts+=(U[13]&6)>>>1,V.dts=V.pts,ee&64&&(V.dts=(U[14]&14)<<27|(U[15]&255)<<20|(U[16]&254)<<12|(U[17]&255)<<5|(U[18]&254)>>>3,V.dts*=4,V.dts+=(U[18]&6)>>>1)),V.data=U.subarray(9+U[8]))},$=function(U,V,ee){var le=new Uint8Array(U.size),Ie={type:V},ve=0,Be=0,Xe=!1,Vt;if(!(!U.data.length||U.size<9)){for(Ie.trackId=U.data[0].pid,ve=0;ve<U.data.length;ve++)Vt=U.data[ve],le.set(Vt.data,Be),Be+=Vt.data.byteLength;F(le,Ie),Xe=V==="video"||Ie.packetLength<=U.size,(ee||Xe)&&(U.size=0,U.data.length=0),Xe&&d.trigger("data",Ie)}};ql.prototype.init.call(this),this.push=function(U){({pat:function(){},pes:function(){var V,ee;switch(U.streamType){case gr.H264_STREAM_TYPE:V=S,ee="video";break;case gr.ADTS_STREAM_TYPE:V=b,ee="audio";break;case gr.METADATA_STREAM_TYPE:V=x,ee="timed-metadata";break;default:return}U.payloadUnitStartIndicator&&$(V,ee,!0),V.data.push(U),V.size+=U.data.byteLength},pmt:function(){var V={type:"metadata",tracks:[]};A=U.programMapTable,A.video!==null&&V.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+A.video,codec:"avc",type:"video"}),A.audio!==null&&V.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+A.audio,codec:"adts",type:"audio"}),v=!0,d.trigger("data",V)}})[U.type]()},this.reset=function(){S.size=0,S.data.length=0,b.size=0,b.data.length=0,this.trigger("reset")},this.flushStreams_=function(){$(S,"video"),$(b,"audio"),$(x,"timed-metadata")},this.flush=function(){if(!v&&A){var U={type:"metadata",tracks:[]};A.video!==null&&U.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+A.video,codec:"avc",type:"video"}),A.audio!==null&&U.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+A.audio,codec:"adts",type:"audio"}),d.trigger("data",U)}v=!1,this.flushStreams_(),this.trigger("done")}},ql.prototype=new wh;var By={PAT_PID:0,MP2T_PACKET_LENGTH:Us,TransportPacketStream:Hl,TransportParseStream:bo,ElementaryStream:ql,TimestampRolloverStream:JA,CaptionStream:Ch.CaptionStream,Cea608Stream:Ch.Cea608Stream,Cea708Stream:Ch.Cea708Stream,MetadataStream:YA};for(var Ph in gr)gr.hasOwnProperty(Ph)&&(By[Ph]=gr[Ph]);var ZA=By,eP=i,tP=Ye.ONE_SECOND_IN_TS,Vl,Uy=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Vl=function(d){var v,S=0;Vl.prototype.init.call(this),this.skipWarn_=function(b,x){this.trigger("log",{level:"warn",message:`adts skiping bytes ${b} to ${x} in frame ${S} outside syncword`})},this.push=function(b){var x=0,A,F,$,U,V;if(d||(S=0),b.type==="audio"){v&&v.length?($=v,v=new Uint8Array($.byteLength+b.data.byteLength),v.set($),v.set(b.data,$.byteLength)):v=b.data;for(var ee;x+7<v.length;){if(v[x]!==255||(v[x+1]&246)!==240){typeof ee!="number"&&(ee=x),x++;continue}if(typeof ee=="number"&&(this.skipWarn_(ee,x),ee=null),F=(~v[x+1]&1)*2,A=(v[x+3]&3)<<11|v[x+4]<<3|(v[x+5]&224)>>5,U=((v[x+6]&3)+1)*1024,V=U*tP/Uy[(v[x+2]&60)>>>2],v.byteLength-x<A)break;this.trigger("data",{pts:b.pts+S*V,dts:b.dts+S*V,sampleCount:U,audioobjecttype:(v[x+2]>>>6&3)+1,channelcount:(v[x+2]&1)<<2|(v[x+3]&192)>>>6,samplerate:Uy[(v[x+2]&60)>>>2],samplingfrequencyindex:(v[x+2]&60)>>>2,samplesize:16,data:v.subarray(x+7+F,x+A)}),S++,x+=A}typeof ee=="number"&&(this.skipWarn_(ee,x),ee=null),v=v.subarray(x)}},this.flush=function(){S=0,this.trigger("done")},this.reset=function(){v=void 0,this.trigger("reset")},this.endTimeline=function(){v=void 0,this.trigger("endedtimeline")}},Vl.prototype=new eP;var iP=Vl,Hy;Hy=function(d){var v=d.byteLength,S=0,b=0;this.length=function(){return 8*v},this.bitsAvailable=function(){return 8*v+b},this.loadWord=function(){var x=d.byteLength-v,A=new Uint8Array(4),F=Math.min(4,v);if(F===0)throw new Error("no bytes available");A.set(d.subarray(x,x+F)),S=new DataView(A.buffer).getUint32(0),b=F*8,v-=F},this.skipBits=function(x){var A;b>x?(S<<=x,b-=x):(x-=b,A=Math.floor(x/8),x-=A*8,v-=A,this.loadWord(),S<<=x,b-=x)},this.readBits=function(x){var A=Math.min(b,x),F=S>>>32-A;return b-=A,b>0?S<<=A:v>0&&this.loadWord(),A=x-A,A>0?F<<A|this.readBits(A):F},this.skipLeadingZeros=function(){var x;for(x=0;x<b;++x)if((S&2147483648>>>x)!==0)return S<<=x,b-=x,x;return this.loadWord(),x+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var x=this.skipLeadingZeros();return this.readBits(x+1)-1},this.readExpGolomb=function(){var x=this.readUnsignedExpGolomb();return 1&x?1+x>>>1:-1*(x>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var rP=Hy,qy=i,nP=rP,Wl,zl,Vy;zl=function(){var d=0,v,S;zl.prototype.init.call(this),this.push=function(b){var x;S?(x=new Uint8Array(S.byteLength+b.data.byteLength),x.set(S),x.set(b.data,S.byteLength),S=x):S=b.data;for(var A=S.byteLength;d<A-3;d++)if(S[d+2]===1){v=d+5;break}for(;v<A;)switch(S[v]){case 0:if(S[v-1]!==0){v+=2;break}else if(S[v-2]!==0){v++;break}d+3!==v-2&&this.trigger("data",S.subarray(d+3,v-2));do v++;while(S[v]!==1&&v<A);d=v-2,v+=3;break;case 1:if(S[v-1]!==0||S[v-2]!==0){v+=3;break}this.trigger("data",S.subarray(d+3,v-2)),d=v-2,v+=3;break;default:v+=3;break}S=S.subarray(d),v-=d,d=0},this.reset=function(){S=null,d=0,this.trigger("reset")},this.flush=function(){S&&S.byteLength>3&&this.trigger("data",S.subarray(d+3)),S=null,d=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},zl.prototype=new qy,Vy={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Wl=function(){var d=new zl,v,S,b,x,A,F,$;Wl.prototype.init.call(this),v=this,this.push=function(U){U.type==="video"&&(S=U.trackId,b=U.pts,x=U.dts,d.push(U))},d.on("data",function(U){var V={trackId:S,pts:b,dts:x,data:U,nalUnitTypeCode:U[0]&31};switch(V.nalUnitTypeCode){case 5:V.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:V.nalUnitType="sei_rbsp",V.escapedRBSP=A(U.subarray(1));break;case 7:V.nalUnitType="seq_parameter_set_rbsp",V.escapedRBSP=A(U.subarray(1)),V.config=F(V.escapedRBSP);break;case 8:V.nalUnitType="pic_parameter_set_rbsp";break;case 9:V.nalUnitType="access_unit_delimiter_rbsp";break}v.trigger("data",V)}),d.on("done",function(){v.trigger("done")}),d.on("partialdone",function(){v.trigger("partialdone")}),d.on("reset",function(){v.trigger("reset")}),d.on("endedtimeline",function(){v.trigger("endedtimeline")}),this.flush=function(){d.flush()},this.partialFlush=function(){d.partialFlush()},this.reset=function(){d.reset()},this.endTimeline=function(){d.endTimeline()},$=function(U,V){var ee=8,le=8,Ie,ve;for(Ie=0;Ie<U;Ie++)le!==0&&(ve=V.readExpGolomb(),le=(ee+ve+256)%256),ee=le===0?ee:le},A=function(U){for(var V=U.byteLength,ee=[],le=1,Ie,ve;le<V-2;)U[le]===0&&U[le+1]===0&&U[le+2]===3?(ee.push(le+2),le+=2):le++;if(ee.length===0)return U;Ie=V-ee.length,ve=new Uint8Array(Ie);var Be=0;for(le=0;le<Ie;Be++,le++)Be===ee[0]&&(Be++,ee.shift()),ve[le]=U[Be];return ve},F=function(U){var V=0,ee=0,le=0,Ie=0,ve,Be,Xe,Vt,Ni,Ln,Ao,Po,Oo,Ro,nc,Tt=[1,1],Do,vr;if(ve=new nP(U),Be=ve.readUnsignedByte(),Vt=ve.readUnsignedByte(),Xe=ve.readUnsignedByte(),ve.skipUnsignedExpGolomb(),Vy[Be]&&(Ni=ve.readUnsignedExpGolomb(),Ni===3&&ve.skipBits(1),ve.skipUnsignedExpGolomb(),ve.skipUnsignedExpGolomb(),ve.skipBits(1),ve.readBoolean()))for(nc=Ni!==3?8:12,vr=0;vr<nc;vr++)ve.readBoolean()&&(vr<6?$(16,ve):$(64,ve));if(ve.skipUnsignedExpGolomb(),Ln=ve.readUnsignedExpGolomb(),Ln===0)ve.readUnsignedExpGolomb();else if(Ln===1)for(ve.skipBits(1),ve.skipExpGolomb(),ve.skipExpGolomb(),Ao=ve.readUnsignedExpGolomb(),vr=0;vr<Ao;vr++)ve.skipExpGolomb();if(ve.skipUnsignedExpGolomb(),ve.skipBits(1),Po=ve.readUnsignedExpGolomb(),Oo=ve.readUnsignedExpGolomb(),Ro=ve.readBits(1),Ro===0&&ve.skipBits(1),ve.skipBits(1),ve.readBoolean()&&(V=ve.readUnsignedExpGolomb(),ee=ve.readUnsignedExpGolomb(),le=ve.readUnsignedExpGolomb(),Ie=ve.readUnsignedExpGolomb()),ve.readBoolean()&&ve.readBoolean()){switch(Do=ve.readUnsignedByte(),Do){case 1:Tt=[1,1];break;case 2:Tt=[12,11];break;case 3:Tt=[10,11];break;case 4:Tt=[16,11];break;case 5:Tt=[40,33];break;case 6:Tt=[24,11];break;case 7:Tt=[20,11];break;case 8:Tt=[32,11];break;case 9:Tt=[80,33];break;case 10:Tt=[18,11];break;case 11:Tt=[15,11];break;case 12:Tt=[64,33];break;case 13:Tt=[160,99];break;case 14:Tt=[4,3];break;case 15:Tt=[3,2];break;case 16:Tt=[2,1];break;case 255:{Tt=[ve.readUnsignedByte()<<8|ve.readUnsignedByte(),ve.readUnsignedByte()<<8|ve.readUnsignedByte()];break}}Tt&&Tt[0]/Tt[1]}return{profileIdc:Be,levelIdc:Xe,profileCompatibility:Vt,width:(Po+1)*16-V*2-ee*2,height:(2-Ro)*(Oo+1)*16-le*2-Ie*2,sarRatio:Tt}}},Wl.prototype=new qy;var sP={H264Stream:Wl},aP=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Wy=function(d,v){var S=d[v+6]<<21|d[v+7]<<14|d[v+8]<<7|d[v+9],b=d[v+5],x=(b&16)>>4;return S=S>=0?S:0,x?S+20:S+10},zy=function(d,v){return d.length-v<10||d[v]!==73||d[v+1]!==68||d[v+2]!==51?v:(v+=Wy(d,v),zy(d,v))},oP=function(d){var v=zy(d,0);return d.length>=v+2&&(d[v]&255)===255&&(d[v+1]&240)===240&&(d[v+1]&22)===16},Gy=function(d){return d[0]<<21|d[1]<<14|d[2]<<7|d[3]},uP=function(d,v,S){var b,x="";for(b=v;b<S;b++)x+="%"+("00"+d[b].toString(16)).slice(-2);return x},lP=function(d,v,S){return unescape(uP(d,v,S))},cP=function(d,v){var S=(d[v+5]&224)>>5,b=d[v+4]<<3,x=d[v+3]&6144;return x|b|S},dP=function(d,v){return d[v]===73&&d[v+1]===68&&d[v+2]===51?"timed-metadata":d[v]&!0&&(d[v+1]&240)===240?"audio":null},hP=function(d){for(var v=0;v+5<d.length;){if(d[v]!==255||(d[v+1]&246)!==240){v++;continue}return aP[(d[v+2]&60)>>>2]}return null},fP=function(d){var v,S,b,x;v=10,d[5]&64&&(v+=4,v+=Gy(d.subarray(10,14)));do{if(S=Gy(d.subarray(v+4,v+8)),S<1)return null;if(x=String.fromCharCode(d[v],d[v+1],d[v+2],d[v+3]),x==="PRIV"){b=d.subarray(v+10,v+S+10);for(var A=0;A<b.byteLength;A++)if(b[A]===0){var F=lP(b,0,A);if(F==="com.apple.streaming.transportStreamTimestamp"){var $=b.subarray(A+1),U=($[3]&1)<<30|$[4]<<22|$[5]<<14|$[6]<<6|$[7]>>>2;return U*=4,U+=$[7]&3,U}break}}v+=10,v+=S}while(v<d.byteLength);return null},Oh={isLikelyAacData:oP,parseId3TagSize:Wy,parseAdtsSize:cP,parseType:dP,parseSampleRate:hP,parseAacTimestamp:fP},pP=i,Ky=Oh,Gl;Gl=function(){var d=new Uint8Array,v=0;Gl.prototype.init.call(this),this.setTimestamp=function(S){v=S},this.push=function(S){var b=0,x=0,A,F,$,U;for(d.length?(U=d.length,d=new Uint8Array(S.byteLength+U),d.set(d.subarray(0,U)),d.set(S,U)):d=S;d.length-x>=3;){if(d[x]===73&&d[x+1]===68&&d[x+2]===51){if(d.length-x<10||(b=Ky.parseId3TagSize(d,x),x+b>d.length))break;F={type:"timed-metadata",data:d.subarray(x,x+b)},this.trigger("data",F),x+=b;continue}else if((d[x]&255)===255&&(d[x+1]&240)===240){if(d.length-x<7||(b=Ky.parseAdtsSize(d,x),x+b>d.length))break;$={type:"audio",data:d.subarray(x,x+b),pts:v,dts:v},this.trigger("data",$),x+=b;continue}x++}A=d.length-x,A>0?d=d.subarray(x):d=new Uint8Array},this.reset=function(){d=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){d=new Uint8Array,this.trigger("endedtimeline")}},Gl.prototype=new pP;var mP=Gl,gP=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],yP=gP,vP=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],_P=vP,Kl=i,So=re,To=be,Ql=Nl,yr=De,on=ZA,Xl=Ye,Qy=iP,bP=sP.H264Stream,SP=mP,TP=Oh.isLikelyAacData,EP=Ye.ONE_SECOND_IN_TS,Xy=yP,Yy=_P,Yl,Eo,Jl,ps,xP=function(d,v){v.stream=d,this.trigger("log",v)},Jy=function(d,v){for(var S=Object.keys(v),b=0;b<S.length;b++){var x=S[b];x==="headOfPipeline"||!v[x].on||v[x].on("log",xP.bind(d,x))}},Zy=function(d,v){var S;if(d.length!==v.length)return!1;for(S=0;S<d.length;S++)if(d[S]!==v[S])return!1;return!0},ev=function(d,v,S,b,x,A){var F=S-v,$=b-v,U=x-S;return{start:{dts:d,pts:d+F},end:{dts:d+$,pts:d+U},prependedContentDuration:A,baseMediaDecodeTime:d}};Eo=function(d,v){var S=[],b,x=0,A=0,F=1/0;v=v||{},b=v.firstSequenceNumber||0,Eo.prototype.init.call(this),this.push=function($){yr.collectDtsInfo(d,$),d&&Xy.forEach(function(U){d[U]=$[U]}),S.push($)},this.setEarliestDts=function($){x=$},this.setVideoBaseMediaDecodeTime=function($){F=$},this.setAudioAppendStart=function($){A=$},this.flush=function(){var $,U,V,ee,le,Ie,ve;if(S.length===0){this.trigger("done","AudioSegmentStream");return}$=Ql.trimAdtsFramesByEarliestDts(S,d,x),d.baseMediaDecodeTime=yr.calculateTrackBaseMediaDecodeTime(d,v.keepOriginalTimestamps),ve=Ql.prefixWithSilence(d,$,A,F),d.samples=Ql.generateSampleTable($),V=So.mdat(Ql.concatenateFrameData($)),S=[],U=So.moof(b,[d]),ee=new Uint8Array(U.byteLength+V.byteLength),b++,ee.set(U),ee.set(V,U.byteLength),yr.clearDtsInfo(d),le=Math.ceil(EP*1024/d.samplerate),$.length&&(Ie=$.length*le,this.trigger("segmentTimingInfo",ev(Xl.audioTsToVideoTs(d.baseMediaDecodeTime,d.samplerate),$[0].dts,$[0].pts,$[0].dts+Ie,$[0].pts+Ie,ve||0)),this.trigger("timingInfo",{start:$[0].pts,end:$[0].pts+Ie})),this.trigger("data",{track:d,boxes:ee}),this.trigger("done","AudioSegmentStream")},this.reset=function(){yr.clearDtsInfo(d),S=[],this.trigger("reset")}},Eo.prototype=new Kl,Yl=function(d,v){var S,b=[],x=[],A,F;v=v||{},S=v.firstSequenceNumber||0,Yl.prototype.init.call(this),delete d.minPTS,this.gopCache_=[],this.push=function($){yr.collectDtsInfo(d,$),$.nalUnitType==="seq_parameter_set_rbsp"&&!A&&(A=$.config,d.sps=[$.data],Yy.forEach(function(U){d[U]=A[U]},this)),$.nalUnitType==="pic_parameter_set_rbsp"&&!F&&(F=$.data,d.pps=[$.data]),b.push($)},this.flush=function(){for(var $,U,V,ee,le,Ie,ve=0,Be,Xe;b.length&&b[0].nalUnitType!=="access_unit_delimiter_rbsp";)b.shift();if(b.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if($=To.groupNalsIntoFrames(b),V=To.groupFramesIntoGops($),V[0][0].keyFrame||(U=this.getGopForFusion_(b[0],d),U?(ve=U.duration,V.unshift(U),V.byteLength+=U.byteLength,V.nalCount+=U.nalCount,V.pts=U.pts,V.dts=U.dts,V.duration+=U.duration):V=To.extendFirstKeyFrame(V)),x.length){var Vt;if(v.alignGopsAtEnd?Vt=this.alignGopsAtEnd_(V):Vt=this.alignGopsAtStart_(V),!Vt){this.gopCache_.unshift({gop:V.pop(),pps:d.pps,sps:d.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),b=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}yr.clearDtsInfo(d),V=Vt}yr.collectDtsInfo(d,V),d.samples=To.generateSampleTable(V),le=So.mdat(To.concatenateNalData(V)),d.baseMediaDecodeTime=yr.calculateTrackBaseMediaDecodeTime(d,v.keepOriginalTimestamps),this.trigger("processedGopsInfo",V.map(function(Ni){return{pts:Ni.pts,dts:Ni.dts,byteLength:Ni.byteLength}})),Be=V[0],Xe=V[V.length-1],this.trigger("segmentTimingInfo",ev(d.baseMediaDecodeTime,Be.dts,Be.pts,Xe.dts+Xe.duration,Xe.pts+Xe.duration,ve)),this.trigger("timingInfo",{start:V[0].pts,end:V[V.length-1].pts+V[V.length-1].duration}),this.gopCache_.unshift({gop:V.pop(),pps:d.pps,sps:d.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),b=[],this.trigger("baseMediaDecodeTime",d.baseMediaDecodeTime),this.trigger("timelineStartInfo",d.timelineStartInfo),ee=So.moof(S,[d]),Ie=new Uint8Array(ee.byteLength+le.byteLength),S++,Ie.set(ee),Ie.set(le,ee.byteLength),this.trigger("data",{track:d,boxes:Ie}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),b=[],this.gopCache_.length=0,x.length=0,this.trigger("reset")},this.resetStream_=function(){yr.clearDtsInfo(d),A=void 0,F=void 0},this.getGopForFusion_=function($){var U=45e3,V=1/0,ee,le,Ie,ve,Be;for(Be=0;Be<this.gopCache_.length;Be++)ve=this.gopCache_[Be],Ie=ve.gop,!(!(d.pps&&Zy(d.pps[0],ve.pps[0]))||!(d.sps&&Zy(d.sps[0],ve.sps[0])))&&(Ie.dts<d.timelineStartInfo.dts||(ee=$.dts-Ie.dts-Ie.duration,ee>=-1e4&&ee<=U&&(!le||V>ee)&&(le=ve,V=ee)));return le?le.gop:null},this.alignGopsAtStart_=function($){var U,V,ee,le,Ie,ve,Be,Xe;for(Ie=$.byteLength,ve=$.nalCount,Be=$.duration,U=V=0;U<x.length&&V<$.length&&(ee=x[U],le=$[V],ee.pts!==le.pts);){if(le.pts>ee.pts){U++;continue}V++,Ie-=le.byteLength,ve-=le.nalCount,Be-=le.duration}return V===0?$:V===$.length?null:(Xe=$.slice(V),Xe.byteLength=Ie,Xe.duration=Be,Xe.nalCount=ve,Xe.pts=Xe[0].pts,Xe.dts=Xe[0].dts,Xe)},this.alignGopsAtEnd_=function($){var U,V,ee,le,Ie,ve;for(U=x.length-1,V=$.length-1,Ie=null,ve=!1;U>=0&&V>=0;){if(ee=x[U],le=$[V],ee.pts===le.pts){ve=!0;break}if(ee.pts>le.pts){U--;continue}U===x.length-1&&(Ie=V),V--}if(!ve&&Ie===null)return null;var Be;if(ve?Be=V:Be=Ie,Be===0)return $;var Xe=$.slice(Be),Vt=Xe.reduce(function(Ni,Ln){return Ni.byteLength+=Ln.byteLength,Ni.duration+=Ln.duration,Ni.nalCount+=Ln.nalCount,Ni},{byteLength:0,duration:0,nalCount:0});return Xe.byteLength=Vt.byteLength,Xe.duration=Vt.duration,Xe.nalCount=Vt.nalCount,Xe.pts=Xe[0].pts,Xe.dts=Xe[0].dts,Xe},this.alignGopsWith=function($){x=$}},Yl.prototype=new Kl,ps=function(d,v){this.numberOfTracks=0,this.metadataStream=v,d=d||{},typeof d.remux<"u"?this.remuxTracks=!!d.remux:this.remuxTracks=!0,typeof d.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=d.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,ps.prototype.init.call(this),this.push=function(S){if(S.content||S.text)return this.pendingCaptions.push(S);if(S.frames)return this.pendingMetadata.push(S);this.pendingTracks.push(S.track),this.pendingBytes+=S.boxes.byteLength,S.track.type==="video"&&(this.videoTrack=S.track,this.pendingBoxes.push(S.boxes)),S.track.type==="audio"&&(this.audioTrack=S.track,this.pendingBoxes.unshift(S.boxes))}},ps.prototype=new Kl,ps.prototype.flush=function(d){var v=0,S={captions:[],captionStreams:{},metadata:[],info:{}},b,x,A,F=0,$;if(this.pendingTracks.length<this.numberOfTracks){if(d!=="VideoSegmentStream"&&d!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(F=this.videoTrack.timelineStartInfo.pts,Yy.forEach(function(U){S.info[U]=this.videoTrack[U]},this)):this.audioTrack&&(F=this.audioTrack.timelineStartInfo.pts,Xy.forEach(function(U){S.info[U]=this.audioTrack[U]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?S.type=this.pendingTracks[0].type:S.type="combined",this.emittedTracks+=this.pendingTracks.length,A=So.initSegment(this.pendingTracks),S.initSegment=new Uint8Array(A.byteLength),S.initSegment.set(A),S.data=new Uint8Array(this.pendingBytes),$=0;$<this.pendingBoxes.length;$++)S.data.set(this.pendingBoxes[$],v),v+=this.pendingBoxes[$].byteLength;for($=0;$<this.pendingCaptions.length;$++)b=this.pendingCaptions[$],b.startTime=Xl.metadataTsToSeconds(b.startPts,F,this.keepOriginalTimestamps),b.endTime=Xl.metadataTsToSeconds(b.endPts,F,this.keepOriginalTimestamps),S.captionStreams[b.stream]=!0,S.captions.push(b);for($=0;$<this.pendingMetadata.length;$++)x=this.pendingMetadata[$],x.cueTime=Xl.metadataTsToSeconds(x.pts,F,this.keepOriginalTimestamps),S.metadata.push(x);for(S.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",S),$=0;$<S.captions.length;$++)b=S.captions[$],this.trigger("caption",b);for($=0;$<S.metadata.length;$++)x=S.metadata[$],this.trigger("id3Frame",x)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},ps.prototype.setRemux=function(d){this.remuxTracks=d},Jl=function(d){var v=this,S=!0,b,x;Jl.prototype.init.call(this),d=d||{},this.baseMediaDecodeTime=d.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var A={};this.transmuxPipeline_=A,A.type="aac",A.metadataStream=new on.MetadataStream,A.aacStream=new SP,A.audioTimestampRolloverStream=new on.TimestampRolloverStream("audio"),A.timedMetadataTimestampRolloverStream=new on.TimestampRolloverStream("timed-metadata"),A.adtsStream=new Qy,A.coalesceStream=new ps(d,A.metadataStream),A.headOfPipeline=A.aacStream,A.aacStream.pipe(A.audioTimestampRolloverStream).pipe(A.adtsStream),A.aacStream.pipe(A.timedMetadataTimestampRolloverStream).pipe(A.metadataStream).pipe(A.coalesceStream),A.metadataStream.on("timestamp",function(F){A.aacStream.setTimestamp(F.timeStamp)}),A.aacStream.on("data",function(F){F.type!=="timed-metadata"&&F.type!=="audio"||A.audioSegmentStream||(x=x||{timelineStartInfo:{baseMediaDecodeTime:v.baseMediaDecodeTime},codec:"adts",type:"audio"},A.coalesceStream.numberOfTracks++,A.audioSegmentStream=new Eo(x,d),A.audioSegmentStream.on("log",v.getLogTrigger_("audioSegmentStream")),A.audioSegmentStream.on("timingInfo",v.trigger.bind(v,"audioTimingInfo")),A.adtsStream.pipe(A.audioSegmentStream).pipe(A.coalesceStream),v.trigger("trackinfo",{hasAudio:!!x,hasVideo:!!b}))}),A.coalesceStream.on("data",this.trigger.bind(this,"data")),A.coalesceStream.on("done",this.trigger.bind(this,"done")),Jy(this,A)},this.setupTsPipeline=function(){var A={};this.transmuxPipeline_=A,A.type="ts",A.metadataStream=new on.MetadataStream,A.packetStream=new on.TransportPacketStream,A.parseStream=new on.TransportParseStream,A.elementaryStream=new on.ElementaryStream,A.timestampRolloverStream=new on.TimestampRolloverStream,A.adtsStream=new Qy,A.h264Stream=new bP,A.captionStream=new on.CaptionStream(d),A.coalesceStream=new ps(d,A.metadataStream),A.headOfPipeline=A.packetStream,A.packetStream.pipe(A.parseStream).pipe(A.elementaryStream).pipe(A.timestampRolloverStream),A.timestampRolloverStream.pipe(A.h264Stream),A.timestampRolloverStream.pipe(A.adtsStream),A.timestampRolloverStream.pipe(A.metadataStream).pipe(A.coalesceStream),A.h264Stream.pipe(A.captionStream).pipe(A.coalesceStream),A.elementaryStream.on("data",function(F){var $;if(F.type==="metadata"){for($=F.tracks.length;$--;)!b&&F.tracks[$].type==="video"?(b=F.tracks[$],b.timelineStartInfo.baseMediaDecodeTime=v.baseMediaDecodeTime):!x&&F.tracks[$].type==="audio"&&(x=F.tracks[$],x.timelineStartInfo.baseMediaDecodeTime=v.baseMediaDecodeTime);b&&!A.videoSegmentStream&&(A.coalesceStream.numberOfTracks++,A.videoSegmentStream=new Yl(b,d),A.videoSegmentStream.on("log",v.getLogTrigger_("videoSegmentStream")),A.videoSegmentStream.on("timelineStartInfo",function(U){x&&!d.keepOriginalTimestamps&&(x.timelineStartInfo=U,A.audioSegmentStream.setEarliestDts(U.dts-v.baseMediaDecodeTime))}),A.videoSegmentStream.on("processedGopsInfo",v.trigger.bind(v,"gopInfo")),A.videoSegmentStream.on("segmentTimingInfo",v.trigger.bind(v,"videoSegmentTimingInfo")),A.videoSegmentStream.on("baseMediaDecodeTime",function(U){x&&A.audioSegmentStream.setVideoBaseMediaDecodeTime(U)}),A.videoSegmentStream.on("timingInfo",v.trigger.bind(v,"videoTimingInfo")),A.h264Stream.pipe(A.videoSegmentStream).pipe(A.coalesceStream)),x&&!A.audioSegmentStream&&(A.coalesceStream.numberOfTracks++,A.audioSegmentStream=new Eo(x,d),A.audioSegmentStream.on("log",v.getLogTrigger_("audioSegmentStream")),A.audioSegmentStream.on("timingInfo",v.trigger.bind(v,"audioTimingInfo")),A.audioSegmentStream.on("segmentTimingInfo",v.trigger.bind(v,"audioSegmentTimingInfo")),A.adtsStream.pipe(A.audioSegmentStream).pipe(A.coalesceStream)),v.trigger("trackinfo",{hasAudio:!!x,hasVideo:!!b})}}),A.coalesceStream.on("data",this.trigger.bind(this,"data")),A.coalesceStream.on("id3Frame",function(F){F.dispatchType=A.metadataStream.dispatchType,v.trigger("id3Frame",F)}),A.coalesceStream.on("caption",this.trigger.bind(this,"caption")),A.coalesceStream.on("done",this.trigger.bind(this,"done")),Jy(this,A)},this.setBaseMediaDecodeTime=function(A){var F=this.transmuxPipeline_;d.keepOriginalTimestamps||(this.baseMediaDecodeTime=A),x&&(x.timelineStartInfo.dts=void 0,x.timelineStartInfo.pts=void 0,yr.clearDtsInfo(x),F.audioTimestampRolloverStream&&F.audioTimestampRolloverStream.discontinuity()),b&&(F.videoSegmentStream&&(F.videoSegmentStream.gopCache_=[]),b.timelineStartInfo.dts=void 0,b.timelineStartInfo.pts=void 0,yr.clearDtsInfo(b),F.captionStream.reset()),F.timestampRolloverStream&&F.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(A){x&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(A)},this.setRemux=function(A){var F=this.transmuxPipeline_;d.remux=A,F&&F.coalesceStream&&F.coalesceStream.setRemux(A)},this.alignGopsWith=function(A){b&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(A)},this.getLogTrigger_=function(A){var F=this;return function($){$.stream=A,F.trigger("log",$)}},this.push=function(A){if(S){var F=TP(A);F&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!F&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),S=!1}this.transmuxPipeline_.headOfPipeline.push(A)},this.flush=function(){S=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Jl.prototype=new Kl;var wP={Transmuxer:Jl},CP=function(d){return d>>>0},AP=function(d){return("00"+d.toString(16)).slice(-2)},Zl={toUnsigned:CP,toHexString:AP},PP=function(d){var v="";return v+=String.fromCharCode(d[0]),v+=String.fromCharCode(d[1]),v+=String.fromCharCode(d[2]),v+=String.fromCharCode(d[3]),v},tv=PP,OP=Zl.toUnsigned,RP=tv,iv=function(d,v){var S=[],b,x,A,F,$;if(!v.length)return null;for(b=0;b<d.byteLength;)x=OP(d[b]<<24|d[b+1]<<16|d[b+2]<<8|d[b+3]),A=RP(d.subarray(b+4,b+8)),F=x>1?b+x:d.byteLength,A===v[0]&&(v.length===1?S.push(d.subarray(b+8,F)):($=iv(d.subarray(b+8,F),v.slice(1)),$.length&&(S=S.concat($)))),b=F;return S},Rh=iv,DP=Zl.toUnsigned,IP=s.getUint64,kP=function(d){var v={version:d[0],flags:new Uint8Array(d.subarray(1,4))};return v.version===1?v.baseMediaDecodeTime=IP(d.subarray(4)):v.baseMediaDecodeTime=DP(d[4]<<24|d[5]<<16|d[6]<<8|d[7]),v},Dh=kP,LP=function(d){var v=new DataView(d.buffer,d.byteOffset,d.byteLength),S={version:d[0],flags:new Uint8Array(d.subarray(1,4)),trackId:v.getUint32(4)},b=S.flags[2]&1,x=S.flags[2]&2,A=S.flags[2]&8,F=S.flags[2]&16,$=S.flags[2]&32,U=S.flags[0]&65536,V=S.flags[0]&131072,ee;return ee=8,b&&(ee+=4,S.baseDataOffset=v.getUint32(12),ee+=4),x&&(S.sampleDescriptionIndex=v.getUint32(ee),ee+=4),A&&(S.defaultSampleDuration=v.getUint32(ee),ee+=4),F&&(S.defaultSampleSize=v.getUint32(ee),ee+=4),$&&(S.defaultSampleFlags=v.getUint32(ee)),U&&(S.durationIsEmpty=!0),!b&&V&&(S.baseDataOffsetIsMoof=!0),S},rv=LP,NP=function(d){return{isLeading:(d[0]&12)>>>2,dependsOn:d[0]&3,isDependedOn:(d[1]&192)>>>6,hasRedundancy:(d[1]&48)>>>4,paddingValue:(d[1]&14)>>>1,isNonSyncSample:d[1]&1,degradationPriority:d[2]<<8|d[3]}},FP=NP,nv=FP,MP=function(d){var v={version:d[0],flags:new Uint8Array(d.subarray(1,4)),samples:[]},S=new DataView(d.buffer,d.byteOffset,d.byteLength),b=v.flags[2]&1,x=v.flags[2]&4,A=v.flags[1]&1,F=v.flags[1]&2,$=v.flags[1]&4,U=v.flags[1]&8,V=S.getUint32(4),ee=8,le;for(b&&(v.dataOffset=S.getInt32(ee),ee+=4),x&&V&&(le={flags:nv(d.subarray(ee,ee+4))},ee+=4,A&&(le.duration=S.getUint32(ee),ee+=4),F&&(le.size=S.getUint32(ee),ee+=4),U&&(v.version===1?le.compositionTimeOffset=S.getInt32(ee):le.compositionTimeOffset=S.getUint32(ee),ee+=4),v.samples.push(le),V--);V--;)le={},A&&(le.duration=S.getUint32(ee),ee+=4),F&&(le.size=S.getUint32(ee),ee+=4),$&&(le.flags=nv(d.subarray(ee,ee+4)),ee+=4),U&&(v.version===1?le.compositionTimeOffset=S.getInt32(ee):le.compositionTimeOffset=S.getUint32(ee),ee+=4),v.samples.push(le);return v},sv=MP,av={tfdt:Dh,trun:sv},ov={parseTfdt:av.tfdt,parseTrun:av.trun},$P=function(d){for(var v=0,S=String.fromCharCode(d[v]),b="";S!=="\0";)b+=S,v++,S=String.fromCharCode(d[v]);return b+=S,b},jP={uint8ToCString:$P},ec=jP.uint8ToCString,BP=s.getUint64,UP=function(d){var v=4,S=d[0],b,x,A,F,$,U,V,ee;if(S===0){b=ec(d.subarray(v)),v+=b.length,x=ec(d.subarray(v)),v+=x.length;var le=new DataView(d.buffer);A=le.getUint32(v),v+=4,$=le.getUint32(v),v+=4,U=le.getUint32(v),v+=4,V=le.getUint32(v),v+=4}else if(S===1){var le=new DataView(d.buffer);A=le.getUint32(v),v+=4,F=BP(d.subarray(v)),v+=8,U=le.getUint32(v),v+=4,V=le.getUint32(v),v+=4,b=ec(d.subarray(v)),v+=b.length,x=ec(d.subarray(v)),v+=x.length}ee=new Uint8Array(d.subarray(v,d.byteLength));var Ie={scheme_id_uri:b,value:x,timescale:A||1,presentation_time:F,presentation_time_delta:$,event_duration:U,id:V,message_data:ee};return qP(S,Ie)?Ie:void 0},HP=function(d,v,S,b){return d||d===0?d/v:b+S/v},qP=function(d,v){var S=v.scheme_id_uri!=="\0",b=d===0&&uv(v.presentation_time_delta)&&S,x=d===1&&uv(v.presentation_time)&&S;return!(d>1)&&b||x},uv=function(d){return d!==void 0||d!==null},VP={parseEmsgBox:UP,scaleTime:HP},xo;typeof window<"u"?xo=window:typeof t<"u"?xo=t:typeof self<"u"?xo=self:xo={};var lv=xo,tc=Zl.toUnsigned,wo=Zl.toHexString,Mt=Rh,Hs=tv,Ih=VP,WP=rv,zP=sv,GP=Dh,KP=s.getUint64,cv,dv,hv,fv,pv,kh,mv,Lh=lv,QP=jy.parseId3Frames;cv=function(d){var v={},S=Mt(d,["moov","trak"]);return S.reduce(function(b,x){var A,F,$,U,V;return A=Mt(x,["tkhd"])[0],!A||(F=A[0],$=F===0?12:20,U=tc(A[$]<<24|A[$+1]<<16|A[$+2]<<8|A[$+3]),V=Mt(x,["mdia","mdhd"])[0],!V)?null:(F=V[0],$=F===0?12:20,b[U]=tc(V[$]<<24|V[$+1]<<16|V[$+2]<<8|V[$+3]),b)},v)},dv=function(d,v){var S;S=Mt(v,["moof","traf"]);var b=S.reduce(function(x,A){var F=Mt(A,["tfhd"])[0],$=tc(F[4]<<24|F[5]<<16|F[6]<<8|F[7]),U=d[$]||9e4,V=Mt(A,["tfdt"])[0],ee=new DataView(V.buffer,V.byteOffset,V.byteLength),le;V[0]===1?le=KP(V.subarray(4,12)):le=ee.getUint32(4);let Ie;return typeof le=="bigint"?Ie=le/Lh.BigInt(U):typeof le=="number"&&!isNaN(le)&&(Ie=le/U),Ie<Number.MAX_SAFE_INTEGER&&(Ie=Number(Ie)),Ie<x&&(x=Ie),x},1/0);return typeof b=="bigint"||isFinite(b)?b:0},hv=function(d,v){var S=Mt(v,["moof","traf"]),b=0,x=0,A;if(S&&S.length){var F=Mt(S[0],["tfhd"])[0],$=Mt(S[0],["trun"])[0],U=Mt(S[0],["tfdt"])[0];if(F){var V=WP(F);A=V.trackId}if(U){var ee=GP(U);b=ee.baseMediaDecodeTime}if($){var le=zP($);le.samples&&le.samples.length&&(x=le.samples[0].compositionTimeOffset||0)}}var Ie=d[A]||9e4;typeof b=="bigint"&&(x=Lh.BigInt(x),Ie=Lh.BigInt(Ie));var ve=(b+x)/Ie;return typeof ve=="bigint"&&ve<Number.MAX_SAFE_INTEGER&&(ve=Number(ve)),ve},fv=function(d){var v=Mt(d,["moov","trak"]),S=[];return v.forEach(function(b){var x=Mt(b,["mdia","hdlr"]),A=Mt(b,["tkhd"]);x.forEach(function(F,$){var U=Hs(F.subarray(8,12)),V=A[$],ee,le,Ie;U==="vide"&&(ee=new DataView(V.buffer,V.byteOffset,V.byteLength),le=ee.getUint8(0),Ie=le===0?ee.getUint32(12):ee.getUint32(20),S.push(Ie))})}),S},kh=function(d){var v=d[0],S=v===0?12:20;return tc(d[S]<<24|d[S+1]<<16|d[S+2]<<8|d[S+3])},pv=function(d){var v=Mt(d,["moov","trak"]),S=[];return v.forEach(function(b){var x={},A=Mt(b,["tkhd"])[0],F,$;A&&(F=new DataView(A.buffer,A.byteOffset,A.byteLength),$=F.getUint8(0),x.id=$===0?F.getUint32(12):F.getUint32(20));var U=Mt(b,["mdia","hdlr"])[0];if(U){var V=Hs(U.subarray(8,12));V==="vide"?x.type="video":V==="soun"?x.type="audio":x.type=V}var ee=Mt(b,["mdia","minf","stbl","stsd"])[0];if(ee){var le=ee.subarray(8);x.codec=Hs(le.subarray(4,8));var Ie=Mt(le,[x.codec])[0],ve,Be;Ie&&(/^[asm]vc[1-9]$/i.test(x.codec)?(ve=Ie.subarray(78),Be=Hs(ve.subarray(4,8)),Be==="avcC"&&ve.length>11?(x.codec+=".",x.codec+=wo(ve[9]),x.codec+=wo(ve[10]),x.codec+=wo(ve[11])):x.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(x.codec)?(ve=Ie.subarray(28),Be=Hs(ve.subarray(4,8)),Be==="esds"&&ve.length>20&&ve[19]!==0?(x.codec+="."+wo(ve[19]),x.codec+="."+wo(ve[20]>>>2&63).replace(/^0/,"")):x.codec="mp4a.40.2"):x.codec=x.codec.toLowerCase())}var Xe=Mt(b,["mdia","mdhd"])[0];Xe&&(x.timescale=kh(Xe)),S.push(x)}),S},mv=function(d,v=0){var S=Mt(d,["emsg"]);return S.map(b=>{var x=Ih.parseEmsgBox(new Uint8Array(b)),A=QP(x.message_data);return{cueTime:Ih.scaleTime(x.presentation_time,x.timescale,x.presentation_time_delta,v),duration:Ih.scaleTime(x.event_duration,x.timescale),frames:A}})};var Co={findBox:Mt,parseType:Hs,timescale:cv,startTime:dv,compositionStartTime:hv,videoTrackIds:fv,tracks:pv,getTimescaleFromMediaHeader:kh,getEmsgID3:mv};const{parseTrun:XP}=ov,{findBox:gv}=Co;var yv=lv,YP=function(d){var v=gv(d,["moof","traf"]),S=gv(d,["mdat"]),b=[];return S.forEach(function(x,A){var F=v[A];b.push({mdat:x,traf:F})}),b},JP=function(d,v,S){var b=v,x=S.defaultSampleDuration||0,A=S.defaultSampleSize||0,F=S.trackId,$=[];return d.forEach(function(U){var V=XP(U),ee=V.samples;ee.forEach(function(le){le.duration===void 0&&(le.duration=x),le.size===void 0&&(le.size=A),le.trackId=F,le.dts=b,le.compositionTimeOffset===void 0&&(le.compositionTimeOffset=0),typeof b=="bigint"?(le.pts=b+yv.BigInt(le.compositionTimeOffset),b+=yv.BigInt(le.duration)):(le.pts=b+le.compositionTimeOffset,b+=le.duration)}),$=$.concat(ee)}),$},vv={getMdatTrafPairs:YP,parseSamples:JP},ZP=Rr.discardEmulationPreventionBytes,eO=Ny.CaptionStream,Nh=Rh,tO=Dh,iO=rv,{getMdatTrafPairs:rO,parseSamples:nO}=vv,sO=function(d,v){for(var S=d,b=0;b<v.length;b++){var x=v[b];if(S<x.size)return x;S-=x.size}return null},aO=function(d,v,S){var b=new DataView(d.buffer,d.byteOffset,d.byteLength),x={logs:[],seiNals:[]},A,F,$,U;for(F=0;F+4<d.length;F+=$)if($=b.getUint32(F),F+=4,!($<=0))switch(d[F]&31){case 6:var V=d.subarray(F+1,F+1+$),ee=sO(F,v);if(A={nalUnitType:"sei_rbsp",size:$,data:V,escapedRBSP:ZP(V),trackId:S},ee)A.pts=ee.pts,A.dts=ee.dts,U=ee;else if(U)A.pts=U.pts,A.dts=U.dts;else{x.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+F+" for trackId "+S+". See mux.js#223."});break}x.seiNals.push(A);break}return x},oO=function(d,v){var S={},b=rO(d);return b.forEach(function(x){var A=x.mdat,F=x.traf,$=Nh(F,["tfhd"]),U=iO($[0]),V=U.trackId,ee=Nh(F,["tfdt"]),le=ee.length>0?tO(ee[0]).baseMediaDecodeTime:0,Ie=Nh(F,["trun"]),ve,Be;v===V&&Ie.length>0&&(ve=nO(Ie,le,U),Be=aO(A,ve,V),S[V]||(S[V]={seiNals:[],logs:[]}),S[V].seiNals=S[V].seiNals.concat(Be.seiNals),S[V].logs=S[V].logs.concat(Be.logs))}),S},uO=function(d,v,S){var b;if(v===null)return null;b=oO(d,v);var x=b[v]||{};return{seiNals:x.seiNals,logs:x.logs,timescale:S}},lO=function(){var d=!1,v,S,b,x,A,F;this.isInitialized=function(){return d},this.init=function($){v=new eO,d=!0,F=$?$.isPartial:!1,v.on("data",function(U){U.startTime=U.startPts/x,U.endTime=U.endPts/x,A.captions.push(U),A.captionStreams[U.stream]=!0}),v.on("log",function(U){A.logs.push(U)})},this.isNewInit=function($,U){return $&&$.length===0||U&&typeof U=="object"&&Object.keys(U).length===0?!1:b!==$[0]||x!==U[b]},this.parse=function($,U,V){var ee;if(this.isInitialized()){if(!U||!V)return null;if(this.isNewInit(U,V))b=U[0],x=V[b];else if(b===null||!x)return S.push($),null}else return null;for(;S.length>0;){var le=S.shift();this.parse(le,U,V)}return ee=uO($,b,x),ee&&ee.logs&&(A.logs=A.logs.concat(ee.logs)),ee===null||!ee.seiNals?A.logs.length?{logs:A.logs,captions:[],captionStreams:[]}:null:(this.pushNals(ee.seiNals),this.flushStream(),A)},this.pushNals=function($){if(!this.isInitialized()||!$||$.length===0)return null;$.forEach(function(U){v.push(U)})},this.flushStream=function(){if(!this.isInitialized())return null;F?v.partialFlush():v.flush()},this.clearParsedCaptions=function(){A.captions=[],A.captionStreams={},A.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;v.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){S=[],b=null,x=null,A?this.clearParsedCaptions():A={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},cO=lO;const{parseTfdt:dO}=ov,kn=Rh,{getTimescaleFromMediaHeader:hO}=Co,{parseSamples:fO,getMdatTrafPairs:pO}=vv;var _v=function(){let d=9e4;this.init=function(v){const S=kn(v,["moov","trak","mdia","mdhd"])[0];S&&(d=hO(S))},this.parseSegment=function(v){const S=[],b=pO(v);let x=0;return b.forEach(function(A){const F=A.mdat,$=A.traf,U=kn($,["tfdt"])[0],V=kn($,["tfhd"])[0],ee=kn($,["trun"]);if(U&&(x=dO(U).baseMediaDecodeTime),ee.length&&V){const le=fO(ee,x,V);let Ie=0;le.forEach(function(ve){const Be="utf-8",Xe=new TextDecoder(Be),Vt=F.slice(Ie,Ie+ve.size);if(kn(Vt,["vtte"])[0]){Ie+=ve.size;return}kn(Vt,["vttc"]).forEach(function(Ao){const Po=kn(Ao,["payl"])[0],Oo=kn(Ao,["sttg"])[0],Ro=ve.pts/d,nc=(ve.pts+ve.duration)/d;let Tt,Do;if(Po)try{Tt=Xe.decode(Po)}catch(vr){console.error(vr)}if(Oo)try{Do=Xe.decode(Oo)}catch(vr){console.error(vr)}ve.duration&&Tt&&S.push({cueText:Tt,start:Ro,end:nc,settings:Do})}),Ie+=ve.size})}}),S}},Fh=$l,bv=function(d){var v=d[1]&31;return v<<=8,v|=d[2],v},ic=function(d){return!!(d[1]&64)},rc=function(d){var v=0;return(d[3]&48)>>>4>1&&(v+=d[4]+1),v},mO=function(d,v){var S=bv(d);return S===0?"pat":S===v?"pmt":v?"pes":null},gO=function(d){var v=ic(d),S=4+rc(d);return v&&(S+=d[S]+1),(d[S+10]&31)<<8|d[S+11]},yO=function(d){var v={},S=ic(d),b=4+rc(d);if(S&&(b+=d[b]+1),!!(d[b+5]&1)){var x,A,F;x=(d[b+1]&15)<<8|d[b+2],A=3+x-4,F=(d[b+10]&15)<<8|d[b+11];for(var $=12+F;$<A;){var U=b+$;v[(d[U+1]&31)<<8|d[U+2]]=d[U],$+=((d[U+3]&15)<<8|d[U+4])+5}return v}},vO=function(d,v){var S=bv(d),b=v[S];switch(b){case Fh.H264_STREAM_TYPE:return"video";case Fh.ADTS_STREAM_TYPE:return"audio";case Fh.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},_O=function(d){var v=ic(d);if(!v)return null;var S=4+rc(d);if(S>=d.byteLength)return null;var b=null,x;return x=d[S+7],x&192&&(b={},b.pts=(d[S+9]&14)<<27|(d[S+10]&255)<<20|(d[S+11]&254)<<12|(d[S+12]&255)<<5|(d[S+13]&254)>>>3,b.pts*=4,b.pts+=(d[S+13]&6)>>>1,b.dts=b.pts,x&64&&(b.dts=(d[S+14]&14)<<27|(d[S+15]&255)<<20|(d[S+16]&254)<<12|(d[S+17]&255)<<5|(d[S+18]&254)>>>3,b.dts*=4,b.dts+=(d[S+18]&6)>>>1)),b},Mh=function(d){switch(d){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},bO=function(d){for(var v=4+rc(d),S=d.subarray(v),b=0,x=0,A=!1,F;x<S.byteLength-3;x++)if(S[x+2]===1){b=x+5;break}for(;b<S.byteLength;)switch(S[b]){case 0:if(S[b-1]!==0){b+=2;break}else if(S[b-2]!==0){b++;break}x+3!==b-2&&(F=Mh(S[x+3]&31),F==="slice_layer_without_partitioning_rbsp_idr"&&(A=!0));do b++;while(S[b]!==1&&b<S.length);x=b-2,b+=3;break;case 1:if(S[b-1]!==0||S[b-2]!==0){b+=3;break}F=Mh(S[x+3]&31),F==="slice_layer_without_partitioning_rbsp_idr"&&(A=!0),x=b-2,b+=3;break;default:b+=3;break}return S=S.subarray(x),b-=x,x=0,S&&S.byteLength>3&&(F=Mh(S[x+3]&31),F==="slice_layer_without_partitioning_rbsp_idr"&&(A=!0)),A},SO={parseType:mO,parsePat:gO,parsePmt:yO,parsePayloadUnitStartIndicator:ic,parsePesType:vO,parsePesTime:_O,videoPacketContainsKeyFrame:bO},Sv=$l,qs=My.handleRollover,dt={};dt.ts=SO,dt.aac=Oh;var ms=Ye.ONE_SECOND_IN_TS,mi=188,Dr=71,TO=function(d,v){for(var S=0,b=mi,x,A;b<d.byteLength;){if(d[S]===Dr&&d[b]===Dr){switch(x=d.subarray(S,b),A=dt.ts.parseType(x,v.pid),A){case"pat":v.pid=dt.ts.parsePat(x);break;case"pmt":var F=dt.ts.parsePmt(x);v.table=v.table||{},Object.keys(F).forEach(function($){v.table[$]=F[$]});break}S+=mi,b+=mi;continue}S++,b++}},Tv=function(d,v,S){for(var b=0,x=mi,A,F,$,U,V,ee=!1;x<=d.byteLength;){if(d[b]===Dr&&(d[x]===Dr||x===d.byteLength)){switch(A=d.subarray(b,x),F=dt.ts.parseType(A,v.pid),F){case"pes":$=dt.ts.parsePesType(A,v.table),U=dt.ts.parsePayloadUnitStartIndicator(A),$==="audio"&&U&&(V=dt.ts.parsePesTime(A),V&&(V.type="audio",S.audio.push(V),ee=!0));break}if(ee)break;b+=mi,x+=mi;continue}b++,x++}for(x=d.byteLength,b=x-mi,ee=!1;b>=0;){if(d[b]===Dr&&(d[x]===Dr||x===d.byteLength)){switch(A=d.subarray(b,x),F=dt.ts.parseType(A,v.pid),F){case"pes":$=dt.ts.parsePesType(A,v.table),U=dt.ts.parsePayloadUnitStartIndicator(A),$==="audio"&&U&&(V=dt.ts.parsePesTime(A),V&&(V.type="audio",S.audio.push(V),ee=!0));break}if(ee)break;b-=mi,x-=mi;continue}b--,x--}},EO=function(d,v,S){for(var b=0,x=mi,A,F,$,U,V,ee,le,Ie,ve=!1,Be={data:[],size:0};x<d.byteLength;){if(d[b]===Dr&&d[x]===Dr){switch(A=d.subarray(b,x),F=dt.ts.parseType(A,v.pid),F){case"pes":if($=dt.ts.parsePesType(A,v.table),U=dt.ts.parsePayloadUnitStartIndicator(A),$==="video"&&(U&&!ve&&(V=dt.ts.parsePesTime(A),V&&(V.type="video",S.video.push(V),ve=!0)),!S.firstKeyFrame)){if(U&&Be.size!==0){for(ee=new Uint8Array(Be.size),le=0;Be.data.length;)Ie=Be.data.shift(),ee.set(Ie,le),le+=Ie.byteLength;if(dt.ts.videoPacketContainsKeyFrame(ee)){var Xe=dt.ts.parsePesTime(ee);Xe?(S.firstKeyFrame=Xe,S.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}Be.size=0}Be.data.push(A),Be.size+=A.byteLength}break}if(ve&&S.firstKeyFrame)break;b+=mi,x+=mi;continue}b++,x++}for(x=d.byteLength,b=x-mi,ve=!1;b>=0;){if(d[b]===Dr&&d[x]===Dr){switch(A=d.subarray(b,x),F=dt.ts.parseType(A,v.pid),F){case"pes":$=dt.ts.parsePesType(A,v.table),U=dt.ts.parsePayloadUnitStartIndicator(A),$==="video"&&U&&(V=dt.ts.parsePesTime(A),V&&(V.type="video",S.video.push(V),ve=!0));break}if(ve)break;b-=mi,x-=mi;continue}b--,x--}},xO=function(d,v){if(d.audio&&d.audio.length){var S=v;(typeof S>"u"||isNaN(S))&&(S=d.audio[0].dts),d.audio.forEach(function(A){A.dts=qs(A.dts,S),A.pts=qs(A.pts,S),A.dtsTime=A.dts/ms,A.ptsTime=A.pts/ms})}if(d.video&&d.video.length){var b=v;if((typeof b>"u"||isNaN(b))&&(b=d.video[0].dts),d.video.forEach(function(A){A.dts=qs(A.dts,b),A.pts=qs(A.pts,b),A.dtsTime=A.dts/ms,A.ptsTime=A.pts/ms}),d.firstKeyFrame){var x=d.firstKeyFrame;x.dts=qs(x.dts,b),x.pts=qs(x.pts,b),x.dtsTime=x.dts/ms,x.ptsTime=x.pts/ms}}},wO=function(d){for(var v=!1,S=0,b=null,x=null,A=0,F=0,$;d.length-F>=3;){var U=dt.aac.parseType(d,F);switch(U){case"timed-metadata":if(d.length-F<10){v=!0;break}if(A=dt.aac.parseId3TagSize(d,F),A>d.length){v=!0;break}x===null&&($=d.subarray(F,F+A),x=dt.aac.parseAacTimestamp($)),F+=A;break;case"audio":if(d.length-F<7){v=!0;break}if(A=dt.aac.parseAdtsSize(d,F),A>d.length){v=!0;break}b===null&&($=d.subarray(F,F+A),b=dt.aac.parseSampleRate($)),S++,F+=A;break;default:F++;break}if(v)return null}if(b===null||x===null)return null;var V=ms/b,ee={audio:[{type:"audio",dts:x,pts:x},{type:"audio",dts:x+S*1024*V,pts:x+S*1024*V}]};return ee},CO=function(d){var v={pid:null,table:null},S={};TO(d,v);for(var b in v.table)if(v.table.hasOwnProperty(b)){var x=v.table[b];switch(x){case Sv.H264_STREAM_TYPE:S.video=[],EO(d,v,S),S.video.length===0&&delete S.video;break;case Sv.ADTS_STREAM_TYPE:S.audio=[],Tv(d,v,S),S.audio.length===0&&delete S.audio;break}}return S},AO=function(d,v){var S=dt.aac.isLikelyAacData(d),b;return S?b=wO(d):b=CO(d),!b||!b.audio&&!b.video?null:(xO(b,v),b)},PO={inspect:AO,parseAudioPes_:Tv};const OO=function(d,v){v.on("data",function(S){const b=S.initSegment;S.initSegment={data:b.buffer,byteOffset:b.byteOffset,byteLength:b.byteLength};const x=S.data;S.data=x.buffer,d.postMessage({action:"data",segment:S,byteOffset:x.byteOffset,byteLength:x.byteLength},[S.data])}),v.on("done",function(S){d.postMessage({action:"done"})}),v.on("gopInfo",function(S){d.postMessage({action:"gopInfo",gopInfo:S})}),v.on("videoSegmentTimingInfo",function(S){const b={start:{decode:Ye.videoTsToSeconds(S.start.dts),presentation:Ye.videoTsToSeconds(S.start.pts)},end:{decode:Ye.videoTsToSeconds(S.end.dts),presentation:Ye.videoTsToSeconds(S.end.pts)},baseMediaDecodeTime:Ye.videoTsToSeconds(S.baseMediaDecodeTime)};S.prependedContentDuration&&(b.prependedContentDuration=Ye.videoTsToSeconds(S.prependedContentDuration)),d.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:b})}),v.on("audioSegmentTimingInfo",function(S){const b={start:{decode:Ye.videoTsToSeconds(S.start.dts),presentation:Ye.videoTsToSeconds(S.start.pts)},end:{decode:Ye.videoTsToSeconds(S.end.dts),presentation:Ye.videoTsToSeconds(S.end.pts)},baseMediaDecodeTime:Ye.videoTsToSeconds(S.baseMediaDecodeTime)};S.prependedContentDuration&&(b.prependedContentDuration=Ye.videoTsToSeconds(S.prependedContentDuration)),d.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:b})}),v.on("id3Frame",function(S){d.postMessage({action:"id3Frame",id3Frame:S})}),v.on("caption",function(S){d.postMessage({action:"caption",caption:S})}),v.on("trackinfo",function(S){d.postMessage({action:"trackinfo",trackInfo:S})}),v.on("audioTimingInfo",function(S){d.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Ye.videoTsToSeconds(S.start),end:Ye.videoTsToSeconds(S.end)}})}),v.on("videoTimingInfo",function(S){d.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Ye.videoTsToSeconds(S.start),end:Ye.videoTsToSeconds(S.end)}})}),v.on("log",function(S){d.postMessage({action:"log",log:S})})};class Ev{constructor(v,S){this.options=S||{},this.self=v,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new wP.Transmuxer(this.options),OO(this.self,this.transmuxer)}pushMp4Captions(v){this.captionParser||(this.captionParser=new cO,this.captionParser.init());const S=new Uint8Array(v.data,v.byteOffset,v.byteLength),b=this.captionParser.parse(S,v.trackIds,v.timescales);this.self.postMessage({action:"mp4Captions",captions:b&&b.captions||[],logs:b&&b.logs||[],data:S.buffer},[S.buffer])}initMp4WebVttParser(v){this.webVttParser||(this.webVttParser=new _v);const S=new Uint8Array(v.data,v.byteOffset,v.byteLength);this.webVttParser.init(S)}getMp4WebVttText(v){this.webVttParser||(this.webVttParser=new _v);const S=new Uint8Array(v.data,v.byteOffset,v.byteLength),b=this.webVttParser.parseSegment(S);this.self.postMessage({action:"getMp4WebVttText",mp4VttCues:b||[],data:S.buffer},[S.buffer])}probeMp4StartTime({timescales:v,data:S}){const b=Co.startTime(v,S);this.self.postMessage({action:"probeMp4StartTime",startTime:b,data:S},[S.buffer])}probeMp4Tracks({data:v}){const S=Co.tracks(v);this.self.postMessage({action:"probeMp4Tracks",tracks:S,data:v},[v.buffer])}probeEmsgID3({data:v,offset:S}){const b=Co.getEmsgID3(v,S);this.self.postMessage({action:"probeEmsgID3",id3Frames:b,emsgData:v},[v.buffer])}probeTs({data:v,baseStartTime:S}){const b=typeof S=="number"&&!isNaN(S)?S*Ye.ONE_SECOND_IN_TS:void 0,x=PO.inspect(v,b);let A=null;x&&(A={hasVideo:x.video&&x.video.length===2||!1,hasAudio:x.audio&&x.audio.length===2||!1},A.hasVideo&&(A.videoStart=x.video[0].ptsTime),A.hasAudio&&(A.audioStart=x.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:A,data:v},[v.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(v){const S=new Uint8Array(v.data,v.byteOffset,v.byteLength);this.transmuxer.push(S)}reset(){this.transmuxer.reset()}setTimestampOffset(v){const S=v.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Ye.secondsToVideoTs(S)))}setAudioAppendStart(v){this.transmuxer.setAudioAppendStart(Math.ceil(Ye.secondsToVideoTs(v.appendStart)))}setRemux(v){this.transmuxer.setRemux(v.remux)}flush(v){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(v){this.transmuxer.alignGopsWith(v.gopsToAlignWith.slice())}}self.onmessage=function(d){if(d.data.action==="init"&&d.data.options){this.messageHandlers=new Ev(self,d.data.options);return}this.messageHandlers||(this.messageHandlers=new Ev(self)),d.data&&d.data.action&&d.data.action!=="init"&&this.messageHandlers[d.data.action]&&this.messageHandlers[d.data.action](d.data)}}));var K4=xx(G4);const Q4=(t,e,i)=>{const{type:r,initSegment:n,captions:s,captionStreams:a,metadata:o,videoFrameDtsTime:u,videoFramePtsTime:l}=t.data.segment;e.buffer.push({captions:s,captionStreams:a,metadata:o});const c=t.data.segment.boxes||{data:t.data.segment.data},f={type:r,data:new Uint8Array(c.data,c.data.byteOffset,c.data.byteLength),initSegment:new Uint8Array(n.data,n.byteOffset,n.byteLength)};typeof u<"u"&&(f.videoFrameDtsTime=u),typeof l<"u"&&(f.videoFramePtsTime=l),i(f)},X4=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},Y4=(t,e)=>{e.gopInfo=t.data.gopInfo},Ax=t=>{const{transmuxer:e,bytes:i,audioAppendStart:r,gopsToAlignWith:n,remux:s,onData:a,onTrackInfo:o,onAudioTimingInfo:u,onVideoTimingInfo:l,onVideoSegmentTimingInfo:c,onAudioSegmentTimingInfo:f,onId3:m,onCaptions:h,onDone:g,onEndedTimeline:p,onTransmuxerLog:_,isEndOfTimeline:y,segment:T,triggerSegmentEventFn:E}=t,C={buffer:[]};let R=y;const I=O=>{e.currentTransmux===t&&(O.data.action==="data"&&Q4(O,C,a),O.data.action==="trackinfo"&&o(O.data.trackInfo),O.data.action==="gopInfo"&&Y4(O,C),O.data.action==="audioTimingInfo"&&u(O.data.audioTimingInfo),O.data.action==="videoTimingInfo"&&l(O.data.videoTimingInfo),O.data.action==="videoSegmentTimingInfo"&&c(O.data.videoSegmentTimingInfo),O.data.action==="audioSegmentTimingInfo"&&f(O.data.audioSegmentTimingInfo),O.data.action==="id3Frame"&&m([O.data.id3Frame],O.data.id3Frame.dispatchType),O.data.action==="caption"&&h(O.data.caption),O.data.action==="endedtimeline"&&(R=!1,p()),O.data.action==="log"&&_(O.data.log),O.data.type==="transmuxed"&&(R||(e.onmessage=null,X4({transmuxedData:C,callback:g}),Px(e))))},D=()=>{const O={message:"Received an error message from the transmuxer worker",metadata:{errorType:se.Error.StreamingFailedToTransmuxSegment,segmentInfo:Es({segment:T})}};g(null,O)};if(e.onmessage=I,e.onerror=D,r&&e.postMessage({action:"setAudioAppendStart",appendStart:r}),Array.isArray(n)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:n}),typeof s<"u"&&e.postMessage({action:"setRemux",remux:s}),i.byteLength){const O=i instanceof ArrayBuffer?i:i.buffer,w=i instanceof ArrayBuffer?0:i.byteOffset;E({type:"segmenttransmuxingstart",segment:T}),e.postMessage({action:"push",data:O,byteOffset:w,byteLength:i.byteLength},[O])}y&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},Px=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():Ax(t.currentTransmux))},P_=(t,e)=>{t.postMessage({action:e}),Px(t)},Ox=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,P_(e,t);return}e.transmuxQueue.push(P_.bind(null,e,t))},J4=t=>{Ox("reset",t)},Z4=t=>{Ox("endTimeline",t)},Rx=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,Ax(t);return}t.transmuxer.transmuxQueue.push(t)},eM=t=>{const e=new K4;e.currentTransmux=null,e.transmuxQueue=[];const i=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,i.call(e)),e.postMessage({action:"init",options:t}),e};var Rf={reset:J4,endTimeline:Z4,transmux:Rx,createTransmuxer:eM};const xa=function(t){const e=t.transmuxer,i=t.endAction||t.action,r=t.callback,n=Ot({},t,{endAction:null,transmuxer:null,callback:null}),s=a=>{a.data.action===i&&(e.removeEventListener("message",s),a.data.data&&(a.data.data=new Uint8Array(a.data.data,t.byteOffset||0,t.byteLength||a.data.data.byteLength),t.data&&(t.data=a.data.data)),r(a.data))};if(e.addEventListener("message",s),t.data){const a=t.data instanceof ArrayBuffer;n.byteOffset=a?0:t.data.byteOffset,n.byteLength=t.data.byteLength;const o=[a?t.data:t.data.buffer];e.postMessage(n,o)}else e.postMessage(n)},Gr={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Dx="wvtt",xm=t=>{t.forEach(e=>{e.abort()})},tM=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),iM=t=>{const e=t.target,r={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return r.bytesReceived=t.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r},ey=(t,e)=>{const{requestType:i}=e,r=Ls({requestType:i,request:e,error:t});return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:Gr.TIMEOUT,xhr:e,metadata:r}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:Gr.ABORTED,xhr:e,metadata:r}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:Gr.FAILURE,xhr:e,metadata:r}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:Gr.FAILURE,xhr:e,metadata:r}:null},O_=(t,e,i,r)=>(n,s)=>{const a=s.response,o=ey(n,s);if(o)return i(o,t);if(a.byteLength!==16)return i({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:Gr.FAILURE,xhr:s},t);const u=new DataView(a),l=new Uint32Array([u.getUint32(0),u.getUint32(4),u.getUint32(8),u.getUint32(12)]);for(let f=0;f<e.length;f++)e[f].bytes=l;const c={uri:s.uri};return r({type:"segmentkeyloadcomplete",segment:t,keyInfo:c}),i(null,t)},rM=(t,e)=>{e===Dx&&t.transmuxer.postMessage({action:"initMp4WebVttParser",data:t.map.bytes})},nM=(t,e,i)=>{e===Dx&&xa({action:"getMp4WebVttText",data:t.bytes,transmuxer:t.transmuxer,callback:({data:r,mp4VttCues:n})=>{t.bytes=r,i(null,t,{mp4VttCues:n})}})},Ix=(t,e)=>{const i=xg(t.map.bytes);if(i!=="mp4"){const r=t.map.resolvedUri||t.map.uri,n=i||"unknown";return e({internal:!0,message:`Found unsupported ${n} container for initialization segment at URL: ${r}`,code:Gr.FAILURE,metadata:{mediaType:n}})}xa({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:r,data:n})=>(t.map.bytes=n,r.forEach(function(s){t.map.tracks=t.map.tracks||{},!t.map.tracks[s.type]&&(t.map.tracks[s.type]=s,typeof s.id=="number"&&s.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[s.id]=s.timescale),s.type==="text"&&rM(t,s.codec))}),e(null))})},sM=({segment:t,finishProcessingFn:e,triggerSegmentEventFn:i})=>(r,n)=>{const s=ey(r,n);if(s)return e(s,t);const a=new Uint8Array(n.response);if(i({type:"segmentloaded",segment:t}),t.map.key)return t.map.encryptedBytes=a,e(null,t);t.map.bytes=a,Ix(t,function(o){if(o)return o.xhr=n,o.status=n.status,e(o,t);e(null,t)})},aM=({segment:t,finishProcessingFn:e,responseType:i,triggerSegmentEventFn:r})=>(n,s)=>{const a=ey(n,s);if(a)return e(a,t);r({type:"segmentloaded",segment:t});const o=i==="arraybuffer"||!s.responseText?s.response:W4(s.responseText.substring(t.lastReachedChar||0));return t.stats=tM(s),t.key?t.encryptedBytes=new Uint8Array(o):t.bytes=new Uint8Array(o),e(null,t)},oM=({segment:t,bytes:e,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:l,dataFn:c,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:h})=>{const g=t.map&&t.map.tracks||{},p=!!(g.audio&&g.video);let _=r.bind(null,t,"audio","start");const y=r.bind(null,t,"audio","end");let T=r.bind(null,t,"video","start");const E=r.bind(null,t,"video","end"),C=()=>Rx({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:p,onData:R=>{R.type=R.type==="combined"?"video":R.type,c(t,R)},onTrackInfo:R=>{i&&(p&&(R.isMuxed=!0),i(t,R))},onAudioTimingInfo:R=>{_&&typeof R.start<"u"&&(_(R.start),_=null),y&&typeof R.end<"u"&&y(R.end)},onVideoTimingInfo:R=>{T&&typeof R.start<"u"&&(T(R.start),T=null),E&&typeof R.end<"u"&&E(R.end)},onVideoSegmentTimingInfo:R=>{const I={pts:{start:R.start.presentation,end:R.end.presentation},dts:{start:R.start.decode,end:R.end.decode}};h({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:I}),n(R)},onAudioSegmentTimingInfo:R=>{const I={pts:{start:R.start.pts,end:R.end.pts},dts:{start:R.start.dts,end:R.end.dts}};h({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:I}),s(R)},onId3:(R,I)=>{a(t,R,I)},onCaptions:R=>{o(t,[R])},isEndOfTimeline:u,onEndedTimeline:()=>{l()},onTransmuxerLog:m,onDone:(R,I)=>{f&&(R.type=R.type==="combined"?"video":R.type,h({type:"segmenttransmuxingcomplete",segment:t}),f(I,t,R))},segment:t,triggerSegmentEventFn:h});xa({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:R=>{t.bytes=e=R.data;const I=R.result;I&&(i(t,{hasAudio:I.hasAudio,hasVideo:I.hasVideo,isMuxed:p}),i=null),C()}})},kx=({segment:t,bytes:e,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:l,dataFn:c,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:h})=>{let g=new Uint8Array(e);if(CN(g)){t.isFmp4=!0;const{tracks:p}=t.map;if(p.text&&(!p.audio||!p.video)){c(t,{data:g,type:"text"}),nM(t,p.text.codec,f);return}const y={isFmp4:!0,hasVideo:!!p.video,hasAudio:!!p.audio};p.audio&&p.audio.codec&&p.audio.codec!=="enca"&&(y.audioCodec=p.audio.codec),p.video&&p.video.codec&&p.video.codec!=="encv"&&(y.videoCodec=p.video.codec),p.video&&p.audio&&(y.isMuxed=!0),i(t,y);const T=(E,C)=>{c(t,{data:g,type:y.hasAudio&&!y.isMuxed?"audio":"video"}),C&&C.length&&a(t,C),E&&E.length&&o(t,E),f(null,t,{})};xa({action:"probeMp4StartTime",timescales:t.map.timescales,data:g,transmuxer:t.transmuxer,callback:({data:E,startTime:C})=>{e=E.buffer,t.bytes=g=E,y.hasAudio&&!y.isMuxed&&r(t,"audio","start",C),y.hasVideo&&r(t,"video","start",C),xa({action:"probeEmsgID3",data:g,transmuxer:t.transmuxer,offset:C,callback:({emsgData:R,id3Frames:I})=>{if(e=R.buffer,t.bytes=g=R,!p.video||!R.byteLength||!t.transmuxer){T(void 0,I);return}xa({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:g,timescales:t.map.timescales,trackIds:[p.video.id],callback:D=>{e=D.data.buffer,t.bytes=g=D.data,D.logs.forEach(function(O){m(ct(O,{stream:"mp4CaptionParser"}))}),T(D.captions,I)}})}})}});return}if(!t.transmuxer){f(null,t,{});return}if(typeof t.container>"u"&&(t.container=xg(g)),t.container!=="ts"&&t.container!=="aac"){i(t,{hasAudio:!1,hasVideo:!1}),f(null,t,{});return}oM({segment:t,bytes:e,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:l,dataFn:c,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:h})},Lx=function({id:t,key:e,encryptedBytes:i,decryptionWorker:r,segment:n,doneFn:s},a){const o=l=>{if(l.data.source===t){r.removeEventListener("message",o);const c=l.data.decrypted;a(new Uint8Array(c.bytes,c.byteOffset,c.byteLength))}};r.onerror=()=>{const l="An error occurred in the decryption worker",c=Es({segment:n}),f={message:l,metadata:{error:new Error(l),errorType:se.Error.StreamingFailedToDecryptSegment,segmentInfo:c,keyInfo:{uri:n.key.resolvedUri||n.map.key.resolvedUri}}};s(f,n)},r.addEventListener("message",o);let u;e.bytes.slice?u=e.bytes.slice():u=new Uint32Array(Array.prototype.slice.call(e.bytes)),r.postMessage(vx({source:t,encrypted:i,key:u,iv:e.iv}),[i.buffer,u.buffer])},uM=({decryptionWorker:t,segment:e,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:l,dataFn:c,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:h})=>{h({type:"segmentdecryptionstart"}),Lx({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t,segment:e,doneFn:f},g=>{e.bytes=g,h({type:"segmentdecryptioncomplete",segment:e}),kx({segment:e,bytes:e.bytes,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:l,dataFn:c,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:h})})},lM=({activeXhrs:t,decryptionWorker:e,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:l,dataFn:c,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:h})=>{let g=0,p=!1;return(_,y)=>{if(!p){if(_)return p=!0,xm(t),f(_,y);if(g+=1,g===t.length){const T=function(){if(y.encryptedBytes)return uM({decryptionWorker:e,segment:y,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:l,dataFn:c,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:h});kx({segment:y,bytes:y.bytes,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:l,dataFn:c,doneFn:f,onTransmuxerLog:m,triggerSegmentEventFn:h})};if(y.endOfAllRequests=Date.now(),y.map&&y.map.encryptedBytes&&!y.map.bytes)return h({type:"segmentdecryptionstart",segment:y}),Lx({decryptionWorker:e,id:y.requestId+"-init",encryptedBytes:y.map.encryptedBytes,key:y.map.key,segment:y,doneFn:f},E=>{y.map.bytes=E,h({type:"segmentdecryptioncomplete",segment:y}),Ix(y,C=>{if(C)return xm(t),f(C,y);T()})});T()}}}},cM=({loadendState:t,abortFn:e})=>i=>{i.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},dM=({segment:t,progressFn:e,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:l,dataFn:c})=>f=>{if(!f.target.aborted)return t.stats=ct(t.stats,iM(f)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(f,t)},hM=({xhr:t,xhrOptions:e,decryptionWorker:i,segment:r,abortFn:n,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:l,id3Fn:c,captionsFn:f,isEndOfTimeline:m,endedTimelineFn:h,dataFn:g,doneFn:p,onTransmuxerLog:_,triggerSegmentEventFn:y})=>{const T=[],E=lM({activeXhrs:T,decryptionWorker:i,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:l,id3Fn:c,captionsFn:f,isEndOfTimeline:m,endedTimelineFn:h,dataFn:g,doneFn:p,onTransmuxerLog:_,triggerSegmentEventFn:y});if(r.key&&!r.key.bytes){const O=[r.key];r.map&&!r.map.bytes&&r.map.key&&r.map.key.resolvedUri===r.key.resolvedUri&&O.push(r.map.key);const w=ct(e,{uri:r.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),P=O_(r,O,E,y),L={uri:r.key.resolvedUri};y({type:"segmentkeyloadstart",segment:r,keyInfo:L});const M=t(w,P);T.push(M)}if(r.map&&!r.map.bytes){if(r.map.key&&(!r.key||r.key.resolvedUri!==r.map.key.resolvedUri)){const M=ct(e,{uri:r.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),j=O_(r,[r.map.key],E,y),Q={uri:r.map.key.resolvedUri};y({type:"segmentkeyloadstart",segment:r,keyInfo:Q});const Z=t(M,j);T.push(Z)}const w=ct(e,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:Tm(r.map),requestType:"segment-media-initialization"}),P=sM({segment:r,finishProcessingFn:E,triggerSegmentEventFn:y});y({type:"segmentloadstart",segment:r});const L=t(w,P);T.push(L)}const C=ct(e,{uri:r.part&&r.part.resolvedUri||r.resolvedUri,responseType:"arraybuffer",headers:Tm(r),requestType:"segment"}),R=aM({segment:r,finishProcessingFn:E,responseType:C.responseType,triggerSegmentEventFn:y});y({type:"segmentloadstart",segment:r});const I=t(C,R);I.addEventListener("progress",dM({segment:r,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:l,id3Fn:c,captionsFn:f,isEndOfTimeline:m,endedTimelineFn:h,dataFn:g})),T.push(I);const D={};return T.forEach(O=>{O.addEventListener("loadend",cM({loadendState:D,abortFn:n}))}),()=>xm(T)},fc=ur("PlaylistSelector"),R_=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},wa=function(t,e){if(!t)return"";const i=q.getComputedStyle(t);return i?i[e]:""},Ca=function(t,e){const i=t.slice();t.sort(function(r,n){const s=e(r,n);return s===0?i.indexOf(r)-i.indexOf(n):s})},ty=function(t,e){let i,r;return t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),i=i||q.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(r=e.attributes.BANDWIDTH),r=r||q.Number.MAX_VALUE,i-r},fM=function(t,e){let i,r;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),i=i||q.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(r=e.attributes.RESOLUTION.width),r=r||q.Number.MAX_VALUE,i===r&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:i-r};let Nx=function(t){const{main:e,bandwidth:i,playerWidth:r,playerHeight:n,playerObjectFit:s,limitRenditionByPlayerDimensions:a,playlistController:o}=t;if(!e)return;const u={bandwidth:i,width:r,height:n,limitRenditionByPlayerDimensions:a};let l=e.playlists;Di.isAudioOnly(e)&&(l=o.getAudioTrackPlaylists_(),u.audioOnly=!0);let c=l.map(D=>{let O;const w=D.attributes&&D.attributes.RESOLUTION&&D.attributes.RESOLUTION.width,P=D.attributes&&D.attributes.RESOLUTION&&D.attributes.RESOLUTION.height;return O=D.attributes&&D.attributes.BANDWIDTH,O=O||q.Number.MAX_VALUE,{bandwidth:O,width:w,height:P,playlist:D}});Ca(c,(D,O)=>D.bandwidth-O.bandwidth),c=c.filter(D=>!Di.isIncompatible(D.playlist));let f=c.filter(D=>Di.isEnabled(D.playlist));f.length||(f=c.filter(D=>!Di.isDisabled(D.playlist)));const m=f.filter(D=>D.bandwidth*Gt.BANDWIDTH_VARIANCE<i);let h=m[m.length-1];const g=m.filter(D=>D.bandwidth===h.bandwidth)[0];if(a===!1){const D=g||f[0]||c[0];if(D&&D.playlist){let O="sortedPlaylistReps";return g&&(O="bandwidthBestRep"),f[0]&&(O="enabledPlaylistReps"),fc(`choosing ${R_(D)} using ${O} with options`,u),D.playlist}return fc("could not choose a playlist with options",u),null}const p=m.filter(D=>D.width&&D.height);Ca(p,(D,O)=>D.width-O.width);const _=p.filter(D=>D.width===r&&D.height===n);h=_[_.length-1];const y=_.filter(D=>D.bandwidth===h.bandwidth)[0];let T,E,C;y||(T=p.filter(D=>s==="cover"?D.width>r&&D.height>n:D.width>r||D.height>n),E=T.filter(D=>D.width===T[0].width&&D.height===T[0].height),h=E[E.length-1],C=E.filter(D=>D.bandwidth===h.bandwidth)[0]);let R;if(o.leastPixelDiffSelector){const D=p.map(O=>(O.pixelDiff=Math.abs(O.width-r)+Math.abs(O.height-n),O));Ca(D,(O,w)=>O.pixelDiff===w.pixelDiff?w.bandwidth-O.bandwidth:O.pixelDiff-w.pixelDiff),R=D[0]}const I=R||C||y||g||f[0]||c[0];if(I&&I.playlist){let D="sortedPlaylistReps";return R?D="leastPixelDiffRep":C?D="resolutionPlusOneRep":y?D="resolutionBestRep":g?D="bandwidthBestRep":f[0]&&(D="enabledPlaylistReps"),fc(`choosing ${R_(I)} using ${D} with options`,u),I.playlist}return fc("could not choose a playlist with options",u),null};const D_=function(){let t=this.useDevicePixelRatio&&q.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(t=this.customPixelRatio),Nx({main:this.playlists.main,bandwidth:this.systemBandwidth,playerWidth:parseInt(wa(this.tech_.el(),"width"),10)*t,playerHeight:parseInt(wa(this.tech_.el(),"height"),10)*t,playerObjectFit:this.usePlayerObjectFit?wa(this.tech_.el(),"objectFit"):"",limitRenditionByPlayerDimensions:this.limitRenditionByPlayerDimensions,playlistController:this.playlistController_})},pM=function(t){let e=-1,i=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let r=this.useDevicePixelRatio&&q.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(r=this.customPixelRatio),e<0&&(e=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(e=t*this.systemBandwidth+(1-t)*e,i=this.systemBandwidth),Nx({main:this.playlists.main,bandwidth:e,playerWidth:parseInt(wa(this.tech_.el(),"width"),10)*r,playerHeight:parseInt(wa(this.tech_.el(),"height"),10)*r,playerObjectFit:this.usePlayerObjectFit?wa(this.tech_.el(),"objectFit"):"",limitRenditionByPlayerDimensions:this.limitRenditionByPlayerDimensions,playlistController:this.playlistController_})}},mM=function(t){const{main:e,currentTime:i,bandwidth:r,duration:n,segmentDuration:s,timeUntilRebuffer:a,currentTimeline:o,syncController:u}=t,l=e.playlists.filter(g=>!Di.isIncompatible(g));let c=l.filter(Di.isEnabled);c.length||(c=l.filter(g=>!Di.isDisabled(g)));const m=c.filter(Di.hasAttribute.bind(null,"BANDWIDTH")).map(g=>{const _=u.getSyncPoint(g,n,o,i)?1:2,T=Di.estimateSegmentRequestTime(s,r,g)*_-a;return{playlist:g,rebufferingImpact:T}}),h=m.filter(g=>g.rebufferingImpact<=0);return Ca(h,(g,p)=>ty(p.playlist,g.playlist)),h.length?h[0]:(Ca(m,(g,p)=>g.rebufferingImpact-p.rebufferingImpact),m[0]||null)},gM=function(){const t=this.playlists.main.playlists.filter(Di.isEnabled);return Ca(t,(i,r)=>ty(i,r)),t.filter(i=>!!mu(this.playlists.main,i).video)[0]||null},yM=t=>{let e=0,i;return t.bytes&&(i=new Uint8Array(t.bytes),t.segments.forEach(r=>{i.set(r,e),e+=r.byteLength})),i};function Fx(t){try{return new URL(t).pathname.split("/").slice(-2).join("/")}catch{return""}}const vM=function(t,e,i){if(!t[i]){e.trigger({type:"usage",name:"vhs-608"});let r=i;/^cc708_/.test(i)&&(r="SERVICE"+i.split("_")[1]);const n=e.textTracks().getTrackById(r);if(n)t[i]=n;else{const s=e.options_.vhs&&e.options_.vhs.captionServices||{};let a=i,o=i,u=!1;const l=s[r];l&&(a=l.label,o=l.language,u=l.default),t[i]=e.addRemoteTextTrack({kind:"captions",id:r,default:u,label:a,language:o},!1).track}}},_M=function({inbandTextTracks:t,captionArray:e,timestampOffset:i}){if(!e)return;const r=q.WebKitDataCue||q.VTTCue;e.forEach(n=>{const s=n.stream;n.content?n.content.forEach(a=>{const o=new r(n.startTime+i,n.endTime+i,a.text);o.line=a.line,o.align="left",o.position=a.position,o.positionAlign="line-left",t[s].addCue(o)}):t[s].addCue(new r(n.startTime+i,n.endTime+i,n.text))})},bM=function(t){Object.defineProperties(t.frame,{id:{get(){return se.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return se.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return se.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},SM=({inbandTextTracks:t,metadataArray:e,timestampOffset:i,videoDuration:r})=>{if(!e)return;const n=q.WebKitDataCue||q.VTTCue,s=t.metadataTrack_;if(!s||(e.forEach(c=>{const f=c.cueTime+i;typeof f!="number"||q.isNaN(f)||f<0||!(f<1/0)||!c.frames||!c.frames.length||c.frames.forEach(m=>{const h=new n(f,f,m.value||m.url||m.data||"");h.frame=m,h.value=m,bM(h),s.addCue(h)})}),!s.cues||!s.cues.length))return;const a=s.cues,o=[];for(let c=0;c<a.length;c++)a[c]&&o.push(a[c]);const u=o.reduce((c,f)=>{const m=c[f.startTime]||[];return m.push(f),c[f.startTime]=m,c},{}),l=Object.keys(u).sort((c,f)=>Number(c)-Number(f));l.forEach((c,f)=>{const m=u[c],h=isFinite(r)?r:c,g=Number(l[f+1])||h;m.forEach(p=>{p.endTime=g})})},TM={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},EM=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),xM=({inbandTextTracks:t,dateRanges:e})=>{const i=t.metadataTrack_;if(!i)return;const r=q.WebKitDataCue||q.VTTCue;e.forEach(n=>{for(const s of Object.keys(n)){if(EM.has(s))continue;const a=new r(n.startTime,n.endTime,"");a.id=n.id,a.type="com.apple.quicktime.HLS",a.value={key:TM[s],data:n[s]},(s==="scte35Out"||s==="scte35In")&&(a.value.data=new Uint8Array(a.value.data.match(/[\da-f]{2}/gi)).buffer),i.addCue(a)}n.processDateRange()})},I_=(t,e,i)=>{t.metadataTrack_||(t.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,se.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},Yo=function(t,e,i){let r,n;if(i&&i.cues)for(r=i.cues.length;r--;)n=i.cues[r],n.startTime>=t&&n.endTime<=e&&i.removeCue(n)},wM=function(t){const e=t.cues;if(!e)return;const i={};for(let r=e.length-1;r>=0;r--){const n=e[r],s=`${n.startTime}-${n.endTime}-${n.text}`;i[s]?t.removeCue(n):i[s]=n}},CM=(t,e,i)=>{if(typeof e>"u"||e===null||!t.length)return[];const r=Math.ceil((e-i+3)*xs.ONE_SECOND_IN_TS);let n;for(n=0;n<t.length&&!(t[n].pts>r);n++);return t.slice(n)},AM=(t,e,i)=>{if(!e.length)return t;if(i)return e.slice();const r=e[0].pts;let n=0;for(n;n<t.length&&!(t[n].pts>=r);n++);return t.slice(0,n).concat(e)},PM=(t,e,i,r)=>{const n=Math.ceil((e-r)*xs.ONE_SECOND_IN_TS),s=Math.ceil((i-r)*xs.ONE_SECOND_IN_TS),a=t.slice();let o=t.length;for(;o--&&!(t[o].pts<=s););if(o===-1)return a;let u=o+1;for(;u--&&!(t[u].pts<=n););return u=Math.max(u,0),a.splice(u,o-u+1),a},OM=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const i=Object.keys(t).sort(),r=Object.keys(e).sort();if(i.length!==r.length)return!1;for(let n=0;n<i.length;n++){const s=i[n];if(s!==r[n]||t[s]!==e[s])return!1}return!0},RM=function(t,e,i){e=e||[];const r=[];let n=0;for(let s=0;s<e.length;s++){const a=e[s];if(t===a.timeline&&(r.push(s),n+=a.duration,n>i))return s}return r.length===0?0:r[r.length-1]},Bo=1,DM=500,k_=t=>typeof t=="number"&&isFinite(t),pc=1/60,IM=(t,e,i)=>t!=="main"||!e||!i?null:!i.hasAudio&&!i.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,kM=(t,e,i)=>{let r=e-Gt.BACK_BUFFER_LENGTH;t.length&&(r=Math.max(r,t.start(0)));const n=e-i;return Math.min(n,r)},Gs=t=>{const{startOfSegment:e,duration:i,segment:r,part:n,playlist:{mediaSequence:s,id:a,segments:o=[]},mediaIndex:u,partIndex:l,timeline:c}=t,f=o.length-1;let m="mediaIndex/partIndex increment";t.getMediaInfoForTime?m=`getMediaInfoForTime (${t.getMediaInfoForTime})`:t.isSyncRequest&&(m="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(m+=` with independent ${t.independent}`);const h=typeof l=="number",g=t.segment.uri?"segment":"pre-segment",p=h?ex({preloadSegment:r})-1:0;return`${g} [${s+u}/${s+f}]`+(h?` part [${l}/${p}]`:"")+` segment start/end [${r.start} => ${r.end}]`+(h?` part start/end [${n.start} => ${n.end}]`:"")+` startOfSegment [${e}] duration [${i}] timeline [${c}] selected by [${m}] playlist [${a}]`},L_=t=>`${t}TimingInfo`,LM=({segmentTimeline:t,currentTimeline:e,startOfSegment:i,buffered:r,overrideCheck:n})=>!n&&t===e?null:t<e?i:r.length?r.end(r.length-1):i,wm=({timelineChangeController:t,currentTimeline:e,segmentTimeline:i,loaderType:r,audioDisabled:n})=>{if(e===i)return!1;if(r==="audio"){const s=t.lastTimelineChange({type:"main"});return!s||s.to!==i}if(r==="main"&&n){const s=t.pendingTimelineChange({type:"audio"});return!(s&&s.to===i)}return!1},NM=t=>{if(!t)return!1;const e=t.pendingTimelineChange({type:"audio"}),i=t.pendingTimelineChange({type:"main"}),r=e&&i,n=r&&e.to!==i.to;return!!(r&&e.from!==-1&&i.from!==-1&&n)},FM=t=>{const e=t.timelineChangeController_.pendingTimelineChange({type:"audio"}),i=t.timelineChangeController_.pendingTimelineChange({type:"main"});return e&&i&&e.to<i.to},$n=t=>{const e=t.pendingSegment_;if(!e)return;if(wm({timelineChangeController:t.timelineChangeController_,currentTimeline:t.currentTimeline_,segmentTimeline:e.timeline,loaderType:t.loaderType_,audioDisabled:t.audioDisabled_})&&NM(t.timelineChangeController_)){if(FM(t)){t.timelineChangeController_.trigger("audioTimelineBehind");return}t.timelineChangeController_.trigger("fixBadTimelineChange")}},MM=t=>{let e=0;return["video","audio"].forEach(function(i){const r=t[`${i}TimingInfo`];if(!r)return;const{start:n,end:s}=r;let a;typeof n=="bigint"||typeof s=="bigint"?a=q.BigInt(s)-q.BigInt(n):typeof n=="number"&&typeof s=="number"&&(a=s-n),typeof a<"u"&&a>e&&(e=a)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},N_=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+Wr:!1,$M=(t,e)=>{if(e!=="hls")return null;const i=MM({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!i)return null;const r=t.playlist.targetDuration,n=N_({segmentDuration:i,maxDuration:r*2}),s=N_({segmentDuration:i,maxDuration:r}),a=`Segment with index ${t.mediaIndex} from playlist ${t.playlist.id} has a duration of ${i} when the reported duration is ${t.duration} and the target duration is ${r}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return n||s?{severity:n?"warn":"info",message:a}:null},Es=({type:t,segment:e})=>{if(!e)return;const i=!!(e.key||e.map&&e.map.ke),r=!!(e.map&&!e.map.bytes),n=e.startOfSegment===void 0?e.start:e.startOfSegment;return{type:t||e.type,uri:e.resolvedUri||e.uri,start:n,duration:e.duration,isEncrypted:i,isMediaInitialization:r}};class Cm extends se.EventTarget{constructor(e,i={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=ur(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(r){r!==this.state_&&(this.logger_(`${this.state_} -> ${r}`),this.state_=r,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():$n(this)}),this.sourceUpdater_.on("codecschange",r=>{this.trigger(Ot({type:"codecschange"},r))}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():$n(this)}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",r=>{this.trigger(Ot({type:"timelinechange"},r)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():$n(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():$n(this)})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return Rf.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&q.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null),this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,q.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&Rf.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Yt();if(this.loaderType_==="main"){const{hasAudio:i,hasVideo:r,isMuxed:n}=e;if(r&&i&&!this.audioDisabled_&&!n)return this.sourceUpdater_.buffered();if(r)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,i=!1){if(!e)return null;const r=_d(e);let n=this.initSegments_[r];return i&&!n&&e.bytes&&(this.initSegments_[r]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),n||e}segmentKey(e,i=!1){if(!e)return null;const r=_x(e);let n=this.keyCache_[r];this.cacheEncryptionKeys_&&i&&!n&&e.bytes&&(this.keyCache_[r]=n={resolvedUri:e.resolvedUri,bytes:e.bytes});const s={resolvedUri:(n||e).resolvedUri};return n&&(s.bytes=n.bytes),s}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,i={}){if(!e||this.playlist_&&this.playlist_.endList&&e.endList&&this.playlist_.uri===e.uri)return;const r=this.playlist_,n=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=i,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let s=null;if(r&&(r.id?s=r.id:r.uri&&(s=r.uri)),this.logger_(`playlist update [${s} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:
currentTime: ${this.currentTime_()}
bufferedEnd: ${Pf(this.buffered_())}
`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!r||r.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const a=e.mediaSequence-r.mediaSequence;if(this.logger_(`live window shift [${a}]`),this.mediaIndex!==null)if(this.mediaIndex-=a,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const o=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!o.parts||!o.parts.length||!o.parts[this.partIndex])){const u=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=u}}n&&(n.mediaIndex-=a,n.mediaIndex<0?(n.mediaIndex=null,n.partIndex=null):(n.mediaIndex>=0&&(n.segment=e.segments[n.mediaIndex]),n.partIndex>=0&&n.segment.parts&&(n.part=n.segment.parts[n.partIndex]))),this.syncController_.saveExpiredSegmentInfo(r,e)}pause(){this.checkBufferTimeout_&&(q.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&Rf.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,i,r=()=>{},n=!1){if(i===1/0&&(i=this.duration_()),i<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let s=1;const a=()=>{s--,s===0&&r()};(n||!this.audioDisabled_)&&(s++,this.sourceUpdater_.removeAudio(e,i,a)),(n||this.loaderType_==="main")&&(this.gopBuffer_=PM(this.gopBuffer_,e,i,this.timeMapping_),s++,this.sourceUpdater_.removeVideo(e,i,a));for(const o in this.inbandTextTracks_)Yo(e,i,this.inbandTextTracks_[o]);Yo(e,i,this.segmentMetadataTrack_),a()}monitorBuffer_(){this.checkBufferTimeout_&&q.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=q.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&q.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=q.setTimeout(this.monitorBufferTick_.bind(this),DM)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const i={segmentInfo:Es({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:i}),typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,i=this.playlist_,r=this.partIndex){if(!i||!this.mediaSource_)return!1;const n=typeof e=="number"&&i.segments[e],s=e+1===i.segments.length,a=!n||!n.parts||r+1===n.parts.length;return i.endList&&this.mediaSource_.readyState==="open"&&s&&a}chooseNextRequest_(){const e=this.buffered_(),i=Pf(e)||0,r=Xg(e,this.currentTime_()),n=!this.hasPlayed_()&&r>=1,s=r>=this.goalBufferLength_(),a=this.playlist_.segments;if(!a.length||n||s)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const o={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(o.isSyncRequest)o.mediaIndex=RM(this.currentTimeline_,a,i),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${o.mediaIndex}`);else if(this.mediaIndex!==null){const m=a[this.mediaIndex],h=typeof this.partIndex=="number"?this.partIndex:-1;o.startOfSegment=m.end?m.end:i,m.parts&&m.parts[h+1]?(o.mediaIndex=this.mediaIndex,o.partIndex=h+1):o.mediaIndex=this.mediaIndex+1}else{let m,h,g;const p=this.fetchAtBuffer_?i:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:
For TargetTime: ${p}.
CurrentTime: ${this.currentTime_()}
BufferedEnd: ${i}
Fetch At Buffer: ${this.fetchAtBuffer_}
`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const _=this.getSyncInfoFromMediaSequenceSync_(p);if(!_){const y="No sync info found while using media sequence sync";return this.error({message:y,metadata:{errorType:se.Error.StreamingFailedToSelectNextSegment,error:new Error(y)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${_.start} --> ${_.end})`),m=_.segmentIndex,h=_.partIndex,g=_.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const _=Di.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:p,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});m=_.segmentIndex,h=_.partIndex,g=_.startTime}o.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${p}`:`currentTime ${p}`,o.mediaIndex=m,o.startOfSegment=g,o.partIndex=h,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${o.mediaIndex} `)}const u=a[o.mediaIndex];let l=u&&typeof o.partIndex=="number"&&u.parts&&u.parts[o.partIndex];if(!u||typeof o.partIndex=="number"&&!l)return null;typeof o.partIndex!="number"&&u.parts&&(o.partIndex=0,l=u.parts[0]);const c=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!r&&l&&!c&&!l.independent)if(o.partIndex===0){const m=a[o.mediaIndex-1],h=m.parts&&m.parts.length&&m.parts[m.parts.length-1];h&&h.independent&&(o.mediaIndex-=1,o.partIndex=m.parts.length-1,o.independent="previous segment")}else u.parts[o.partIndex-1].independent&&(o.partIndex-=1,o.independent="previous part");const f=this.mediaSource_&&this.mediaSource_.readyState==="ended";return o.mediaIndex>=a.length-1&&f&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,o.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(o))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const i=Math.max(e,this.mediaSequenceSync_.start);e!==i&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${i}`);const r=this.mediaSequenceSync_.getSyncInfoForTime(i);if(!r)return null;if(!r.isAppended)return r;const n=this.mediaSequenceSync_.getSyncInfoForTime(r.end);return n?(n.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),n):null}generateSegmentInfo_(e){const{independent:i,playlist:r,mediaIndex:n,startOfSegment:s,isSyncRequest:a,partIndex:o,forceTimestampOffset:u,getMediaInfoForTime:l}=e,c=r.segments[n],f=typeof o=="number"&&c.parts[o],m={requestId:"segment-loader-"+Math.random(),uri:f&&f.resolvedUri||c.resolvedUri,mediaIndex:n,partIndex:f?o:null,isSyncRequest:a,startOfSegment:s,playlist:r,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:c.timeline,duration:f&&f.duration||c.duration,segment:c,part:f,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:l,independent:i},h=typeof u<"u"?u:this.isPendingTimestampOffset_;m.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:c.timeline,currentTimeline:this.currentTimeline_,startOfSegment:s,buffered:this.buffered_(),overrideCheck:h});const g=Pf(this.sourceUpdater_.audioBuffered());return typeof g=="number"&&(m.audioAppendStart=g-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(m.gopsToAlignWith=CM(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),m}timestampOffsetForSegment_(e){return LM(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const i=this.currentTime_(),r=e.bandwidth,n=this.pendingSegment_.duration,s=Di.estimateSegmentRequestTime(n,r,this.playlist_,e.bytesReceived),a=i4(this.buffered_(),i,this.vhs_.tech_.playbackRate())-1;if(s<=a)return;const o=mM({main:this.vhs_.playlists.main,currentTime:i,bandwidth:r,duration:this.duration_(),segmentDuration:n,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!o)return;const l=s-a-o.rebufferingImpact;let c=.5;a<=Wr&&(c=1),!(!o.playlist||o.playlist.uri===this.playlist_.uri||l<c)&&(this.bandwidth=o.playlist.attributes.BANDWIDTH*Gt.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${Gs(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,i){this.earlyAbortWhenNeeded_(i.stats),!this.checkForAbort_(i.requestId)&&this.trigger("progress")}handleTrackInfo_(e,i){const{hasAudio:r,hasVideo:n}=i,s={segmentInfo:Es({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:r,hasVideo:n}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:s}),this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(i)||(i=i||{},OM(this.currentMediaInfo_,i)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=i,this.currentMediaInfo_=i,this.logger_("trackinfo update",i),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=i,this.hasEnoughInfoToAppend_()?this.processCallQueue_():$n(this))))}handleTimingInfo_(e,i,r,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const s=this.pendingSegment_,a=L_(i);s[a]=s[a]||{},s[a][r]=n,this.logger_(`timinginfo: ${i} - ${r} - ${n}`),this.hasEnoughInfoToAppend_()?this.processCallQueue_():$n(this)}handleCaptions_(e,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(i.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,i));return}const n=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),s={};i.forEach(a=>{s[a.stream]=s[a.stream]||{startTime:1/0,captions:[],endTime:0};const o=s[a.stream];o.startTime=Math.min(o.startTime,a.startTime+n),o.endTime=Math.max(o.endTime,a.endTime+n),o.captions.push(a)}),Object.keys(s).forEach(a=>{const{startTime:o,endTime:u,captions:l}=s[a],c=this.inbandTextTracks_;this.logger_(`adding cues from ${o} -> ${u} for ${a}`),vM(c,this.vhs_.tech_,a),Yo(o,u,c[a]),_M({captionArray:l,inbandTextTracks:c,timestampOffset:n})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,i,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,i,r));return}this.addMetadataToTextTrack(r,i,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(i=>i())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(i=>i())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!wm({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,i=this.getCurrentMediaInfo_();if(!e||!i)return!1;const{hasAudio:r,hasVideo:n,isMuxed:s}=i;return!(n&&!e.videoTimingInfo||r&&!this.audioDisabled_&&!s&&!e.audioTimingInfo||wm({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){$n(this),this.callQueue_.push(this.handleData_.bind(this,e,i));return}const r=this.pendingSegment_;if(this.setTimeMapping_(r.timeline),this.updateMediaSecondsLoaded_(r.part||r.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),r.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),r.isFmp4=e.isFmp4,r.timingInfo=r.timingInfo||{},r.isFmp4)this.trigger("fmp4"),r.timingInfo.start=r[L_(i.type)].start;else{const n=this.getCurrentMediaInfo_(),s=this.loaderType_==="main"&&n&&n.hasVideo;let a;s&&(a=r.videoTimingInfo.start),r.timingInfo.start=this.trueSegmentStart_({currentStart:r.timingInfo.start,playlist:r.playlist,mediaIndex:r.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:s,firstVideoFrameTimeForData:a,videoTimingInfo:r.videoTimingInfo,audioTimingInfo:r.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(r,i.type),this.updateSourceBufferTimestampOffset_(r),r.isSyncRequest){this.updateTimingInfoEnd_(r),this.syncController_.saveSegmentTimingInfo({segmentInfo:r,shouldSaveTimelineMapping:this.loaderType_==="main"});const n=this.chooseNextRequest_();if(n.mediaIndex!==r.mediaIndex||n.partIndex!==r.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}r.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(r,i)}}updateAppendInitSegmentStatus(e,i){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[i]!==e.playlist&&(this.appendInitSegment_[i]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:i,map:r,playlist:n}){if(r){const s=_d(r);if(this.activeInitSegmentId_===s)return null;i=this.initSegmentForMap(r,!0).bytes,this.activeInitSegmentId_=s}return i&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=n,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,i):null}handleQuotaExceededError_({segmentInfo:e,type:i,bytes:r},n){const s=this.sourceUpdater_.audioBuffered(),a=this.sourceUpdater_.videoBuffered();s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+ws(s).join(", ")),a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+ws(a).join(", "));const o=s.length?s.start(0):0,u=s.length?s.end(s.length-1):0,l=a.length?a.start(0):0,c=a.length?a.end(a.length-1):0;if(u-o<=Bo&&c-l<=Bo){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${r.byteLength}, audio buffer: ${ws(s).join(", ")}, video buffer: ${ws(a).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:i,bytes:r}));const m=this.currentTime_()-Bo;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${m}`),this.remove(0,m,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${Bo}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=q.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},Bo*1e3)},!0)}handleAppendError_({segmentInfo:e,type:i,bytes:r},n){if(n){if(n.code===dx){this.handleQuotaExceededError_({segmentInfo:e,type:i,bytes:r});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",n),this.error({message:`${i} append of ${r.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:se.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:i,initSegment:r,data:n,bytes:s}){if(!s){const o=[n];let u=n.byteLength;r&&(o.unshift(r),u+=r.byteLength),s=yM({bytes:u,segments:o})}const a={segmentInfo:Es({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:a}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:i,bytes:s},this.handleAppendError_.bind(this,{segmentInfo:e,type:i,bytes:s}))}handleSegmentTimingInfo_(e,i,r){if(!this.pendingSegment_||i!==this.pendingSegment_.requestId)return;const n=this.pendingSegment_.segment,s=`${e}TimingInfo`;n[s]||(n[s]={}),n[s].transmuxerPrependedSeconds=r.prependedContentDuration||0,n[s].transmuxedPresentationStart=r.start.presentation,n[s].transmuxedDecodeStart=r.start.decode,n[s].transmuxedPresentationEnd=r.end.presentation,n[s].transmuxedDecodeEnd=r.end.decode,n[s].baseMediaDecodeTime=r.baseMediaDecodeTime}appendData_(e,i){const{type:r,data:n}=i;if(!n||!n.byteLength||r==="audio"&&this.audioDisabled_)return;const s=this.getInitSegmentAndUpdateState_({type:r,initSegment:i.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:r,initSegment:s,data:n})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){$n(this),this.loadQueue_.push(()=>{const i=Ot({},e,{forceTimestampOffset:!0});Ot(e,this.generateSegmentInfo_(i)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const i=this.createSimplifiedSegmentObj_(e),r=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),n=this.mediaIndex!==null,s=e.timeline!==this.currentTimeline_&&e.timeline>0,a=r||n&&s;this.logger_(`Requesting
${Fx(e.uri)}
${Gs(e)}`),i.map&&!i.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=hM({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:i,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:a,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:o,level:u,stream:l})=>{this.logger_(`${Gs(e)} logged from transmuxer stream ${l} as a ${u}: ${o}`)},triggerSegmentEventFn:({type:o,segment:u,keyInfo:l,trackInfo:c,timingInfo:f})=>{const h={segmentInfo:Es({segment:u})};l&&(h.keyInfo=l),c&&(h.trackInfo=c),f&&(h.timingInfo=f),this.trigger({type:o,metadata:h})}})}trimBackBuffer_(e){const i=kM(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);i>0&&this.remove(0,i)}createSimplifiedSegmentObj_(e){const i=e.segment,r=e.part,n=e.segment.key||e.segment.map&&e.segment.map.key,s=e.segment.map&&!e.segment.map.bytes,a={resolvedUri:r?r.resolvedUri:i.resolvedUri,byterange:r?r.byterange:i.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:n,isMediaInitialization:s},o=e.playlist.segments[e.mediaIndex-1];if(o&&o.timeline===i.timeline&&(o.videoTimingInfo?a.baseStartTime=o.videoTimingInfo.transmuxedDecodeEnd:o.audioTimingInfo&&(a.baseStartTime=o.audioTimingInfo.transmuxedDecodeEnd)),i.key){const u=i.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);a.key=this.segmentKey(i.key),a.key.iv=u}return i.map&&(a.map=this.initSegmentForMap(i.map)),a}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,i){if(this.pendingSegment_.byteLength=i.bytesReceived,e<pc){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${pc}`);return}const r={bandwidthInfo:{from:this.bandwidth,to:i.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:r}),this.bandwidth=i.bandwidth,this.roundTrip=i.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,i,r){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,i,r));return}if(this.saveTransferStats_(i.stats),!this.pendingSegment_||i.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===Gr.ABORTED)return;if(this.pause(),e.code===Gr.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const n=this.pendingSegment_;this.saveBandwidthRelatedStats_(n.duration,i.stats),n.endOfAllRequests=i.endOfAllRequests,r.gopInfo&&(this.gopBuffer_=AM(this.gopBuffer_,r.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(n)}setTimeMapping_(e){const i=this.syncController_.mappingForTimeline(e);i!==null&&(this.timeMapping_=i)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:i,mediaIndex:r,firstVideoFrameTimeForData:n,currentVideoTimestampOffset:s,useVideoTimingInfo:a,videoTimingInfo:o,audioTimingInfo:u}){if(typeof e<"u")return e;if(!a)return u.start;const l=i.segments[r-1];return r===0||!l||typeof l.start>"u"||l.end!==n+s?n:o.start}waitForAppendsToComplete_(e){const i=this.getCurrentMediaInfo_(e);if(!i){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:r,hasVideo:n,isMuxed:s}=i,a=this.loaderType_==="main"&&n,o=!this.audioDisabled_&&r&&!s;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}a&&e.waitingOnAppends++,o&&e.waitingOnAppends++,a&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),o&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const i=IM(this.loaderType_,this.getCurrentMediaInfo_(),e);return i?(this.error({message:i,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let i=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),i=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),i=!0),i&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:i,timingInfo:r}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:i&&typeof i.transmuxedDecodeStart=="number"?i.transmuxedDecodeStart:r.start:r.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const i=this.getMediaInfo_(),n=this.loaderType_==="main"&&i&&i.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;n&&(e.timingInfo.end=typeof n.end=="number"?n.end:n.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const u={segmentInfo:Es({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:u})}if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const i=$M(e,this.sourceType_);if(i&&(i.severity==="warn"?se.log.warn(i.message):this.logger_(i.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${Gs(e)}`);return}this.logger_(`Appended ${Gs(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const r=e.segment,n=e.part,s=r.end&&this.currentTime_()-r.end>e.playlist.targetDuration*3,a=n&&n.end&&this.currentTime_()-n.end>e.playlist.partTargetDuration*3;if(s||a){this.logger_(`bad ${s?"segment":"part"} ${Gs(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<pc){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${pc}`);return}const i=this.throughput.rate,r=Date.now()-e.endOfAllRequests+1,n=Math.floor(e.byteLength/r*8*1e3);this.throughput.rate+=(n-i)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const i=e.segment,r=i.start,n=i.end;if(!k_(r)||!k_(n))return;Yo(r,n,this.segmentMetadataTrack_);const s=q.WebKitDataCue||q.VTTCue,a={custom:i.custom,dateTimeObject:i.dateTimeObject,dateTimeString:i.dateTimeString,programDateTime:i.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:r,end:n},o=JSON.stringify(a),u=new s(r,n,o);u.value=a,this.segmentMetadataTrack_.addCue(u)}}function vn(){}const Mx=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},jM=["video","audio"],Am=(t,e)=>{const i=e[`${t}Buffer`];return i&&i.updating||e.queuePending[t]},BM=(t,e)=>{for(let i=0;i<e.length;i++){const r=e[i];if(r.type==="mediaSource")return null;if(r.type===t)return i}return null},Aa=(t,e)=>{if(e.queue.length===0)return;let i=0,r=e.queue[i];if(r.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),r.action(e),r.doneFn&&r.doneFn(),Aa("audio",e),Aa("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||Am(t,e))){if(r.type!==t){if(i=BM(t,e.queue),i===null)return;r=e.queue[i]}if(e.queue.splice(i,1),e.queuePending[t]=r,r.action(t,e),!r.doneFn){e.queuePending[t]=null,Aa(t,e);return}}},$x=(t,e)=>{const i=e[`${t}Buffer`],r=Mx(t);i&&(i.removeEventListener("updateend",e[`on${r}UpdateEnd_`]),i.removeEventListener("error",e[`on${r}Error_`]),e.codecs[t]=null,e[`${t}Buffer`]=null)},jr=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,Fi={appendBuffer:(t,e,i)=>(r,n)=>{const s=n[`${r}Buffer`];if(jr(n.mediaSource,s)){n.logger_(`Appending segment ${e.mediaIndex}'s ${t.length} bytes to ${r}Buffer`);try{s.appendBuffer(t)}catch(a){n.logger_(`Error with code ${a.code} `+(a.code===dx?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${r}Buffer`),n.queuePending[r]=null,i(a)}}},remove:(t,e)=>(i,r)=>{const n=r[`${i}Buffer`];if(jr(r.mediaSource,n)){r.logger_(`Removing ${t} to ${e} from ${i}Buffer`);try{n.remove(t,e)}catch{r.logger_(`Remove ${t} to ${e} from ${i}Buffer failed`)}}},timestampOffset:t=>(e,i)=>{const r=i[`${e}Buffer`];jr(i.mediaSource,r)&&(i.logger_(`Setting ${e}timestampOffset to ${t}`),r.timestampOffset=t)},callback:t=>(e,i)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${t||""})`);try{e.mediaSource.endOfStream(t)}catch(i){se.log.warn("Failed to call media source endOfStream",i)}}},duration:t=>e=>{e.logger_(`Setting mediaSource duration to ${t}`);try{e.mediaSource.duration=t}catch(i){se.log.warn("Failed to set media source duration",i)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const i=e[`${t}Buffer`];if(jr(e.mediaSource,i)){e.logger_(`calling abort on ${t}Buffer`);try{i.abort()}catch(r){se.log.warn(`Failed to abort on ${t}Buffer`,r)}}},addSourceBuffer:(t,e)=>i=>{const r=Mx(t),n=ka(e);i.logger_(`Adding ${t}Buffer with codec ${e} to mediaSource`);const s=i.mediaSource.addSourceBuffer(n);s.addEventListener("updateend",i[`on${r}UpdateEnd_`]),s.addEventListener("error",i[`on${r}Error_`]),i.codecs[t]=e,i[`${t}Buffer`]=s},removeSourceBuffer:t=>e=>{const i=e[`${t}Buffer`];if($x(t,e),!!jr(e.mediaSource,i)){e.logger_(`Removing ${t}Buffer with codec ${e.codecs[t]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(i)}catch(r){se.log.warn(`Failed to removeSourceBuffer ${t}Buffer`,r)}}},changeType:t=>(e,i)=>{const r=i[`${e}Buffer`],n=ka(t);if(!jr(i.mediaSource,r))return;const s=t.substring(0,t.indexOf(".")),a=i.codecs[e];if(a.substring(0,a.indexOf("."))===s)return;const u={codecsChangeInfo:{from:a,to:t}};i.trigger({type:"codecschange",metadata:u}),i.logger_(`changing ${e}Buffer codec from ${a} to ${t}`);try{r.changeType(n),i.codecs[e]=t}catch(l){u.errorType=se.Error.StreamingCodecsChangeError,u.error=l,l.metadata=u,i.error_=l,i.trigger("error"),se.log.warn(`Failed to changeType on ${e}Buffer`,l)}}},Mi=({type:t,sourceUpdater:e,action:i,doneFn:r,name:n})=>{e.queue.push({type:t,action:i,doneFn:r,name:n}),Aa(t,e)},F_=(t,e)=>i=>{const r=e[`${t}Buffered`](),n=ZF(r);if(e.logger_(`received "updateend" event for ${t} Source Buffer: `,n),e.queuePending[t]){const s=e.queuePending[t].doneFn;e.queuePending[t]=null,s&&s(e[`${t}Error_`])}Aa(t,e)};class jx extends se.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>Aa("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=ur("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=F_("video",this),this.onAudioUpdateEnd_=F_("audio",this),this.onVideoError_=i=>{this.videoError_=i},this.onAudioError_=i=>{this.audioError_=i},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,i){Mi({type:"mediaSource",sourceUpdater:this,action:Fi.addSourceBuffer(e,i),name:"addSourceBuffer"})}abort(e){Mi({type:e,sourceUpdater:this,action:Fi.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){se.log.error("removeSourceBuffer is not supported!");return}Mi({type:"mediaSource",sourceUpdater:this,action:Fi.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!se.browser.IS_FIREFOX&&q.MediaSource&&q.MediaSource.prototype&&typeof q.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return q.SourceBuffer&&q.SourceBuffer.prototype&&typeof q.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,i){if(!this.canChangeType()){se.log.error("changeType is not supported!");return}Mi({type:e,sourceUpdater:this,action:Fi.changeType(i),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(i=>{const r=e[i];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(i,r);this.canChangeType()&&this.changeType(i,r)})}appendBuffer(e,i){const{segmentInfo:r,type:n,bytes:s}=e;if(this.processedAppend_=!0,n==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,i]),this.logger_(`delayed audio append of ${s.length} until video append`);return}const a=i;if(Mi({type:n,sourceUpdater:this,action:Fi.appendBuffer(s,r||{mediaIndex:-1},a),doneFn:i,name:"appendBuffer"}),n==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const o=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${o.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,o.forEach(u=>{this.appendBuffer.apply(this,u)})}}audioBuffered(){return jr(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Yt()}videoBuffered(){return jr(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Yt()}buffered(){const e=jr(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,i=jr(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return i&&!e?this.audioBuffered():e&&!i?this.videoBuffered():t4(this.audioBuffered(),this.videoBuffered())}setDuration(e,i=vn){Mi({type:"mediaSource",sourceUpdater:this,action:Fi.duration(e),name:"duration",doneFn:i})}endOfStream(e=null,i=vn){typeof e!="string"&&(e=void 0),Mi({type:"mediaSource",sourceUpdater:this,action:Fi.endOfStream(e),name:"endOfStream",doneFn:i})}removeAudio(e,i,r=vn){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){r();return}Mi({type:"audio",sourceUpdater:this,action:Fi.remove(e,i),doneFn:r,name:"remove"})}removeVideo(e,i,r=vn){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){r();return}Mi({type:"video",sourceUpdater:this,action:Fi.remove(e,i),doneFn:r,name:"remove"})}updating(){return!!(Am("audio",this)||Am("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(Mi({type:"audio",sourceUpdater:this,action:Fi.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(Mi({type:"video",sourceUpdater:this,action:Fi.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&Mi({type:"audio",sourceUpdater:this,action:Fi.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&Mi({type:"video",sourceUpdater:this,action:Fi.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),jM.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>$x(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const M_=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),UM=t=>{const e=new Uint8Array(t);return Array.from(e).map(i=>i.toString(16).padStart(2,"0")).join("")},$_=new Uint8Array(`

`.split("").map(t=>t.charCodeAt(0)));class HM extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class qM extends Cm{constructor(e,i={}){super(e,i),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Yt();const e=this.subtitlesTrack_.cues,i=e[0].startTime,r=e[e.length-1].startTime;return Yt([[i,r]])}initSegmentForMap(e,i=!1){if(!e)return null;const r=_d(e);let n=this.initSegments_[r];if(i&&!n&&e.bytes){const s=$_.byteLength+e.bytes.byteLength,a=new Uint8Array(s);a.set(e.bytes),a.set($_,e.bytes.byteLength),this.initSegments_[r]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return n||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,i){Yo(e,i,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const i=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",i),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,i,r){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(i.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===Gr.TIMEOUT&&this.handleTimeout_(),e.code===Gr.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const n=this.pendingSegment_,s=r.mp4VttCues&&r.mp4VttCues.length;s&&(n.mp4VttCues=r.mp4VttCues),this.saveBandwidthRelatedStats_(n.duration,i.stats),i.key&&this.segmentKey(i.key,!0),this.state="APPENDING",this.trigger("appending");const a=n.segment;if(a.map&&(a.map.bytes=i.map.bytes),n.bytes=i.bytes,typeof q.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,i,r),()=>this.stopForError({message:"Error loading vtt.js"}));return}a.requested=!0;try{this.parseVTTCues_(n)}catch(o){this.stopForError({message:o.message,metadata:{errorType:se.Error.StreamingVttParserError,error:o}});return}if(s||this.updateTimeMapping_(n,this.syncController_.timelines[n.timeline],this.playlist_),n.cues.length?n.timingInfo={start:n.cues[0].startTime,end:n.cues[n.cues.length-1].endTime}:n.timingInfo={start:n.startOfSegment,end:n.startOfSegment+n.duration},n.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}n.byteLength=n.bytes.byteLength,this.mediaSecondsLoaded+=a.duration,n.cues.forEach(o=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new q.VTTCue(o.startTime,o.endTime,o.text):o)}),wM(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(e,i){const r=e&&e.type==="vtt",n=i&&i.type==="text";r&&n&&super.handleData_(e,i)}updateTimingInfoEnd_(){}parseMp4VttCues_(e){const i=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();e.mp4VttCues.forEach(r=>{const n=r.start+i,s=r.end+i,a=new q.VTTCue(n,s,r.cueText);r.settings&&r.settings.split(" ").forEach(o=>{const u=o.split(":"),l=u[0],c=u[1];a[l]=isNaN(c)?c:Number(c)}),e.cues.push(a)})}parseVTTCues_(e){let i,r=!1;if(typeof q.WebVTT!="function")throw new HM;if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},e.mp4VttCues){this.parseMp4VttCues_(e);return}typeof q.TextDecoder=="function"?i=new q.TextDecoder("utf8"):(i=q.WebVTT.StringDecoder(),r=!0);const n=new q.WebVTT.Parser(q,q.vttjs,i);if(n.oncue=e.cues.push.bind(e.cues),n.ontimestampmap=a=>{e.timestampmap=a},n.onparsingerror=a=>{se.log.warn("Error encountered when parsing cues: "+a.message)},e.segment.map){let a=e.segment.map.bytes;r&&(a=M_(a)),n.parse(a)}let s=e.bytes;r&&(s=M_(s)),n.parse(s),n.flush()}updateTimeMapping_(e,i,r){const n=e.segment;if(!i)return;if(!e.cues.length){n.empty=!0;return}const{MPEGTS:s,LOCAL:a}=e.timestampmap,u=s/xs.ONE_SECOND_IN_TS-a+i.mapping;if(e.cues.forEach(l=>{const c=l.endTime-l.startTime,f=this.handleRollover_(l.startTime+u,i.time);l.startTime=Math.max(f,0),l.endTime=Math.max(f+c,0)}),!r.syncInfo){const l=e.cues[0].startTime,c=e.cues[e.cues.length-1].startTime;r.syncInfo={mediaSequence:r.mediaSequence+e.mediaIndex,time:Math.min(l,c-n.duration)}}}handleRollover_(e,i){if(i===null)return e;let r=e*xs.ONE_SECOND_IN_TS;const n=i*xs.ONE_SECOND_IN_TS;let s;for(n<r?s=-8589934592:s=8589934592;Math.abs(r-n)>4294967296;)r+=s;return r/xs.ONE_SECOND_IN_TS}}const VM=function(t,e){const i=t.cues;for(let r=0;r<i.length;r++){const n=i[r];if(e>=n.adStartTime&&e<=n.adEndTime)return n}return null},WM=function(t,e,i=0){if(!t.segments)return;let r=i,n;for(let s=0;s<t.segments.length;s++){const a=t.segments[s];if(n||(n=VM(e,r+a.duration/2)),n){if("cueIn"in a){n.endTime=r,n.adEndTime=r,r+=a.duration,n=null;continue}if(r<n.endTime){r+=a.duration;continue}n.endTime+=a.duration}else if("cueOut"in a&&(n=new q.VTTCue(r,r+a.duration,a.cueOut),n.adStartTime=r,n.adEndTime=r+parseFloat(a.cueOut),e.addCue(n)),"cueOutCont"in a){const[o,u]=a.cueOutCont.split("/").map(parseFloat);n=new q.VTTCue(r,r+a.duration,""),n.adStartTime=r-o,n.adEndTime=n.adStartTime+u,e.addCue(n)}r+=a.duration}};class j_{constructor({start:e,end:i,segmentIndex:r,partIndex:n=null,appended:s=!1}){this.start_=e,this.end_=i,this.segmentIndex_=r,this.partIndex_=n,this.appended_=s}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class zM{constructor(e,i=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=i}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}}class Bx{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,i){const{mediaSequence:r,segments:n}=e;if(this.isReliable_=this.isReliablePlaylist_(r,n),!!this.isReliable_)return this.updateStorage_(n,r,this.calculateBaseTime_(r,n,i))}getSyncInfoForTime(e){for(const{segmentSyncInfo:i,partsSyncInfo:r}of this.storage_.values())if(r.length){for(const n of r)if(n.isInRange(e))return n}else if(i.isInRange(e))return i;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,i,r){const n=new Map;let s=`
`,a=r,o=i;this.start_=a,e.forEach((u,l)=>{const c=this.storage_.get(o),f=a,m=f+u.duration,h=!!(c&&c.segmentSyncInfo&&c.segmentSyncInfo.isAppended),g=new j_({start:f,end:m,appended:h,segmentIndex:l});u.syncInfo=g;let p=a;const _=(u.parts||[]).map((y,T)=>{const E=p,C=p+y.duration,R=!!(c&&c.partsSyncInfo&&c.partsSyncInfo[T]&&c.partsSyncInfo[T].isAppended),I=new j_({start:E,end:C,appended:R,segmentIndex:l,partIndex:T});return p=C,s+=`Media Sequence: ${o}.${T} | Range: ${E} --> ${C} | Appended: ${R}
`,y.syncInfo=I,I});n.set(o,new zM(g,_)),s+=`${Fx(u.resolvedUri)} | Media Sequence: ${o} | Range: ${f} --> ${m} | Appended: ${h}
`,o++,a=m}),this.end_=a,this.storage_=n,this.diagnostics_=s}calculateBaseTime_(e,i,r){if(!this.storage_.size)return 0;if(this.storage_.has(e))return this.storage_.get(e).segmentSyncInfo.start;const n=Math.min(...this.storage_.keys());if(e<n){const s=n-e;let a=this.storage_.get(n).segmentSyncInfo.start;for(let o=0;o<s;o++){const u=i[o];a-=u.duration}return a}return r}isReliablePlaylist_(e,i){return e!=null&&Array.isArray(i)&&i.length}}class B_ extends Bx{constructor(e){super(),this.parent_=e}calculateBaseTime_(e,i,r){if(!this.storage_.size){const n=this.parent_.getSyncInfoForMediaSequence(e);return n?n.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,i,r)}}const GM=86400,Df=[{name:"VOD",run:(t,e,i,r,n)=>i!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(t,e,i,r,n,s)=>{const a=t.getMediaSequenceSync(s);if(!a||!a.isReliable)return null;const o=a.getSyncInfoForTime(n);return o?{time:o.start,partIndex:o.partIndex,segmentIndex:o.segmentIndex}:null}},{name:"ProgramDateTime",run:(t,e,i,r,n)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let s=null,a=null;const o=ym(e);n=n||0;for(let u=0;u<o.length;u++){const l=e.endList||n===0?u:o.length-(u+1),c=o[l],f=c.segment,m=t.timelineToDatetimeMappings[f.timeline];if(!m||!f.dateTimeObject)continue;let g=f.dateTimeObject.getTime()/1e3+m;if(f.parts&&typeof c.partIndex=="number")for(let _=0;_<c.partIndex;_++)g+=f.parts[_].duration;const p=Math.abs(n-g);if(a!==null&&(p===0||a<p))break;a=p,s={time:g,segmentIndex:c.segmentIndex,partIndex:c.partIndex}}return s}},{name:"Segment",run:(t,e,i,r,n)=>{let s=null,a=null;n=n||0;const o=ym(e);for(let u=0;u<o.length;u++){const l=e.endList||n===0?u:o.length-(u+1),c=o[l],f=c.segment,m=c.part&&c.part.start||f&&f.start;if(f.timeline===r&&typeof m<"u"){const h=Math.abs(n-m);if(a!==null&&a<h)break;(!s||a===null||a>=h)&&(a=h,s={time:m,segmentIndex:c.segmentIndex,partIndex:c.partIndex})}}return s}},{name:"Discontinuity",run:(t,e,i,r,n)=>{let s=null;if(n=n||0,e.discontinuityStarts&&e.discontinuityStarts.length){let a=null;for(let o=0;o<e.discontinuityStarts.length;o++){const u=e.discontinuityStarts[o],l=e.discontinuitySequence+o+1,c=t.discontinuities[l];if(c){const f=Math.abs(n-c.time);if(a!==null&&a<f)break;(!s||a===null||a>=f)&&(a=f,s={time:c.time,segmentIndex:u,partIndex:null})}}}return s}},{name:"Playlist",run:(t,e,i,r,n)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class KM extends se.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const i=new Bx,r=new B_(i),n=new B_(i);this.mediaSequenceStorage_={main:i,audio:r,vtt:n},this.logger_=ur("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,i,r,n,s){if(i!==1/0)return Df.find(({name:u})=>u==="VOD").run(this,e,i);const a=this.runStrategies_(e,i,r,n,s);if(!a.length)return null;for(const o of a){const{syncPoint:u,strategy:l}=o,{segmentIndex:c,time:f}=u;if(c<0)continue;const m=e.segments[c],h=f,g=h+m.duration;if(this.logger_(`Strategy: ${l}. Current time: ${n}. selected segment: ${c}. Time: [${h} -> ${g}]}`),n>=h&&n<g)return this.logger_("Found sync point with exact match: ",u),u}return this.selectSyncPoint_(a,{key:"time",value:n})}getExpiredTime(e,i){if(!e||!e.segments)return null;const r=this.runStrategies_(e,i,e.discontinuitySequence,0);if(!r.length)return null;const n=this.selectSyncPoint_(r,{key:"segmentIndex",value:0});return n.segmentIndex>0&&(n.time*=-1),Math.abs(n.time+pu({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:n.segmentIndex,endIndex:0}))}runStrategies_(e,i,r,n,s){const a=[];for(let o=0;o<Df.length;o++){const u=Df[o],l=u.run(this,e,i,r,n,s);l&&(l.strategy=u.name,a.push({strategy:u.name,syncPoint:l}))}return a}selectSyncPoint_(e,i){let r=e[0].syncPoint,n=Math.abs(e[0].syncPoint[i.key]-i.value),s=e[0].strategy;for(let a=1;a<e.length;a++){const o=Math.abs(e[a].syncPoint[i.key]-i.value);o<n&&(n=o,r=e[a].syncPoint,s=e[a].strategy)}return this.logger_(`syncPoint for [${i.key}: ${i.value}] chosen with strategy [${s}]: [time:${r.time}, segmentIndex:${r.segmentIndex}`+(typeof r.partIndex=="number"?`,partIndex:${r.partIndex}`:"")+"]"),r}saveExpiredSegmentInfo(e,i){const r=i.mediaSequence-e.mediaSequence;if(r>GM){se.log.warn(`Not saving expired segment info. Media sequence gap ${r} is too large.`);return}for(let n=r-1;n>=0;n--){const s=e.segments[n];if(s&&typeof s.start<"u"){i.syncInfo={mediaSequence:e.mediaSequence+n,time:s.start},this.logger_(`playlist refresh sync: [time:${i.syncInfo.time}, mediaSequence: ${i.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const i=e.segments[0],r=i.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[i.timeline]=-r}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:i}){const r=this.calculateSegmentTimeMapping_(e,e.timingInfo,i),n=e.segment;r&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:n.start}));const s=n.dateTimeObject;n.discontinuity&&i&&s&&(this.timelineToDatetimeMappings[n.timeline]=-(s.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,i,r){const n=e.segment,s=e.part;let a=this.timelines[e.timeline],o,u;if(typeof e.timestampOffset=="number")a={time:e.startOfSegment,mapping:e.startOfSegment-i.start},r&&(this.timelines[e.timeline]=a,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${a.time}] [mapping: ${a.mapping}]`)),o=e.startOfSegment,u=i.end+a.mapping;else if(a)o=i.start+a.mapping,u=i.end+a.mapping;else return!1;return s&&(s.start=o,s.end=u),(!n.start||o<n.start)&&(n.start=o),n.end=u,!0}saveDiscontinuitySyncInfo_(e){const i=e.playlist,r=e.segment;if(r.discontinuity)this.discontinuities[r.timeline]={time:r.start,accuracy:0};else if(i.discontinuityStarts&&i.discontinuityStarts.length)for(let n=0;n<i.discontinuityStarts.length;n++){const s=i.discontinuityStarts[n],a=i.discontinuitySequence+n+1,o=s-e.mediaIndex,u=Math.abs(o);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>u){let l;o<0?l=r.start-pu({defaultDuration:i.targetDuration,durationList:i.segments,startIndex:e.mediaIndex,endIndex:s}):l=r.end+pu({defaultDuration:i.targetDuration,durationList:i.segments,startIndex:e.mediaIndex+1,endIndex:s}),this.discontinuities[a]={time:l,accuracy:u}}}}dispose(){this.trigger("dispose"),this.off()}}class QM extends se.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:i,to:r}){return typeof i=="number"&&typeof r=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:i,to:r},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:i,to:r}){if(typeof i=="number"&&typeof r=="number"){this.lastTimelineChanges_[e]={type:e,from:i,to:r},delete this.pendingTimelineChanges_[e];const n={timelineChangeInfo:{from:i,to:r}};this.trigger({type:"timelinechange",metadata:n})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const XM=wx(Cx(function(){var t=function(){function p(){this.listeners={}}var _=p.prototype;return _.on=function(T,E){this.listeners[T]||(this.listeners[T]=[]),this.listeners[T].push(E)},_.off=function(T,E){if(!this.listeners[T])return!1;var C=this.listeners[T].indexOf(E);return this.listeners[T]=this.listeners[T].slice(0),this.listeners[T].splice(C,1),C>-1},_.trigger=function(T){var E=this.listeners[T];if(E)if(arguments.length===2)for(var C=E.length,R=0;R<C;++R)E[R].call(this,arguments[1]);else for(var I=Array.prototype.slice.call(arguments,1),D=E.length,O=0;O<D;++O)E[O].apply(this,I)},_.dispose=function(){this.listeners={}},_.pipe=function(T){this.on("data",function(E){T.push(E)})},p}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(p){return p.subarray(0,p.byteLength-p[p.byteLength-1])}/*! @name aes-decrypter @version 4.0.2 @license Apache-2.0 */const i=function(){const p=[[[],[],[],[],[]],[[],[],[],[],[]]],_=p[0],y=p[1],T=_[4],E=y[4];let C,R,I;const D=[],O=[];let w,P,L,M,j,Q;for(C=0;C<256;C++)O[(D[C]=C<<1^(C>>7)*283)^C]=C;for(R=I=0;!T[R];R^=w||1,I=O[I]||1)for(M=I^I<<1^I<<2^I<<3^I<<4,M=M>>8^M&255^99,T[R]=M,E[M]=R,L=D[P=D[w=D[R]]],Q=L*16843009^P*65537^w*257^R*16843008,j=D[M]*257^M*16843008,C=0;C<4;C++)_[C][R]=j=j<<24^j>>>8,y[C][M]=Q=Q<<24^Q>>>8;for(C=0;C<5;C++)_[C]=_[C].slice(0),y[C]=y[C].slice(0);return p};let r=null;class n{constructor(_){r||(r=i()),this._tables=[[r[0][0].slice(),r[0][1].slice(),r[0][2].slice(),r[0][3].slice(),r[0][4].slice()],[r[1][0].slice(),r[1][1].slice(),r[1][2].slice(),r[1][3].slice(),r[1][4].slice()]];let y,T,E;const C=this._tables[0][4],R=this._tables[1],I=_.length;let D=1;if(I!==4&&I!==6&&I!==8)throw new Error("Invalid aes key size");const O=_.slice(0),w=[];for(this._key=[O,w],y=I;y<4*I+28;y++)E=O[y-1],(y%I===0||I===8&&y%I===4)&&(E=C[E>>>24]<<24^C[E>>16&255]<<16^C[E>>8&255]<<8^C[E&255],y%I===0&&(E=E<<8^E>>>24^D<<24,D=D<<1^(D>>7)*283)),O[y]=O[y-I]^E;for(T=0;y;T++,y--)E=O[T&3?y:y-4],y<=4||T<4?w[T]=E:w[T]=R[0][C[E>>>24]]^R[1][C[E>>16&255]]^R[2][C[E>>8&255]]^R[3][C[E&255]]}decrypt(_,y,T,E,C,R){const I=this._key[1];let D=_^I[0],O=E^I[1],w=T^I[2],P=y^I[3],L,M,j;const Q=I.length/4-2;let Z,J=4;const H=this._tables[1],W=H[0],G=H[1],Y=H[2],ie=H[3],me=H[4];for(Z=0;Z<Q;Z++)L=W[D>>>24]^G[O>>16&255]^Y[w>>8&255]^ie[P&255]^I[J],M=W[O>>>24]^G[w>>16&255]^Y[P>>8&255]^ie[D&255]^I[J+1],j=W[w>>>24]^G[P>>16&255]^Y[D>>8&255]^ie[O&255]^I[J+2],P=W[P>>>24]^G[D>>16&255]^Y[O>>8&255]^ie[w&255]^I[J+3],J+=4,D=L,O=M,w=j;for(Z=0;Z<4;Z++)C[(3&-Z)+R]=me[D>>>24]<<24^me[O>>16&255]<<16^me[w>>8&255]<<8^me[P&255]^I[J++],L=D,D=O,O=w,w=P,P=L}}class s extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(_){this.jobs.push(_),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const a=function(p){return p<<24|(p&65280)<<8|(p&16711680)>>8|p>>>24},o=function(p,_,y){const T=new Int32Array(p.buffer,p.byteOffset,p.byteLength>>2),E=new n(Array.prototype.slice.call(_)),C=new Uint8Array(p.byteLength),R=new Int32Array(C.buffer);let I,D,O,w,P,L,M,j,Q;for(I=y[0],D=y[1],O=y[2],w=y[3],Q=0;Q<T.length;Q+=4)P=a(T[Q]),L=a(T[Q+1]),M=a(T[Q+2]),j=a(T[Q+3]),E.decrypt(P,L,M,j,R,Q),R[Q]=a(R[Q]^I),R[Q+1]=a(R[Q+1]^D),R[Q+2]=a(R[Q+2]^O),R[Q+3]=a(R[Q+3]^w),I=P,D=L,O=M,w=j;return C};class u{constructor(_,y,T,E){const C=u.STEP,R=new Int32Array(_.buffer),I=new Uint8Array(_.byteLength);let D=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(R.subarray(D,D+C),y,T,I)),D=C;D<R.length;D+=C)T=new Uint32Array([a(R[D-4]),a(R[D-3]),a(R[D-2]),a(R[D-1])]),this.asyncStream_.push(this.decryptChunk_(R.subarray(D,D+C),y,T,I));this.asyncStream_.push(function(){E(null,e(I))})}static get STEP(){return 32e3}decryptChunk_(_,y,T,E){return function(){const C=o(_,y,T);E.set(C,_.byteOffset)}}}var l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c;typeof window<"u"?c=window:typeof l<"u"?c=l:typeof self<"u"?c=self:c={};var f=c,m=function(_){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(_):_&&_.buffer instanceof ArrayBuffer},h=f.BigInt||Number;h("0x1"),h("0x100"),h("0x10000"),h("0x1000000"),h("0x100000000"),h("0x10000000000"),h("0x1000000000000"),h("0x100000000000000"),h("0x10000000000000000"),function(){var p=new Uint16Array([65484]),_=new Uint8Array(p.buffer,p.byteOffset,p.byteLength);return _[0]===255?"big":_[0]===204?"little":"unknown"}();const g=function(p){const _={};return Object.keys(p).forEach(y=>{const T=p[y];m(T)?_[y]={bytes:T.buffer,byteOffset:T.byteOffset,byteLength:T.byteLength}:_[y]=T}),_};self.onmessage=function(p){const _=p.data,y=new Uint8Array(_.encrypted.bytes,_.encrypted.byteOffset,_.encrypted.byteLength),T=new Uint32Array(_.key.bytes,_.key.byteOffset,_.key.byteLength/4),E=new Uint32Array(_.iv.bytes,_.iv.byteOffset,_.iv.byteLength/4);new u(y,T,E,function(C,R){self.postMessage(g({source:_.source,decrypted:R}),[R.buffer])})}}));var YM=xx(XM);const JM=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},Ux=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},Pm=(t,e)=>{e.activePlaylistLoader=t,t.load()},ZM=(t,e)=>()=>{const{segmentLoaders:{[t]:i,main:r},mediaTypes:{[t]:n}}=e,s=n.activeTrack(),a=n.getActiveGroup(),o=n.activePlaylistLoader,u=n.lastGroup_;if(!(a&&u&&a.id===u.id)&&(n.lastGroup_=a,n.lastTrack_=s,Ux(i,n),!(!a||a.isMainPlaylist))){if(!a.playlistLoader){o&&r.resetEverything();return}i.resyncLoader(),Pm(a.playlistLoader,n)}},e$=(t,e)=>()=>{const{segmentLoaders:{[t]:i},mediaTypes:{[t]:r}}=e;r.lastGroup_=null,i.abort(),i.pause()},t$=(t,e)=>()=>{const{mainPlaylistLoader:i,segmentLoaders:{[t]:r,main:n},mediaTypes:{[t]:s}}=e,a=s.activeTrack(),o=s.getActiveGroup(),u=s.activePlaylistLoader,l=s.lastTrack_;if(!(l&&a&&l.id===a.id)&&(s.lastGroup_=o,s.lastTrack_=a,Ux(r,s),!!o)){if(o.isMainPlaylist){if(!a||!l||a.id===l.id)return;const c=e.vhs.playlistController_,f=c.selectPlaylist();if(c.media()===f)return;s.logger_(`track change. Switching main audio from ${l.id} to ${a.id}`),i.pause(),n.resetEverything(),c.fastQualityChange_(f);return}if(t==="AUDIO"){if(!o.playlistLoader){n.setAudio(!0),n.resetEverything();return}r.setAudio(!0),n.setAudio(!1)}if(u===o.playlistLoader){Pm(o.playlistLoader,s);return}r.track&&r.track(a),r.resetEverything(),Pm(o.playlistLoader,s)}},bd={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:i},excludePlaylist:r}=e,n=i.activeTrack(),s=i.activeGroup(),a=(s.filter(u=>u.default)[0]||s[0]).id,o=i.tracks[a];if(n===o){r({error:{message:"Problem encountered loading the default audio track."}});return}se.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const u in i.tracks)i.tracks[u].enabled=i.tracks[u]===o;i.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:i}}=e;se.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const r=i.activeTrack();r&&(r.mode="disabled"),i.onTrackChanged()}},U_={AUDIO:(t,e,i)=>{if(!e)return;const{tech:r,requestOptions:n,segmentLoaders:{[t]:s}}=i;e.on("loadedmetadata",()=>{const a=e.media();s.playlist(a,n),(!r.paused()||a.endList&&r.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),n),r.paused()||s.load()}),e.on("error",bd[t](t,i))},SUBTITLES:(t,e,i)=>{const{tech:r,requestOptions:n,segmentLoaders:{[t]:s},mediaTypes:{[t]:a}}=i;e.on("loadedmetadata",()=>{const o=e.media();s.playlist(o,n),s.track(a.activeTrack()),(!r.paused()||o.endList&&r.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),n),r.paused()||s.load()}),e.on("error",bd[t](t,i))}},i$={AUDIO:(t,e)=>{const{vhs:i,sourceType:r,segmentLoaders:{[t]:n},requestOptions:s,main:{mediaGroups:a},mediaTypes:{[t]:{groups:o,tracks:u,logger_:l}},mainPlaylistLoader:c}=e,f=Cl(c.main);(!a[t]||Object.keys(a[t]).length===0)&&(a[t]={main:{default:{default:!0}}},f&&(a[t].main.default.playlists=c.main.playlists));for(const m in a[t]){o[m]||(o[m]=[]);for(const h in a[t][m]){let g=a[t][m][h],p;if(f?(l(`AUDIO group '${m}' label '${h}' is a main playlist`),g.isMainPlaylist=!0,p=null):r==="vhs-json"&&g.playlists?p=new la(g.playlists[0],i,s):g.resolvedUri?p=new la(g.resolvedUri,i,s):g.playlists&&r==="dash"?p=new Em(g.playlists[0],i,s,c):p=null,g=ct({id:h,playlistLoader:p},g),U_[t](t,g.playlistLoader,e),o[m].push(g),typeof u[h]>"u"){const _=new se.AudioTrack({id:h,kind:JM(g),enabled:!1,language:g.language,default:g.default,label:h});u[h]=_}}}n.on("error",bd[t](t,e))},SUBTITLES:(t,e)=>{const{tech:i,vhs:r,sourceType:n,segmentLoaders:{[t]:s},requestOptions:a,main:{mediaGroups:o},mediaTypes:{[t]:{groups:u,tracks:l}},mainPlaylistLoader:c}=e;for(const f in o[t]){u[f]||(u[f]=[]);for(const m in o[t][f]){if(!r.options_.useForcedSubtitles&&o[t][f][m].forced)continue;let h=o[t][f][m],g;if(n==="hls")g=new la(h.resolvedUri,r,a);else if(n==="dash"){if(!h.playlists.filter(_=>_.excludeUntil!==1/0).length)return;g=new Em(h.playlists[0],r,a,c)}else n==="vhs-json"&&(g=new la(h.playlists?h.playlists[0]:h.resolvedUri,r,a));if(h=ct({id:m,playlistLoader:g},h),U_[t](t,h.playlistLoader,e),u[f].push(h),typeof l[m]>"u"){const p=i.addRemoteTextTrack({id:m,kind:"subtitles",default:h.default&&h.autoselect,language:h.language,label:m},!1).track;l[m]=p}}}s.on("error",bd[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:i,main:{mediaGroups:r},mediaTypes:{[t]:{groups:n,tracks:s}}}=e;for(const a in r[t]){n[a]||(n[a]=[]);for(const o in r[t][a]){const u=r[t][a][o];if(!/^(?:CC|SERVICE)/.test(u.instreamId))continue;const l=i.options_.vhs&&i.options_.vhs.captionServices||{};let c={label:o,language:u.language,instreamId:u.instreamId,default:u.default&&u.autoselect};if(l[c.instreamId]&&(c=ct(c,l[c.instreamId])),c.default===void 0&&delete c.default,n[a].push(ct({id:o},u)),typeof s[o]>"u"){const f=i.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default,language:c.language,label:c.label},!1).track;s[o]=f}}}}},Hx=(t,e)=>{for(let i=0;i<t.length;i++)if(Zg(e,t[i])||t[i].playlists&&Hx(t[i].playlists,e))return!0;return!1},r$=(t,e)=>i=>{const{mainPlaylistLoader:r,mediaTypes:{[t]:{groups:n}}}=e,s=r.media();if(!s)return null;let a=null;s.attributes[t]&&(a=n[s.attributes[t]]);const o=Object.keys(n);if(!a)if(t==="AUDIO"&&o.length>1&&Cl(e.main))for(let u=0;u<o.length;u++){const l=n[o[u]];if(Hx(l,s)){a=l;break}}else n.main?a=n.main:o.length===1&&(a=n[o[0]]);return typeof i>"u"?a:i===null||!a?null:a.filter(u=>u.id===i.id)[0]||null},n$={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:i}}}=e;for(const r in i)if(i[r].enabled)return i[r];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:i}}}=e;for(const r in i)if(i[r].mode==="showing"||i[r].mode==="hidden")return i[r];return null}},s$=(t,{mediaTypes:e})=>()=>{const i=e[t].activeTrack();return i?e[t].activeGroup(i):null},a$=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(l=>{i$[l](l,t)});const{mediaTypes:e,mainPlaylistLoader:i,tech:r,vhs:n,segmentLoaders:{["AUDIO"]:s,main:a}}=t;["AUDIO","SUBTITLES"].forEach(l=>{e[l].activeGroup=r$(l,t),e[l].activeTrack=n$[l](l,t),e[l].onGroupChanged=ZM(l,t),e[l].onGroupChanging=e$(l,t),e[l].onTrackChanged=t$(l,t),e[l].getActiveGroup=s$(l,t)});const o=e.AUDIO.activeGroup();if(o){const l=(o.filter(f=>f.default)[0]||o[0]).id;e.AUDIO.tracks[l].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(a.setAudio(!1),s.setAudio(!0)):a.setAudio(!0)}i.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(l=>e[l].onGroupChanged())}),i.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(l=>e[l].onGroupChanging())});const u=()=>{e.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"})};r.audioTracks().addEventListener("change",u),r.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),n.on("dispose",()=>{r.audioTracks().removeEventListener("change",u),r.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),r.clearTracks("audio");for(const l in e.AUDIO.tracks)r.audioTracks().addTrack(e.AUDIO.tracks[l])},o$=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:vn,activeTrack:vn,getActiveGroup:vn,onGroupChanged:vn,onTrackChanged:vn,lastTrack_:null,logger_:ur(`MediaGroups[${e}]`)}}),t};class H_{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=Ri(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(i=>[i.ID,i])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class u$ extends se.EventTarget{constructor(e,i){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new H_,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=ur("Content Steering"),this.xhr_=e,this.getBandwidth_=i}assignTagProperties(e,i){this.manifestType_=i.serverUri?"HLS":"DASH";const r=i.serverUri||i.serverURL;if(!r){this.logger_(`steering manifest URL is ${r}, cannot request steering manifest.`),this.trigger("error");return}if(r.startsWith("data:")){this.decodeDataUriManifest_(r.substring(r.indexOf(",")+1));return}this.steeringManifest.reloadUri=Ri(e,r),this.defaultPathway=i.pathwayId||i.defaultServiceLocation,this.queryBeforeStart=i.queryBeforeStart,this.proxyServerUrl_=i.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const i=this.steeringManifest.reloadUri;if(!i)return;const r=e?i:this.getRequestURI(i);if(!r){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}const n={contentSteeringInfo:{uri:r}};this.trigger({type:"contentsteeringloadstart",metadata:n}),this.request_=this.xhr_({uri:r,requestType:"content-steering-manifest"},(s,a)=>{if(s){if(a.status===410){this.logger_(`manifest request 410 ${s}.`),this.logger_(`There will be no more content steering requests to ${r} this session.`),this.excludedSteeringManifestURLs.add(r);return}if(a.status===429){const l=a.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${s}.`),this.logger_(`content steering will retry in ${l} seconds.`),this.startTTLTimeout_(parseInt(l,10));return}this.logger_(`manifest failed to load ${s}.`),this.startTTLTimeout_();return}this.trigger({type:"contentsteeringloadcomplete",metadata:n});let o;try{o=JSON.parse(this.request_.responseText)}catch(l){const c={errorType:se.Error.StreamingContentSteeringParserError,error:l};this.trigger({type:"error",metadata:c})}this.assignSteeringProperties_(o);const u={contentSteeringInfo:n.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:u}),this.startTTLTimeout_()})}setProxyServerUrl_(e){const i=new q.URL(e),r=new q.URL(this.proxyServerUrl_);return r.searchParams.set("url",encodeURI(i.toString())),this.setSteeringParams_(r.toString())}decodeDataUriManifest_(e){const i=JSON.parse(q.atob(e));this.assignSteeringProperties_(i)}setSteeringParams_(e){const i=new q.URL(e),r=this.getPathway(),n=this.getBandwidth_();if(r){const s=`_${this.manifestType_}_pathway`;i.searchParams.set(s,r)}if(n){const s=`_${this.manifestType_}_throughput`;i.searchParams.set(s,n)}return i.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const r=(n=>{for(const s of n)if(this.availablePathways_.has(s))return s;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==r&&(this.currentPathway=r,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const i=n=>this.excludedSteeringManifestURLs.has(n);if(this.proxyServerUrl_){const n=this.setProxyServerUrl_(e);if(!i(n))return n}const r=this.setSteeringParams_(e);return i(r)?null:r}startTTLTimeout_(e=this.steeringManifest.ttl){const i=e*1e3;this.ttlTimeout_=q.setTimeout(()=>{this.requestSteeringManifest()},i)}clearTTLTimeout_(){q.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new H_}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,i){return!i&&this.steeringManifest.reloadUri||i&&(Ri(e,i.serverURL)!==this.steeringManifest.reloadUri||i.defaultServiceLocation!==this.defaultPathway||i.queryBeforeStart!==this.queryBeforeStart||i.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const l$=(t,e)=>{let i=null;return(...r)=>{clearTimeout(i),i=setTimeout(()=>{t.apply(null,r)},e)}},c$=10;let jn;const d$=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],h$=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},f$=function({currentPlaylist:t,buffered:e,currentTime:i,nextPlaylist:r,bufferLowWaterLine:n,bufferHighWaterLine:s,duration:a,bufferBasedABR:o,log:u}){if(!r)return se.log.warn("We received no playlist to switch to. Please check your stream."),!1;const l=`allowing switch ${t&&t.id||"null"} -> ${r.id}`;if(!t)return u(`${l} as current playlist is not set`),!0;if(r.id===t.id)return!1;const c=!!ua(e,i).length;if(!t.endList)return!c&&typeof t.partTargetDuration=="number"?(u(`not ${l} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(u(`${l} as current playlist is live`),!0);const f=Xg(e,i),m=o?Gt.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Gt.MAX_BUFFER_LOW_WATER_LINE;if(a<m)return u(`${l} as duration < max low water line (${a} < ${m})`),!0;const h=r.attributes.BANDWIDTH,g=t.attributes.BANDWIDTH;if(h<g&&(!o||f<s)){let p=`${l} as next bandwidth < current bandwidth (${h} < ${g})`;return o&&(p+=` and forwardBuffer < bufferHighWaterLine (${f} < ${s})`),u(p),!0}if((!o||h>g)&&f>=n){let p=`${l} as forwardBuffer >= bufferLowWaterLine (${f} >= ${n})`;return o&&(p+=` and next bandwidth > current bandwidth (${h} > ${g})`),u(p),!0}return u(`not ${l} as no switching criteria met`),!1};class p$ extends se.EventTarget{constructor(e){super(),this.fastQualityChange_=l$(this.fastQualityChange_.bind(this),100);const{src:i,withCredentials:r,tech:n,bandwidth:s,externVhs:a,useCueTags:o,playlistExclusionDuration:u,enableLowInitialPlaylist:l,sourceType:c,cacheEncryptionKeys:f,bufferBasedABR:m,leastPixelDiffSelector:h,captionServices:g,experimentalUseMMS:p}=e;if(!i)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:_}=e;(_===null||typeof _>"u")&&(_=1/0),jn=a,this.bufferBasedABR=!!m,this.leastPixelDiffSelector=!!h,this.withCredentials=r,this.tech_=n,this.vhs_=n.vhs,this.player_=e.player_,this.sourceType_=c,this.useCueTags_=o,this.playlistExclusionDuration=u,this.maxPlaylistRetries=_,this.enableLowInitialPlaylist=l,this.usingManagedMediaSource_=!1,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:r,maxPlaylistRetries:_,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=o$(),p&&q.ManagedMediaSource?(this.tech_.el_.disableRemotePlayback=!0,this.mediaSource=new q.ManagedMediaSource,this.usingManagedMediaSource_=!0,se.log("Using ManagedMediaSource")):q.MediaSource&&(this.mediaSource=new q.MediaSource),this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.load=this.load.bind(this),this.pause=this.pause.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.mediaSource.addEventListener("startstreaming",this.load),this.mediaSource.addEventListener("endstreaming",this.pause),this.seekable_=Yt(),this.hasPlayed_=!1,this.syncController_=new KM(e),this.segmentMetadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.segmentMetadataTrack_.mode="hidden",this.decrypter_=new YM,this.sourceUpdater_=new jx(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new QM,this.keyStatusMap_=new Map;const y={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:g,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:s,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:f,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new Em(i,this.vhs_,ct(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new la(i,this.vhs_,ct(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new Cm(ct(y,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new Cm(ct(y,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new qM(ct(y,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((C,R)=>{function I(){n.off("vttjserror",D),C()}function D(){n.off("vttjsloaded",I),R()}n.one("vttjsloaded",I),n.one("vttjserror",D),n.addWebVttScript_()})}),e);const T=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new u$(this.vhs_.xhr,T),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),d$.forEach(C=>{this[C+"_"]=h$.bind(this,C)}),this.logger_=ur("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const E=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(E,()=>{const C=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-C,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),i=this.audioAppendsToLoadedData_();return e===-1||i===-1?-1:e+i}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const i=this.selectPlaylist();i&&this.shouldSwitchToMedia_(i)&&this.switchMedia_(i,e)}switchMedia_(e,i,r){const n=this.media(),s=n&&(n.id||n.uri),a=e&&(e.id||e.uri);if(s&&s!==a){this.logger_(`switch media ${s} -> ${a} from ${i}`);const o={renditionInfo:{id:a,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:i};this.trigger({type:"renditionselected",metadata:o}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${i}`})}this.mainPlaylistLoader_.media(e,r)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const i=this.mediaTypes_[e],r=i?i.activeGroup():null,n=this.contentSteeringController_.getPathway();if(r&&n){const a=(r.length?r[0].playlists:r.playlists).filter(o=>o.attributes.serviceLocation===n);a.length&&this.mediaTypes_[e].activePlaylistLoader.media(a[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=q.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(q.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),i=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return i;const r=e.mediaGroups.AUDIO,n=Object.keys(r);let s;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)s=this.mediaTypes_.AUDIO.activeTrack();else{const o=r.main||n.length&&r[n[0]];for(const u in o)if(o[u].default){s={label:u};break}}if(!s)return i;const a=[];for(const o in r)if(r[o][s.label]){const u=r[o][s.label];if(u.playlists&&u.playlists.length)a.push.apply(a,u.playlists);else if(u.uri)a.push(u);else if(e.playlists.length)for(let l=0;l<e.playlists.length;l++){const c=e.playlists[l];c.attributes&&c.attributes.AUDIO&&c.attributes.AUDIO===o&&a.push(c)}}return a.length?a:i}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const i=this.mainPlaylistLoader_.media(),r=i.targetDuration*1.5*1e3;vm(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=r,i.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(i,this.requestOptions_),this.mainSegmentLoader_.load()),a$({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),i),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let i=this.mainPlaylistLoader_.media();if(!i){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let r;if(this.enableLowInitialPlaylist&&(r=this.selectInitialPlaylist()),r||(r=this.selectPlaylist()),!r||!this.shouldSwitchToMedia_(r)||(this.initialMedia_=r,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;i=this.initialMedia_}this.handleUpdatedMediaPlaylist(i)}),this.mainPlaylistLoader_.on("error",()=>{const i=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:i.playlist,error:i})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const i=this.mainPlaylistLoader_.media(),r=i.targetDuration*1.5*1e3;vm(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=r,this.sourceType_==="dash"&&this.mainPlaylistLoader_.isPaused&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(i,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const i=this.mainPlaylistLoader_.media();if(i.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(i)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(i=>{this.mainPlaylistLoader_.on(i,r=>{this.player_.trigger(Ot({},r))})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,i){const r=e.mediaGroups||{};let n=!0;const s=Object.keys(r.AUDIO);for(const a in r.AUDIO)for(const o in r.AUDIO[a])r.AUDIO[a][o].uri||(n=!1);n&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(r.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),jn.Playlist.isAes(i)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),s.length&&Object.keys(r.AUDIO[s[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const i=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,r=this.tech_.currentTime(),n=this.bufferLowWaterLine(),s=this.bufferHighWaterLine(),a=this.tech_.buffered();return f$({buffered:a,currentTime:r,currentPlaylist:i,nextPlaylist:e,bufferLowWaterLine:n,bufferHighWaterLine:s,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const r=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:r.playlist,error:r})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.timelineChangeController_.on("audioTimelineBehind",()=>{const r=this.audioSegmentLoader_.pendingSegment_;if(!r||!r.segment||!r.segment.syncInfo)return;const n=r.segment.syncInfo.end+.01;this.tech_.setCurrentTime(n)}),this.timelineChangeController_.on("fixBadTimelineChange",()=>{this.logger_("Fix bad timeline change. Restarting al segment loaders..."),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}),this.mainSegmentLoader_.on("earlyabort",r=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:c$}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const r=this.getCodecsOrExclude_();r&&this.sourceUpdater_.addOrChangeSourceBuffers(r)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(r=>{this.mainSegmentLoader_.on(r,n=>{this.player_.trigger(Ot({},n))}),this.audioSegmentLoader_.on(r,n=>{this.player_.trigger(Ot({},n))}),this.subtitleSegmentLoader_.on(r,n=>{this.player_.trigger(Ot({},n))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}pause(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const i=this.seekable();if(!i.length)return!1;const r=i.end(0);let n=r;if(e.start){const s=e.start.timeOffset;s<0?n=Math.max(r+s,i.start(0)):n=Math.min(r,s)}this.trigger("firstplay"),this.tech_.setCurrentTime(n)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,i=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const i=this.duration();e[e.length-1].endTime=isNaN(i)||Math.abs(i)===1/0?Number.MAX_VALUE:i}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const i=this.mainSegmentLoader_.getCurrentMediaInfo_();!i||i.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const r=this.syncController_.getExpiredTime(e,this.duration());if(r===null)return!1;const n=jn.Playlist.playlistEnd(e,r),s=this.tech_.currentTime(),a=this.tech_.buffered();if(!a.length)return n-s<=zr;const o=a.end(a.length-1);return o-s<=zr&&n-o<=zr}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:i={},playlistExclusionDuration:r}){if(e=e||this.mainPlaylistLoader_.media(),r=r||i.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=i,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const n=this.mainPlaylistLoader_.main.playlists,s=n.filter(hh),a=s.length===1&&s[0]===e;if(n.length===1&&r!==1/0)return se.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(a);if(a){if(this.main().contentSteering){const g=this.pathwayAttribute_(e),p=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(g),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(g)},p);return}let h=!1;n.forEach(g=>{if(g===e)return;const p=g.excludeUntil;typeof p<"u"&&p!==1/0&&(h=!0,delete g.excludeUntil)}),h&&(se.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let o;e.playlistErrors_>this.maxPlaylistRetries?o=1/0:o=Date.now()+r*1e3,e.excludeUntil=o,i.reason&&(e.lastExcludeReason_=i.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const u=this.selectPlaylist();if(!u){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const l=i.internal?this.logger_:se.log.warn,c=i.message?" "+i.message:"";l(`${i.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${c} Switching to playlist ${u.id}.`),u.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),u.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const f=u.targetDuration/2*1e3||5*1e3,m=typeof u.lastRequest=="number"&&Date.now()-u.lastRequest<=f;return this.switchMedia_(u,"exclude",a||m)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,i){const r=[],n=e==="all";(n||e==="main")&&r.push(this.mainPlaylistLoader_);const s=[];(n||e==="audio")&&s.push("AUDIO"),(n||e==="subtitle")&&(s.push("CLOSED-CAPTIONS"),s.push("SUBTITLES")),s.forEach(a=>{const o=this.mediaTypes_[a]&&this.mediaTypes_[a].activePlaylistLoader;o&&r.push(o)}),["main","audio","subtitle"].forEach(a=>{const o=this[`${a}SegmentLoader_`];o&&(e===a||e==="all")&&r.push(o)}),r.forEach(a=>i.forEach(o=>{typeof a[o]=="function"&&a[o]()}))}setCurrentTime(e){const i=ua(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(i&&i.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:jn.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}getSeekableRange_(e,i){const r=e.media();if(!r)return null;const n=this.syncController_.getMediaSequenceSync(i);if(n&&n.isReliable){const o=n.start,u=n.end;if(!isFinite(o)||!isFinite(u))return null;const l=jn.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,r),c=Math.max(o,u-l);return Yt([[o,c]])}const s=this.syncController_.getExpiredTime(r,this.duration());if(s===null)return null;const a=jn.Playlist.seekable(r,s,jn.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,r));return a.length?a:null}computeFinalSeekable_(e,i){if(!i)return e;const r=e.start(0),n=e.end(0),s=i.start(0),a=i.end(0);return s>n||r>a?e:Yt([[Math.max(r,s),Math.min(n,a)]])}onSyncInfoUpdate_(){if(!this.mainPlaylistLoader_)return;const e=this.getSeekableRange_(this.mainPlaylistLoader_,"main");if(!e)return;let i;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(i=this.getSeekableRange_(this.mediaTypes_.AUDIO.activePlaylistLoader,"audio"),!i))return;const r=this.seekable_;if(this.seekable_=this.computeFinalSeekable_(e,i),!this.seekable_||r&&r.length&&this.seekable_.length&&r.start(0)===this.seekable_.start(0)&&r.end(0)===this.seekable_.end(0))return;this.logger_(`seekable updated [${J2(this.seekable_)}]`);const n={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:n}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const n=this.seekable();if(!n.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<n.end(n.length-1))&&this.sourceUpdater_.setDuration(n.end(n.length-1));return}const i=this.tech_.buffered();let r=jn.Playlist.duration(this.mainPlaylistLoader_.media());i.length>0&&(r=Math.max(r,i.end(i.length-1))),this.mediaSource.duration!==r&&this.sourceUpdater_.setDuration(r)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const i=this.mediaTypes_[e].groups;for(const r in i)i[r].forEach(n=>{n.playlistLoader&&n.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,i=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),r=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!i||!r)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},i=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const r=mu(this.main(),i),n={},s=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(n.video=r.video||e.main.videoCodec||e3),e.main.isMuxed&&(n.video+=`,${r.audio||e.main.audioCodec||R0}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||s)&&(n.audio=r.audio||e.main.audioCodec||e.audio.audioCodec||R0,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!n.audio&&!n.video){this.excludePlaylist({playlistToExclude:i,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const a=(l,c)=>l?cu(c,this.usingManagedMediaSource_):df(c),o={};let u;if(["video","audio"].forEach(function(l){if(n.hasOwnProperty(l)&&!a(e[l].isFmp4,n[l])){const c=e[l].isFmp4?"browser":"muxer";o[c]=o[c]||[],o[c].push(n[l]),l==="audio"&&(u=c)}}),s&&u&&i.attributes.AUDIO){const l=i.attributes.AUDIO;this.main().playlists.forEach(c=>{(c.attributes&&c.attributes.AUDIO)===l&&c!==i&&(c.excludeUntil=1/0)}),this.logger_(`excluding audio group ${l} as ${u} does not support codec(s): "${n.audio}"`)}if(Object.keys(o).length){const l=Object.keys(o).reduce((c,f)=>(c&&(c+=", "),c+=`${f} does not support codec(s): "${o[f].join(",")}"`,c),"")+".";this.excludePlaylist({playlistToExclude:i,error:{internal:!0,message:l},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const l=[];if(["video","audio"].forEach(c=>{const f=(Mr(this.sourceUpdater_.codecs[c]||"")[0]||{}).type,m=(Mr(n[c]||"")[0]||{}).type;f&&m&&f.toLowerCase()!==m.toLowerCase()&&l.push(`"${this.sourceUpdater_.codecs[c]}" -> "${n[c]}"`)}),l.length){this.excludePlaylist({playlistToExclude:i,error:{message:`Codec switching not supported: ${l.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return n}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const i=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(i)}excludeUnsupportedVariants_(){const e=this.main().playlists,i=[];Object.keys(e).forEach(r=>{const n=e[r];if(i.indexOf(n.id)!==-1)return;i.push(n.id);const s=mu(this.main,n),a=[];s.audio&&!df(s.audio)&&!cu(s.audio,this.usingManagedMediaSource_)&&a.push(`audio codec ${s.audio}`),s.video&&!df(s.video)&&!cu(s.video,this.usingManagedMediaSource_)&&a.push(`video codec ${s.video}`),s.text&&s.text==="stpp.ttml.im1t"&&a.push(`text codec ${s.text}`),a.length&&(n.excludeUntil=1/0,this.logger_(`excluding ${n.id} for unsupported: ${a.join(", ")}`))})}excludeIncompatibleVariants_(e){const i=[],r=this.main().playlists,n=Du(Mr(e)),s=x_(n),a=n.video&&Mr(n.video)[0]||null,o=n.audio&&Mr(n.audio)[0]||null;Object.keys(r).forEach(u=>{const l=r[u];if(i.indexOf(l.id)!==-1||l.excludeUntil===1/0)return;i.push(l.id);const c=[],f=mu(this.mainPlaylistLoader_.main,l),m=x_(f);if(!(!f.audio&&!f.video)){if(m!==s&&c.push(`codec count "${m}" !== "${s}"`),!this.sourceUpdater_.canChangeType()){const h=f.video&&Mr(f.video)[0]||null,g=f.audio&&Mr(f.audio)[0]||null;h&&a&&h.type.toLowerCase()!==a.type.toLowerCase()&&c.push(`video codec "${h.type}" !== "${a.type}"`),g&&o&&g.type.toLowerCase()!==o.type.toLowerCase()&&c.push(`audio codec "${g.type}" !== "${o.type}"`)}c.length&&(l.excludeUntil=1/0,this.logger_(`excluding ${l.id}: ${c.join(" && ")}`))}})}updateAdCues_(e){let i=0;const r=this.seekable();r.length&&(i=r.start(0)),WM(e,this.cueTagsTrack_,i)}goalBufferLength(){const e=this.tech_.currentTime(),i=Gt.GOAL_BUFFER_LENGTH,r=Gt.GOAL_BUFFER_LENGTH_RATE,n=Math.max(i,Gt.MAX_GOAL_BUFFER_LENGTH);return Math.min(i+e*r,n)}bufferLowWaterLine(){const e=this.tech_.currentTime(),i=Gt.BUFFER_LOW_WATER_LINE,r=Gt.BUFFER_LOW_WATER_LINE_RATE,n=Math.max(i,Gt.MAX_BUFFER_LOW_WATER_LINE),s=Math.max(i,Gt.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(i+e*r,this.bufferBasedABR?s:n)}bufferHighWaterLine(){return Gt.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){I_(this.inbandTextTracks_,"com.apple.streaming",this.tech_),xM({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,i,r){const n=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();I_(this.inbandTextTracks_,e,this.tech_),SM({inbandTextTracks:this.inbandTextTracks_,metadataArray:i,timestampOffset:n,videoDuration:r})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const i of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(i));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(i=>{this.contentSteeringController_.on(i,r=>{this.trigger(Ot({},r))})}),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const i=this.main();(this.contentSteeringController_.didDASHTagChange(i.uri,i.contentSteering)||(()=>{const s=this.contentSteeringController_.getAvailablePathways(),a=[];for(const o of i.playlists){const u=o.attributes.serviceLocation;if(u&&(a.push(u),!s.has(u)))return!0}return!!(!a.length&&s.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const r=this.main().playlists,n=new Set;let s=!1;Object.keys(r).forEach(a=>{const o=r[a],u=this.pathwayAttribute_(o),l=u&&e!==u;o.excludeUntil===1/0&&o.lastExcludeReason_==="content-steering"&&!l&&(delete o.excludeUntil,delete o.lastExcludeReason_,s=!0);const f=!o.excludeUntil&&o.excludeUntil!==1/0;!n.has(o.id)&&l&&f&&(n.add(o.id),o.excludeUntil=1/0,o.lastExcludeReason_="content-steering",this.logger_(`excluding ${o.id} for ${o.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(a=>{const o=this.mediaTypes_[a];if(o.activePlaylistLoader){const u=o.activePlaylistLoader.media_;u&&u.attributes.serviceLocation!==e&&(s=!0)}}),s&&this.changeSegmentPathway_()}handlePathwayClones_(){const i=this.main().playlists,r=this.contentSteeringController_.currentPathwayClones,n=this.contentSteeringController_.nextPathwayClones;if(r&&r.size||n&&n.size){for(const[a,o]of r.entries())n.get(a)||(this.mainPlaylistLoader_.updateOrDeleteClone(o),this.contentSteeringController_.excludePathway(a));for(const[a,o]of n.entries()){const u=r.get(a);if(!u){i.filter(c=>c.attributes["PATHWAY-ID"]===o["BASE-ID"]).forEach(c=>{this.mainPlaylistLoader_.addClonePathway(o,c)}),this.contentSteeringController_.addAvailablePathway(a);continue}this.equalPathwayClones_(u,o)||(this.mainPlaylistLoader_.updateOrDeleteClone(o,!0),this.contentSteeringController_.addAvailablePathway(a))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...n])))}}equalPathwayClones_(e,i){if(e["BASE-ID"]!==i["BASE-ID"]||e.ID!==i.ID||e["URI-REPLACEMENT"].HOST!==i["URI-REPLACEMENT"].HOST)return!1;const r=e["URI-REPLACEMENT"].PARAMS,n=i["URI-REPLACEMENT"].PARAMS;for(const s in r)if(r[s]!==n[s])return!1;for(const s in n)if(r[s]!==n[s])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const i="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(r=>{const n=this.mainPlaylistLoader_.getKeyIdSet(r);!n||!n.size||n.forEach(s=>{const a="usable",o=this.keyStatusMap_.has(s)&&this.keyStatusMap_.get(s)===a,u=r.lastExcludeReason_===i&&r.excludeUntil===1/0;o?o&&u&&(delete r.excludeUntil,delete r.lastExcludeReason_,this.logger_(`enabling playlist ${r.id} because key ID ${s} is ${a}`)):(r.excludeUntil!==1/0&&r.lastExcludeReason_!==i&&(r.excludeUntil=1/0,r.lastExcludeReason_=i,this.logger_(`excluding playlist ${r.id} because the key ID ${s} doesn't exist in the keyStatusMap or is not ${a}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(r=>{const n=r&&r.attributes&&r.attributes.RESOLUTION&&r.attributes.RESOLUTION.height<720,s=r.excludeUntil===1/0&&r.lastExcludeReason_===i;n&&s&&(delete r.excludeUntil,se.log.warn(`enabling non-HD playlist ${r.id} because all playlists were excluded due to ${i} key IDs`))})}addKeyStatus_(e,i){const s=(typeof e=="string"?e:UM(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${i}' with key ID ${s} added to the keyStatusMap`),this.keyStatusMap_.set(s,i)}updatePlaylistByKeyStatus(e,i){this.addKeyStatus_(e,i),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const m$=(t,e,i)=>r=>{const n=t.main.playlists[e],s=Jg(n),a=hh(n);if(typeof r>"u")return a;r?delete n.disabled:n.disabled=!0;const o={renditionInfo:{id:e,bandwidth:n.attributes.BANDWIDTH,resolution:n.attributes.RESOLUTION,codecs:n.attributes.CODECS},cause:"fast-quality"};return r!==a&&!s&&(r?(i(n),t.trigger({type:"renditionenabled",metadata:o})):t.trigger({type:"renditiondisabled",metadata:o})),r};class g${constructor(e,i,r){const{playlistController_:n}=e,s=n.fastQualityChange_.bind(n);if(i.attributes){const a=i.attributes.RESOLUTION;this.width=a&&a.width,this.height=a&&a.height,this.bandwidth=i.attributes.BANDWIDTH,this.frameRate=i.attributes["FRAME-RATE"]}this.codecs=mu(n.main(),i),this.playlist=i,this.id=r,this.enabled=m$(e.playlists,i.id,s)}}const y$=function(t){t.representations=()=>{const e=t.playlistController_.main(),i=Cl(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return i?i.filter(r=>!Jg(r)).map((r,n)=>new g$(t,r,r.id)):[]}},q_=["seeking","seeked","pause","playing","error"];class v$ extends se.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=ur("PlaybackWatcher"),this.logger_("initialize");const i=()=>this.monitorCurrentTime_(),r=()=>this.monitorCurrentTime_(),n=()=>this.techWaiting_(),s=()=>this.resetTimeUpdate_(),a=this.playlistController_,o=["main","subtitle","audio"],u={};o.forEach(c=>{u[c]={reset:()=>this.resetSegmentDownloads_(c),updateend:()=>this.checkSegmentDownloads_(c)},a[`${c}SegmentLoader_`].on("appendsdone",u[c].updateend),a[`${c}SegmentLoader_`].on("playlistupdate",u[c].reset),this.tech_.on(["seeked","seeking"],u[c].reset)});const l=c=>{["main","audio"].forEach(f=>{a[`${f}SegmentLoader_`][c]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),l("off"))},this.clearSeekingAppendCheck_=()=>l("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),l("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",n),this.tech_.on(q_,s),this.tech_.on("canplay",r),this.tech_.one("play",i),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",n),this.tech_.off(q_,s),this.tech_.off("canplay",r),this.tech_.off("play",i),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),o.forEach(c=>{a[`${c}SegmentLoader_`].off("appendsdone",u[c].updateend),a[`${c}SegmentLoader_`].off("playlistupdate",u[c].reset),this.tech_.off(["seeked","seeking"],u[c].reset)}),this.checkCurrentTimeTimeout_&&q.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&q.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=q.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const i=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=i.buffered_()}checkSegmentDownloads_(e){const i=this.playlistController_,r=i[`${e}SegmentLoader_`],n=r.buffered_(),s=r4(this[`${e}Buffered_`],n);if(this[`${e}Buffered_`]=n,s){const a={bufferedRanges:n};i.trigger({type:"bufferedrangeschanged",metadata:a}),this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:r.playlist_&&r.playlist_.id,buffered:ws(n)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&i.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),i=this.tech_.buffered();if(this.lastRecordedTime===e&&(!i.length||e+zr>=i.end(i.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(Yt([this.lastRecordedTime,e]));const r={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:r}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const i=this.seekable(),r=this.tech_.currentTime(),n=this.afterSeekableWindow_(i,r,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let s;if(n&&(s=i.end(i.length-1)),this.beforeSeekableWindow_(i,r)){const g=i.start(0);s=g+(g===i.end(0)?0:zr)}if(typeof s<"u")return this.logger_(`Trying to seek outside of seekable at time ${r} with seekable range ${J2(i)}. Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0;const a=this.playlistController_.sourceUpdater_,o=this.tech_.buffered(),u=a.audioBuffer?a.audioBuffered():null,l=a.videoBuffer?a.videoBuffered():null,c=this.media(),f=c.partTargetDuration?c.partTargetDuration:(c.targetDuration-Wr)*2,m=[u,l];for(let g=0;g<m.length;g++){if(!m[g])continue;if(Xg(m[g],r)<f)return!1}const h=hc(o,r);return h.length===0?!1:(s=h.start(0)+zr,this.logger_(`Buffered region starts (${h.start(0)})  just beyond seek point (${r}). Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),i=this.tech_.buffered(),r=ua(i,e);if(r.length&&e+3<=r.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${r.start(0)} -> ${r.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),i=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,i)){const o=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${i}. Seeking to live point (seekable end) ${o}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(o),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const r=this.tech_.vhs.playlistController_.sourceUpdater_,n=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:r.audioBuffered(),videoBuffered:r.videoBuffered(),currentTime:i}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const a=hc(n,i);return a.length>0?(this.logger_(`Stopped at ${i} and seeking to ${a.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(i),!0):!1}afterSeekableWindow_(e,i,r,n=!1){if(!e.length)return!1;let s=e.end(e.length-1)+zr;const a=!r.endList,o=typeof r.partTargetDuration=="number";return a&&(o||n)&&(s=e.end(e.length-1)+r.targetDuration*3),i>s}beforeSeekableWindow_(e,i){return!!(e.length&&e.start(0)>0&&i<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:i,currentTime:r}){if(!e)return;let n;if(e.length&&i.length){const s=ua(e,r-3),a=ua(e,r),o=ua(i,r);o.length&&!a.length&&s.length&&(n={start:s.end(0),end:o.end(0)})}else hc(e,r).length||(n=this.gapFromVideoUnderflow_(e,r));return n?(this.logger_(`Encountered a gap in video from ${n.start} to ${n.end}. Seeking to current time ${r}`),!0):!1}skipTheGap_(e){const i=this.tech_.buffered(),r=this.tech_.currentTime(),n=hc(i,r);if(this.resetTimeUpdate_(),n.length===0||r!==e)return;this.logger_("skipTheGap_:","currentTime:",r,"scheduled currentTime:",e,"nextRange start:",n.start(0)),this.tech_.setCurrentTime(n.start(0)+Wr);const s={gapInfo:{from:r,to:n.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:s}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,i){const r=e4(e);for(let n=0;n<r.length;n++){const s=r.start(n),a=r.end(n);if(i-s<4&&i-s>2)return{start:s,end:a}}return null}}const _$={errorInterval:30,getSource(t){const i=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(i)}},qx=function(t,e){let i=0,r=0;const n=ct(_$,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const s=function(){r&&t.currentTime(r)},a=function(c){c!=null&&(r=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",s),t.src(c),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},o=function(){if(Date.now()-i<n.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!n.getSource||typeof n.getSource!="function"){se.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return i=Date.now(),n.getSource.call(t,a)},u=function(){t.off("loadedmetadata",s),t.off("error",o),t.off("dispose",u)},l=function(c){u(),qx(t,c)};t.on("error",o),t.on("dispose",u),t.reloadSourceOnError=l},b$=function(t){qx(this,t)};var Vx="3.17.0",S$="7.1.0",T$="1.3.1",E$="7.2.0",x$="4.0.2";const Dt={PlaylistLoader:la,Playlist:Di,utils:O4,STANDARD_PLAYLIST_SELECTOR:D_,INITIAL_PLAYLIST_SELECTOR:gM,lastBandwidthSelector:D_,movingAverageBandwidthSelector:pM,comparePlaylistBandwidth:ty,comparePlaylistResolution:fM,xhr:yx()};Object.keys(Gt).forEach(t=>{Object.defineProperty(Dt,t,{get(){return se.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),Gt[t]},set(e){if(se.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){se.log.warn(`value of Vhs.${t} must be greater than or equal to 0`);return}Gt[t]=e}})});const Wx="videojs-vhs",zx=function(t,e){const i=e.media();let r=-1;for(let n=0;n<t.length;n++)if(t[n].id===i.id){r=n;break}t.selectedIndex_=r,t.trigger({selectedIndex:r,type:"change"})},w$=function(t,e){e.representations().forEach(i=>{t.addQualityLevel(i)}),zx(t,e.playlists)};Dt.canPlaySource=function(){return se.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const C$=(t,e,i)=>{if(!t)return t;let r={};e&&e.attributes&&e.attributes.CODECS&&(r=Du(Mr(e.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(r.audio=i.attributes.CODECS);const n=ka(r.video),s=ka(r.audio),a={};for(const o in t)a[o]={},s&&(a[o].audioContentType=s),n&&(a[o].videoContentType=n),e.contentProtection&&e.contentProtection[o]&&e.contentProtection[o].pssh&&(a[o].pssh=e.contentProtection[o].pssh),typeof t[o]=="string"&&(a[o].url=t[o]);return ct(t,a)},A$=(t,e)=>t.reduce((i,r)=>{if(!r.contentProtection)return i;const n=e.reduce((s,a)=>{const o=r.contentProtection[a];return o&&o.pssh&&(s[a]={pssh:o.pssh}),s},{});return Object.keys(n).length&&i.push(n),i},[]),P$=({player:t,sourceKeySystems:e,audioMedia:i,mainPlaylists:r})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const n=i?r.concat([i]):r,s=A$(n,Object.keys(e)),a=[],o=[];return s.forEach(u=>{o.push(new Promise((l,c)=>{t.tech_.one("keysessioncreated",l)})),a.push(new Promise((l,c)=>{t.eme.initializeMediaKeys({keySystems:u},f=>{if(f){c(f);return}l()})}))}),Promise.race([Promise.all(a),Promise.race(o)])},O$=({player:t,sourceKeySystems:e,media:i,audioMedia:r})=>{const n=C$(e,i,r);return n?(t.currentSource().keySystems=n,n&&!t.eme?(se.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},Gx=()=>{if(!q.localStorage)return null;const t=q.localStorage.getItem(Wx);if(!t)return null;try{return JSON.parse(t)}catch{return null}},R$=t=>{if(!q.localStorage)return!1;let e=Gx();e=e?ct(e,t):t;try{q.localStorage.setItem(Wx,JSON.stringify(e))}catch{return!1}return e},D$=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,Kx=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},Qx=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},Xx=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},Yx=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};Dt.supportsNativeHls=function(){if(!we||!we.createElement)return!1;const t=we.createElement("video");return se.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(i){return/maybe|probably/i.test(t.canPlayType(i))}):!1}();Dt.supportsNativeDash=function(){return!we||!we.createElement||!se.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(we.createElement("video").canPlayType("application/dash+xml"))}();Dt.supportsTypeNatively=t=>t==="hls"?Dt.supportsNativeHls:t==="dash"?Dt.supportsNativeDash:!1;Dt.isSupported=function(){return se.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};Dt.xhr.onRequest=function(t){Kx(Dt.xhr,t)};Dt.xhr.onResponse=function(t){Qx(Dt.xhr,t)};Dt.xhr.offRequest=function(t){Xx(Dt.xhr,t)};Dt.xhr.offResponse=function(t){Yx(Dt.xhr,t)};const I$=se.getComponent("Component");class Jx extends I${constructor(e,i,r){if(super(i,r.vhs),typeof r.initialBandwidth=="number"&&(this.options_.bandwidth=r.initialBandwidth),this.logger_=ur("VhsHandler"),i.options_&&i.options_.playerId){const n=se.getPlayer(i.options_.playerId);this.player_=n}if(this.tech_=i,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&i.overrideNativeAudioTracks&&i.overrideNativeVideoTracks)i.overrideNativeAudioTracks(!0),i.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(i.featuresNativeVideoTracks||i.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(we,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],n=>{const s=we.fullscreenElement||we.webkitFullscreenElement||we.mozFullScreenElement||we.msFullscreenElement;s&&s.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=ct(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.usePlayerObjectFit=this.options_.usePlayerObjectFit||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=typeof this.options_.useNetworkInformationApi<"u"?this.options_.useNetworkInformationApi:!0,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const r=Gx();r&&r.bandwidth&&(this.options_.bandwidth=r.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),r&&r.throughput&&(this.options_.throughput=r.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Gt.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Gt.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","usePlayerObjectFit","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(r=>{typeof this.source_[r]<"u"&&(this.options_[r]=this.source_[r])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio,this.usePlayerObjectFit=this.options_.usePlayerObjectFit;const i=this.options_.customPixelRatio;typeof i=="number"&&i>=0&&(this.customPixelRatio=i)}setOptions(e={}){this.setOptions_(e)}src(e,i){if(!e)return;this.setOptions_(),this.options_.src=D$(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Dt,this.options_.sourceType=bE(i),this.options_.seekTo=s=>{this.tech_.setCurrentTime(s)},this.options_.player_=this.player_,this.playlistController_=new p$(this.options_);const r=ct({liveRangeSafeTimeDelta:zr},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new v$(r),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{const s=se.players[this.tech_.options_.playerId];let a=this.playlistController_.error;typeof a=="object"&&!a.code?a.code=3:typeof a=="string"&&(a={message:a,code:3}),s.error(a)});const n=this.options_.bufferBasedABR?Dt.movingAverageBandwidthSelector(.55):Dt.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):n.bind(this),this.playlistController_.selectInitialPlaylist=Dt.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(s){this.playlistController_.selectPlaylist=s.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(s){this.playlistController_.mainSegmentLoader_.throughput.rate=s,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let s=this.playlistController_.mainSegmentLoader_.bandwidth;const a=q.navigator.connection||q.navigator.mozConnection||q.navigator.webkitConnection,o=1e7;if(this.options_.useNetworkInformationApi&&a){const u=a.downlink*1e3*1e3;u>=o&&s>=o?s=Math.max(s,u):s=u}return s},set(s){this.playlistController_.mainSegmentLoader_.bandwidth=s,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const s=1/(this.bandwidth||1);let a;return this.throughput>0?a=1/this.throughput:a=0,Math.floor(1/(s+a))},set(){se.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>ws(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>ws(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&R$({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{y$(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=q.URL.createObjectURL(this.playlistController_.mediaSource),(se.browser.IS_ANY_SAFARI||se.browser.IS_IOS)&&this.options_.overrideNative&&this.options_.sourceType==="hls"&&typeof this.tech_.addSourceElement=="function"?(this.tech_.addSourceElement(this.mediaSourceUrl_),this.tech_.addSourceElement(this.source_.src)):this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),P$({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(i=>{this.logger_("error while creating EME key session",i),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,i=O$({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",r=>{this.playlistController_.updatePlaylistByKeyStatus(r.keyId,r.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!i){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=se.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{w$(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{zx(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":Vx,"mux.js":S$,"mpd-parser":T$,"m3u8-parser":E$,"aes-decrypter":x$}}version(){return this.constructor.version()}canChangeType(){return jx.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&q.URL.revokeObjectURL&&(q.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,i){return F4({playlist:this.playlistController_.media(),time:e,callback:i})}seekToProgramTime(e,i,r=!0,n=2){return Tx({programTime:e,playlist:this.playlistController_.media(),retryCount:n,pauseAfterSeek:r,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:i})}setupXhrHooks_(){this.xhr.onRequest=e=>{Kx(this.xhr,e)},this.xhr.onResponse=e=>{Qx(this.xhr,e)},this.xhr.offRequest=e=>{Xx(this.xhr,e)},this.xhr.offResponse=e=>{Yx(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){const e=["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"],i=["gapjumped","playedrangeschanged"];e.forEach(r=>{this.playlistController_.on(r,n=>{this.player_.trigger(Ot({},n))})}),i.forEach(r=>{this.playbackWatcher_.on(r,n=>{this.player_.trigger(Ot({},n))})})}}const Sd={name:"videojs-http-streaming",VERSION:Vx,canHandleSource(t,e={}){const i=ct(se.options,e);return!i.vhs.experimentalUseMMS&&!cu("avc1.4d400d,mp4a.40.2",!1)?!1:Sd.canPlayType(t.type,i)},handleSource(t,e,i={}){const r=ct(se.options,i);return e.vhs=new Jx(t,e,r),e.vhs.xhr=yx(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const i=bE(t);if(!i)return"";const r=Sd.getOverrideNative(e);return!Dt.supportsTypeNatively(i)||r?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,i=!(se.browser.IS_ANY_SAFARI||se.browser.IS_IOS),{overrideNative:r=i}=e;return r}},k$=()=>cu("avc1.4d400d,mp4a.40.2",!0);k$()&&se.getTech("Html5").registerSourceHandler(Sd,0);se.VhsHandler=Jx;se.VhsSourceHandler=Sd;se.Vhs=Dt;se.use||se.registerComponent("Vhs",Dt);se.options.vhs=se.options.vhs||{};(!se.getPlugin||!se.getPlugin("reloadSourceOnError"))&&se.registerPlugin("reloadSourceOnError",b$);const Zx=(t,e)=>{const i=t.__vccOpts||t;for(const[r,n]of e)i[r]=n;return i},L$={name:"VideoPlayer",props:{options:{type:Object,default(){return{}}}},data(){return{player:null}},mounted(){this.player=se(this.$refs.videoPlayer,this.options,()=>{this.player.log("onPlayerReady",this)})},beforeDestroy(){this.player&&this.player.dispose()}},N$={preload:"auto","data-setup":"{}",ref:"videoPlayer",class:"video-js"};function F$(t,e,i,r,n,s){return ne(),ae("div",null,[X("video",N$,null,512)])}const ew=Zx(L$,[["render",F$]]),M$={style:{"background-color":"#8bc819",overflow:"auto"}},$$={class:"shadow",style:{margin:"5%"}},j$={class:"vid-box rounded",style:{position:"relative",overflow:"hidden"}},B$={class:"vid-dsec",style:{overflow:"hidden",position:"relative"}},U$=["src"],H$={class:"container",style:{position:"absolute"}},q$={class:"row"},V$={class:"vid-dsec col vid-text-col",style:{"background-image":"linear-gradient(to left, rgba(0,0,0,0.2) 0%,  rgba(0,0,0,1) 70%, rgba(0,0,0,1) 100%)"}},W$={id:"doctors",align:"left",class:"fade-in",style:{"padding-top":"2%","margin-left":"10%"}},z$={class:"title-name",style:{"font-family":"noto",color:"#ffffff"}},G$={class:"title-name",style:{"font-family":"noto",color:"#ffffff","font-size":"20px","word-wrap":"break-word"}},K$={key:0,class:"vid-series-title"},Q$={style:{"font-family":"noto",color:"#000000","font-size":"20px"}},X$={key:0},Y$={style:{"margin-left":"5%","margin-right":"5%"}},J$=["value"],Z$={style:{margin:"5%"}},e8={components:{VideoPlayer:ew},methods:{get_movie_by_id(t){for(let e=0;e<qr.length;e++)if(parseInt(t)==qr[e].id)return qr[e]},show_eps(t){document.getElementById("ep_box").innerHTML="";for(let e=0;e<this.item.series[t-1].length;e++){let i=this.item.series[t-1][e],r="#8bc819",n="#000",s="";this.ep&&this.ep==e+1&&this.season&&this.season==t&&(r="#000",n="#8bc819",s="focus-here"),document.getElementById("ep_box").innerHTML=document.getElementById("ep_box").innerHTML+`<div class="col rounded" id="${s}" style="max-height: 300px; 
        display: inline-flex; margin-bottom:2%; margin-top:2%; width: 100%; background-color: ${n};">
            <a href="#/videoplay?id=${this.$route.query.id}&ep=${e+1}&season=${t}" style="display: inline-flex;">
              <img class="shadow rounded" src="${i.pic_src}" style="max-height: 200px;">
              <div style="width: 50%; margin-left: 5%;">
                  <br>
                  <p class="" style="font-family: noto; color: ${r}; font-size: 20px;"> ${e+1}</p>
                  <div class="" style="font-family: noto-regular; color: ${r}; font-size: 17px; word-wrap: break-word;">
                              ${i.dsec}</div>
              </div>
              </a>
              </div>`}}},created(){this.item=this.get_movie_by_id(this.$route.query.id),Zn(()=>this.$route.query.id,()=>{location.reload(!0)}),Zn(()=>this.$route.query.ep,()=>{location.reload(!0)}),Zn(()=>this.$route.query.season,()=>{location.reload(!0)})},mounted(){this.item.series&&this.item.series.length>0&&(this.ep=this.$route.query.ep,this.season=this.$route.query.season,document.getElementById("season-select").value=this.season,this.show_eps(this.season),setTimeout(function(){const t=document.querySelector("#scrollable-div"),e=document.querySelector("#focus-here");t.scrollTo({top:e.offsetTop-t.offsetTop,behavior:"smooth"}),console.log(e.offsetTop)},500))}},t8=Object.assign(e8,{__name:"video_play",setup(t){return(e,i)=>(ne(),Xt(vg,null,{body:Ut(()=>[X("div",M$,[X("div",$$,[X("div",j$,[X("div",B$,[X("img",{src:e.item.pic_src,style:{width:"100%",position:"absolute",margin:"auto",top:"0px",left:"0px",right:"0px",bottom:"0px"},alt:""},null,8,U$),X("div",H$,[X("div",q$,[X("div",V$,[X("div",W$,[X("p",z$,je(e.item.name),1),X("div",G$,je(e.item.dsec),1),i[1]||(i[1]=X("br",null,null,-1))])]),i[2]||(i[2]=X("div",{class:"col",style:{width:"100%","background-image":"linear-gradient(to left, rgba(0,0,0,0) 0%, rgba(0,0,0,0.2) 100%)"}},null,-1))])])]),X("div",null,[this.item.series&&this.item.series.length>0?(ne(),ae("div",K$,[X("p",Q$," "+je(this.$route.query.season)+"  "+je(this.$route.query.ep),1)])):Le("",!0)]),X("div",null,[rt(ew,{options:{autoplay:!0,controls:!0,sources:[{src:"https://sample-videos.com/video321/mp4/720/big_buck_bunny_720p_30mb.mp4",type:"video/mp4"}]}})])])]),this.item.series&&this.item.series.length>0?(ne(),ae("div",X$,[X("div",Y$,[X("select",{id:"season-select",class:"form-select",style:{"font-family":"noto-regular",color:"#8bc819","background-color":"#000000","border-color":"#000000","font-size":"20px"},onChange:i[0]||(i[0]=r=>e.show_eps(r.target.value))},[i[3]||(i[3]=X("option",{selected:"",value:"1"}," 1",-1)),(ne(!0),ae(We,null,Pt(this.item.series.length-1,r=>(ne(),ae("option",{value:r+1}," "+je(r+1),9,J$))),256))],32)]),i[4]||(i[4]=X("div",{class:"shadow rounded overflow-auto",id:"scrollable-div",style:{margin:"5%","background-color":"#000000"}},[X("div",{class:"container",style:{}},[X("div",{id:"ep_box",class:"row row-cols-1",style:{"max-height":"600px"}})])],-1))])):Le("",!0),X("div",Z$,[rt(wL)])])]),_:1}))}}),i8={style:{overflow:"auto","background-color":"#000000"}},r8={class:"",style:{margin:"2%"}},n8={id:"doctors",align:"left",class:"fade-in",style:{"padding-top":"2%","margin-left":"10%"}},s8={class:"title-name",style:{"font-family":"noto",color:"#8bc819"}},a8={class:"containers",align:"center",style:{"min-height":"300px"}},o8={class:"row row-cols-3 row-cols-sm-5"},u8={class:"col",style:{"margin-bottom":"5%"}},l8=["href"],c8=["src"],d8={class:"loaded",style:{"margin-top":"5%",display:"none","font-family":"noto-regular",color:"#8bc819"}},h8={key:0},f8={created(){let t=this.$route.query.movietype,e=this.$route.query.search;this.is_screach=!1,e?(this.movie_type=e,this.is_screach=!0):t&&(this.movie_type=t),this.slides=Vd(this.movie_type.split(" "),qr),this.is_screach&&(this.movie_type=": "+this.movie_type),Zn(()=>this.$route.query.movietype,()=>{location.reload(!0)})},methods:{get_series_string(t){return t.series?"&ep=1&season=1":""}}},p8=Object.assign(f8,{__name:"movie_type_cat",setup(t){return(e,i)=>(ne(),Xt(vg,null,{body:Ut(()=>[X("div",i8,[X("div",r8,[i[1]||(i[1]=X("div",null,[X("nav",{"aria-label":"..."},[X("ul",{class:"pagination justify-content-center"},[X("li",{class:"page-item disabled"},[X("a",{class:"page-link",href:"#",tabindex:"-1","aria-disabled":"true"},"Previous")]),X("li",{class:"page-item active"},[X("a",{class:"page-link",href:"#"},"1")]),X("li",{class:"page-item"},[X("a",{class:"page-link disabled",href:"#"},"Next")])])])],-1)),X("div",n8,[X("p",s8,je(e.movie_type),1)]),X("div",a8,[X("div",o8,[(ne(!0),ae(We,null,Pt(e.slides,r=>(ne(),ae("div",u8,[X("a",{href:"#/videoplay?id="+r.id+e.get_series_string(r)},[X("img",{src:r.pic_src,draggable:"false",class:"rounded shadow loaded",alt:"...",style:{display:"none",width:"90%"}},null,8,c8),X("div",d8,je(r.name),1)],8,l8)]))),256))]),e.slides.length==0?(ne(),ae("div",h8,i[0]||(i[0]=[X("br",null,null,-1),X("p",{style:{"font-size":"45px","font-family":"noto-regular",color:"#8bc819"}},"",-1)]))):Le("",!0)]),i[2]||(i[2]=X("div",null,[X("nav",{"aria-label":"..."},[X("ul",{class:"pagination justify-content-center"},[X("li",{class:"page-item disabled"},[X("a",{class:"page-link",href:"#",tabindex:"-1","aria-disabled":"true"},"Previous")]),X("li",{class:"page-item active"},[X("a",{class:"page-link",href:"#"},"1")]),X("li",{class:"page-item"},[X("a",{class:"page-link disabled",href:"#"},"Next")])])])],-1))])])]),_:1}))}}),m8=[{path:"/",name:"home",component:yL},{path:"/videoplay",name:"videoplay",component:t8},{path:"/catalogue",name:"catalogue",component:p8}],g8=QI({history:xI(),routes:m8});function y8(t,e,i){if(!t)throw new Error("You need to provide `widgetName` in your data");var r=["ais-"+t];return e&&r.push("-"+e),i&&r.push("--"+i),r.join("")}var it=function(t){var e=t.name;return{props:{classNames:{type:Object,default:void 0}},methods:{suit:function(i,r){var n=y8(e,i,r),s=this.classNames&&this.classNames[n];return s?[n,s].join(" "):n}}}};function Iu(t){for(var e=arguments,i=1;i<arguments.length;i++){var r=e[i]!=null?e[i]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){v8(t,s,r[s])})}return t}function v8(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var _8=!1,b8=!0;function oo(t){function e(i,r){for(var n=[],s=arguments.length-2;s-- >0;)n[s]=arguments[s+2];var a=n.length>0?n:void 0;if(typeof r=="object"&&(r.attrs||r.props||r.scopedSlots||r.on)){var o=Object.keys(r.on||{}),u=Object.assign({},r,r.attrs,r.props,o.reduce(function(l,c){return l["on"+c[0].toUpperCase()+c.slice(1)]=r.on[c],l},{}));return delete u.attrs,delete u.props,delete u.scopedSlots,o.forEach(function(l){return delete u.on[l]}),u.on&&Object.keys(u.on).length===0&&delete u.on,Os(i,u,r.scopedSlots?Object.assign({default:function(){return a}},r.scopedSlots):a)}return Os(i,r,a)}return function(){return t.call(this,e)}}function fh(t){var e=t.$slots||t.slots;return typeof e.default=="function"?e.default():e.default}function If(t,e){return(t.$slots||t.slots||{})[e]}var V_=new Set;function Pa(t){V_.has(t)||(V_.add(t),console.warn(t))}var pt=function(t,e){var i;t===void 0&&(t={});var r=t.connector;return e===void 0&&(e={}),(i={inject:{instantSearchInstance:{from:"$_ais_instantSearchInstance",default:function(){var n=this.$options._componentTag;throw new TypeError('It looks like you forgot to wrap your Algolia search component "<'+n+'>" inside of an "<ais-instant-search>" component.')}},getParentIndex:{from:"$_ais_getParentIndex",default:function(){var n=this;return function(){return n.instantSearchInstance.mainIndex}}}},data:function(){return{state:null}},created:function(){if(typeof r=="function"){if(this.factory=r(this.updateState,function(){}),this.widget=Iu(this.factory(this.widgetParams),e),this.getParentIndex().addWidgets([this.widget]),this.instantSearchInstance._initialResults&&!this.instantSearchInstance.started){if(typeof this.instantSearchInstance.__forceRender!="function")throw new Error("You are using server side rendering with <ais-instant-search> instead of <ais-instant-search-ssr>.");this.instantSearchInstance.__forceRender(this.widget,this.getParentIndex())}}else r!==!0&&Pa(`You are using the InstantSearch widget mixin, but didn't provide a connector.
While this is technically possible, and will give you access to the Helper,
it's not the recommended way of making custom components.

If you want to disable this message, pass { connector: true } to the mixin.

Read more on using connectors: https://alg.li/vue-custom`)}}).beforeUnmount=function(){this.widget&&this.getParentIndex().removeWidgets([this.widget])},i.watch={widgetParams:{handler:function(n){this.state=null,this.getParentIndex().removeWidgets([this.widget]),this.widget=Iu(this.factory(n),e),this.getParentIndex().addWidgets([this.widget])},deep:!0}},i.methods={updateState:function(n,s){n===void 0&&(n={}),s||(this.state=n)}},i},S8=0;function T8(t){t.dependsOn==="recommend"&&(t.$$id=S8++)}function tt(){}var uo=function(e,i){return e};function E8(t){return Object.prototype.toString.call(t).slice(8,-1)}function $t(t,e){if(t===void 0||typeof t!="function")throw new Error("The render function is not valid (received type ".concat(E8(t),`).

`).concat(e))}function W_(t){var e=t.helper,i=t.attributesToClear,r=i===void 0?[]:i,n=e.state.setPage(0);return n=r.reduce(function(s,a){return n.isNumericRefined(a)?s.removeNumericRefinement(a):n.isHierarchicalFacet(a)?s.removeHierarchicalFacetRefinement(a):n.isDisjunctiveFacet(a)?s.removeDisjunctiveFacetRefinement(a):n.isConjunctiveFacet(a)?s.removeFacetRefinement(a):s},n),r.indexOf("query")!==-1&&(n=n.setQuery("")),n}var x8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tw=/[&<>"']/g,w8=RegExp(tw.source);function C8(t){return t&&w8.test(t)?t.replace(tw,function(e){return x8[e]}):t}var A8={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},iw=/&(amp|quot|lt|gt|#39);/g,P8=RegExp(iw.source);function rw(t){return t&&P8.test(t)?t.replace(iw,function(e){return A8[e]}):t}function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function O8(t){return t===null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function R8(t){return Om(t)==="object"&&t!==null}function nw(t){if(!R8(t)||O8(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function D8(t){if(t==null)throw new TypeError("Cannot destructure "+t)}function Rm(){return Rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Rm.apply(this,arguments)}function z_(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function ca(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?z_(Object(i),!0).forEach(function(r){sw(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):z_(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function sw(t,e,i){return e=I8(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function I8(t){var e=k8(t,"string");return ku(e)=="symbol"?e:String(e)}function k8(t,e){if(ku(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rn={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},pi={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function aw(t){return C8(t).replace(new RegExp(rn.highlightPreTag,"g"),pi.highlightPreTag).replace(new RegExp(rn.highlightPostTag,"g"),pi.highlightPostTag)}function Td(t){return nw(t)&&typeof t.value!="string"?Object.keys(t).reduce(function(e,i){return ca(ca({},e),{},sw({},i,Td(t[i])))},{}):Array.isArray(t)?t.map(Td):ca(ca({},t),{},{value:aw(t.value)})}function iy(t){return t.__escaped===void 0&&(t=t.map(function(e){var i=Rm({},(D8(e),e));return i._highlightResult&&(i._highlightResult=Td(i._highlightResult)),i._snippetResult&&(i._snippetResult=Td(i._snippetResult)),i}),t.__escaped=!0),t}function L8(t){return t.map(function(e){return ca(ca({},e),{},{highlighted:aw(e.highlighted)})})}function ow(t){var e=pi.highlightPreTag,i=pi.highlightPostTag;return t.map(function(r){return r.isHighlighted?e+r.value+i:r.value}).join("")}function N8(t,e,i){return t.state.isHierarchicalFacet(e)?t.state.isHierarchicalFacetRefined(e,i):t.state.isConjunctiveFacet(e)?t.state.isFacetRefined(e,i):t.state.isDisjunctiveFacetRefined(e,i)}function G_(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function F8(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?G_(Object(i),!0).forEach(function(r){M8(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):G_(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function M8(t,e,i){return e=$8(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function $8(t){var e=j8(t,"string");return qa(e)=="symbol"?e:String(e)}function j8(t,e){if(qa(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(qa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qa(t){"@babel/helpers - typeof";return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(t)}function B8(t,e){return V8(t)||q8(t,e)||H8(t,e)||U8()}function U8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H8(t,e){if(t){if(typeof t=="string")return K_(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return K_(t,e)}}function K_(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function q8(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,a,o=[],u=!0,l=!1;try{if(s=(i=i.call(t)).next,e!==0)for(;!(u=(r=s.call(i)).done)&&(o.push(r.value),o.length!==e);u=!0);}catch(c){l=!0,n=c}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(l)throw n}}return o}}function V8(t){if(Array.isArray(t))return t}function ry(t){var e=t.instantSearchInstance,i=t.helper,r=t.attribute,n=t.widgetType,s=function(){for(var o=arguments.length,u=new Array(o),l=0;l<o;l++)u[l]=arguments[l];var c=u[1],f=u[2],m=f===void 0?"Filter Applied":f,h=u[3],g=h===void 0?{}:h,p=u[0].split(":"),_=B8(p,2),y=_[0],T=_[1],E=typeof r=="string"?r:r(c);if(u.length===1&&qa(u[0])==="object")e.sendEventToInsights(u[0]);else if(y==="click"&&u.length>=2&&u.length<=4&&!N8(i,E,c)){var C;e.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:n,eventType:y,eventModifier:T,payload:F8({eventName:m,index:((C=i.lastResults)===null||C===void 0?void 0:C.index)||i.state.index,filters:["".concat(E,":").concat(c)]},g),attribute:E})}};return s}function uw(t){return btoa(encodeURIComponent(JSON.stringify(t)))}function Q_(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function kf(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Q_(Object(i),!0).forEach(function(r){W8(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Q_(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function W8(t,e,i){return e=z8(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function z8(t){var e=G8(t,"string");return Va(e)=="symbol"?e:String(e)}function G8(t,e){if(Va(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Va(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K8(t,e){return J8(t)||Y8(t,e)||X8(t,e)||Q8()}function Q8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X8(t,e){if(t){if(typeof t=="string")return X_(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return X_(t,e)}}function X_(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Y8(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,a,o=[],u=!0,l=!1;try{if(s=(i=i.call(t)).next,e!==0)for(;!(u=(r=s.call(i)).done)&&(o.push(r.value),o.length!==e);u=!0);}catch(c){l=!0,n=c}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(l)throw n}}return o}}function J8(t){if(Array.isArray(t))return t}function Va(t){"@babel/helpers - typeof";return Va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Va(t)}function Z8(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,i=[],r=0;r<Math.ceil(t.length/e);r++)i.push(t.slice(r*e,(r+1)*e));return i}function lw(t){var e=t.helper,i=t.widgetType;t.methodName;var r=t.args,n=t.instantSearchInstance;if(r.length===1&&Va(r[0])==="object")return[r[0]];var s=r[0].split(":"),a=K8(s,2),o=a[0],u=a[1],l=r[1],c=r[2],f=r[3]||{};if(!l)return[];if((o==="click"||o==="conversion")&&!c)return[];var m=Array.isArray(l)?l:[l];if(m.length===0)return[];var h=m[0].__queryID,g=Z8(m),p=g.map(function(y){return y.map(function(T){return T.objectID})}),_=g.map(function(y){return y.map(function(T){return T.__position})});return o==="view"?n.status!=="idle"?[]:g.map(function(y,T){var E;return{insightsMethod:"viewedObjectIDs",widgetType:i,eventType:o,payload:kf({eventName:c||"Hits Viewed",index:((E=e.lastResults)===null||E===void 0?void 0:E.index)||e.state.index,objectIDs:p[T]},f),hits:y,eventModifier:u}}):o==="click"?g.map(function(y,T){var E;return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:i,eventType:o,payload:kf({eventName:c||"Hit Clicked",index:((E=e.lastResults)===null||E===void 0?void 0:E.index)||e.state.index,queryID:h,objectIDs:p[T],positions:_[T]},f),hits:y,eventModifier:u}}):o==="conversion"?g.map(function(y,T){var E;return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:i,eventType:o,payload:kf({eventName:c||"Hit Converted",index:((E=e.lastResults)===null||E===void 0?void 0:E.index)||e.state.index,queryID:h,objectIDs:p[T]},f),hits:y,eventModifier:u}}):[]}function ny(t){var e=t.instantSearchInstance,i=t.helper,r=t.widgetType,n={},s=void 0,a=function(){for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];var f=lw({widgetType:r,helper:i,methodName:"sendEvent",args:l,instantSearchInstance:e});f.forEach(function(m){m.eventType==="click"&&m.eventModifier==="internal"&&n[m.eventType]||(n[m.eventType]=!0,e.sendEventToInsights(m))}),clearTimeout(s),s=setTimeout(function(){n={}},0)};return a}function cw(t){var e=t.helper,i=t.widgetType,r=t.instantSearchInstance,n=function(){for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];var l=lw({widgetType:i,helper:e,methodName:"bindEvent",args:o,instantSearchInstance:r});return l.length?"data-insights-event=".concat(uw(l)):""};return n}function Bi(t){return t.$$type==="ais.index"}function Dm(t,e){var i=t[e.getIndexId()]||{};e.getHelper().setState(e.getWidgetSearchParameters(e.getHelper().state,{uiState:i})),e.getWidgets().filter(Bi).forEach(function(r){return Dm(t,r)})}var ej=Promise.resolve();function Uo(t){var e=null,i=!1,r=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];e===null&&(e=ej.then(function(){if(e=null,i){i=!1;return}t.apply(void 0,a)}))};return r.wait=function(){if(e===null)throw new Error("The deferred function should be called before calling `wait()`");return e},r.cancel=function(){e!==null&&(i=!0)},r}function tj(t){var e=t.name,i=t.connector,r=i===void 0?!1:i;return["https://www.algolia.com/doc/api-reference/widgets/",e,"/js/",r?"#connector":""].join("")}function bt(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var r=e.map(function(n){return tj(n)}).join(", ");return function(n){return[n,"See documentation: ".concat(r)].filter(Boolean).join(`

`)}}function ij(t){return typeof t=="string"?t.replace(/^\\-/,"-"):t}function Jo(t){return typeof t=="number"&&t<0||typeof t=="string"?String(t).replace(/^-/,"\\-"):t}function An(t,e){for(var i,r=0;r<t.length;r++)if(i=t[r],e(i,r,t))return i}function rj(t,e){if(!Array.isArray(t))return-1;for(var i=0;i<t.length;i++)if(e(t[i]))return i;return-1}function Y_(t){if(t.appId&&t.apiKey)return[t.appId,t.apiKey];if(t.transporter){var e=t.transporter,i=e.headers||e.baseHeaders,r=e.queryParameters||e.baseQueryParameters,n="x-algolia-application-id",s="x-algolia-api-key",a=i[n]||r[n],o=i[s]||r[s];return[a,o]}else return[t.applicationID,t.apiKey]}function sy(t){var e=pi.highlightPostTag,i=pi.highlightPreTag,r=t.split(i),n=r.shift(),s=n?[{value:n,isHighlighted:!1}]:[];return r.forEach(function(a){var o=a.split(e);s.push({value:o[0],isHighlighted:!0}),o[1]!==""&&s.push({value:o[1],isHighlighted:!1})}),s}var nj=new RegExp(/\w/i);function sj(t,e){var i,r,n=t[e],s=((i=t[e+1])===null||i===void 0?void 0:i.isHighlighted)||!0,a=((r=t[e-1])===null||r===void 0?void 0:r.isHighlighted)||!0;return!nj.test(rw(n.value))&&a===s?a:n.isHighlighted}function lo(t,e){var i=Array.isArray(e)?e:e.split(".");return i.reduce(function(r,n){return r&&r[n]},t)}function Lf(t,e,i,r){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],s={type:e,attribute:i,name:r,escapedValue:Jo(r)},a=An(n,function(h){return h.name===i}),o;if(e==="hierarchical"){for(var u=t.getHierarchicalFacetByName(i),l=r.split(u.separator),c=function(g){return function(p){return g[p]}},f=function(g){a=a&&a.data&&An(Object.keys(a.data).map(c(a.data)),function(p){return p.name===l[g]})},m=0;a!==void 0&&m<l.length;++m)f(m);o=a&&a.count}else o=a&&a.data&&a.data[s.name];return o!==void 0&&(s.count=o),a&&a.exhaustive!==void 0&&(s.exhaustive=a.exhaustive),s}function ay(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=t||{},n=[],s=e.facetsRefinements,a=s===void 0?{}:s,o=e.facetsExcludes,u=o===void 0?{}:o,l=e.disjunctiveFacetsRefinements,c=l===void 0?{}:l,f=e.hierarchicalFacetsRefinements,m=f===void 0?{}:f,h=e.numericRefinements,g=h===void 0?{}:h,p=e.tagRefinements,_=p===void 0?[]:p;return Object.keys(a).forEach(function(y){var T=a[y];T.forEach(function(E){n.push(Lf(e,"facet",y,E,r.facets))})}),Object.keys(u).forEach(function(y){var T=u[y];T.forEach(function(E){n.push({type:"exclude",attribute:y,name:E,exclude:!0})})}),Object.keys(c).forEach(function(y){var T=c[y];T.forEach(function(E){n.push(Lf(e,"disjunctive",y,ij(E),r.disjunctiveFacets))})}),Object.keys(m).forEach(function(y){var T=m[y];T.forEach(function(E){n.push(Lf(e,"hierarchical",y,E,r.hierarchicalFacets))})}),Object.keys(g).forEach(function(y){var T=g[y];Object.keys(T).forEach(function(E){var C=E,R=T[C],I=Array.isArray(R)?R:[R];I.forEach(function(D){n.push({type:"numeric",attribute:y,name:"".concat(D),numericValue:D,operator:C})})})}),_.forEach(function(y){n.push({type:"tag",attribute:"_tags",name:y})}),i&&e.query&&e.query.trim()&&n.push({attribute:"query",type:"query",name:e.query,query:e.query}),n}function aj(t,e){var i,r=(i=t.getWidgetRenderState)===null||i===void 0?void 0:i.call(t,e),n=null;if(r&&r.widgetParams){var s=r.widgetParams;s.attribute?n=s.attribute:Array.isArray(s.attributes)&&(n=s.attributes[0])}if(typeof n!="string")throw new Error(`Could not find the attribute of the widget:

`.concat(JSON.stringify(t),`

Please check whether the widget's getWidgetRenderState returns widgetParams.attribute correctly.`));return n}function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function J_(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Z_(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?J_(Object(i),!0).forEach(function(r){oj(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):J_(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function oj(t,e,i){return e=uj(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function uj(t){var e=lj(t,"string");return Lu(e)=="symbol"?e:String(e)}function lj(t,e){if(Lu(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dw(t,e,i){return t.map(function(r,n){return Z_(Z_({},r),{},{__position:i*e+n+1})})}function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function eb(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function tb(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?eb(Object(i),!0).forEach(function(r){cj(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):eb(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function cj(t,e,i){return e=dj(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function dj(t){var e=hj(t,"string");return Nu(e)=="symbol"?e:String(e)}function hj(t,e){if(Nu(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hw(t,e){return e?t.map(function(i){return tb(tb({},i),{},{__queryID:e})}):t}function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function ib(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function rb(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?ib(Object(i),!0).forEach(function(r){fj(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ib(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function fj(t,e,i){return e=pj(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function pj(t){var e=mj(t,"string");return Fu(e)=="symbol"?e:String(e)}function mj(t,e){if(Fu(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gj(t,e){var i=Object.keys(e).reduce(function(r,n){var s=e[n];return s.recommendResults?rb(rb({},r),s.recommendResults.results):r},{});t._recommendCache=i}function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}function yj(t,e){return Sj(t)||bj(t,e)||_j(t,e)||vj()}function vj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _j(t,e){if(t){if(typeof t=="string")return nb(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return nb(t,e)}}function nb(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function bj(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,a,o=[],u=!0,l=!1;try{if(s=(i=i.call(t)).next,e!==0)for(;!(u=(r=s.call(i)).done)&&(o.push(r.value),o.length!==e);u=!0);}catch(c){l=!0,n=c}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(l)throw n}}return o}}function Sj(t){if(Array.isArray(t))return t}function sb(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Ho(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?sb(Object(i),!0).forEach(function(r){fw(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):sb(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function fw(t,e,i){return e=Tj(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Tj(t){var e=Ej(t,"string");return Mu(e)=="symbol"?e:String(e)}function Ej(t,e){if(Mu(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xj(t,e){if(e&&!((!("transporter"in t)||t._cacheHydrated)&&(!t._useCache||typeof t.addAlgoliaAgent!="function"))){var i=[Object.keys(e).reduce(function(a,o){var u=e[o],l=u.state,c=u.requestParams,f=u.results,m=f&&l?f.map(function(h,g){return Ho({indexName:l.index||h.index},c!=null&&c[g]||h.params?{params:Nf((c==null?void 0:c[g])||wj(h.params))}:{})}):[];return a.concat(m)},[])],r=Object.keys(e).reduce(function(a,o){var u=e[o].results;return u?a.concat(u):a},[]);if("transporter"in t&&!t._cacheHydrated){t._cacheHydrated=!0;var n=t.search.bind(t);t.search=function(a){for(var o=arguments.length,u=new Array(o>1?o-1:0),l=1;l<o;l++)u[l-1]=arguments[l];var c=Array.isArray(a)?a.map(function(f){return Ho(Ho({},f),{},{params:Nf(f.params)})}):Nf(a.requestBody.params);return t.transporter.responsesCache.get({method:"search",args:[c].concat(u)},function(){return n.apply(void 0,[a].concat(u))})},t.transporter.responsesCache.set({method:"search",args:i},{results:r})}if(!("transporter"in t)){var s="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:i}));t.cache=Ho(Ho({},t.cache),{},fw({},s,JSON.stringify({results:Object.keys(e).map(function(a){return e[a].results})})))}}}function wj(t){return t.split("&").reduce(function(e,i){var r=i.split("="),n=yj(r,2),s=n[0],a=n[1];return e[s]=a?decodeURIComponent(a):"",e},{})}function Nf(t){var e=function(n){return Object.prototype.toString.call(n)==="[object Object]"||Object.prototype.toString.call(n)==="[object Array]"},i=function(n){for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];var u=0;return n.replace(/%s/g,function(){return encodeURIComponent(a[u++])})};return Object.keys(t).map(function(r){return i("%s=%s",r,e(t[r])?JSON.stringify(t[r]):t[r])}).join("&")}function ab(t){return t!==Object(t)}function Al(t,e){if(t===e)return!0;if(ab(t)||ab(e)||typeof t=="function"||typeof e=="function")return t===e;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var i=0,r=Object.keys(t);i<r.length;i++){var n=r[i];if(!(n in e)||!Al(t[n],e[n]))return!1}return!0}function ht(t){return typeof t=="number"&&isFinite(t)}function pw(t,e){e(t),t.getWidgets().forEach(function(i){Bi(i)&&pw(i,e)})}function oy(t){return t.filter(function(e,i,r){return r.indexOf(e)===i})}function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}var Cj=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function ob(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function nn(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?ob(Object(i),!0).forEach(function(r){Aj(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ob(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Aj(t,e,i){return e=Pj(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Pj(t){var e=Oj(t,"string");return $u(e)=="symbol"?e:String(e)}function Oj(t,e){if($u(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if($u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rj(t,e){if(t==null)return{};var i=Dj(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Dj(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}var Ij=function(e,i){i.facets,i.disjunctiveFacets,i.facetsRefinements,i.facetsExcludes,i.disjunctiveFacetsRefinements,i.numericRefinements,i.tagRefinements,i.hierarchicalFacets,i.hierarchicalFacetsRefinements,i.ruleContexts;var r=Rj(i,Cj);return e.setQueryParameters(r)},kj=function(e,i){return i.facets.reduce(function(r,n){return r.addFacet(n)},e)},Lj=function(e,i){return i.disjunctiveFacets.reduce(function(r,n){return r.addDisjunctiveFacet(n)},e)},Nj=function(e,i){return e.setQueryParameters({hierarchicalFacets:i.hierarchicalFacets.reduce(function(r,n){var s=rj(r,function(o){return o.name===n.name});if(s===-1)return r.concat(n);var a=r.slice();return a.splice(s,1,n),a},e.hierarchicalFacets)})},Fj=function(e,i){return i.tagRefinements.reduce(function(r,n){return r.addTagRefinement(n)},e)},Mj=function(e,i){return e.setQueryParameters({facetsRefinements:nn(nn({},e.facetsRefinements),i.facetsRefinements)})},$j=function(e,i){return e.setQueryParameters({facetsExcludes:nn(nn({},e.facetsExcludes),i.facetsExcludes)})},jj=function(e,i){return e.setQueryParameters({disjunctiveFacetsRefinements:nn(nn({},e.disjunctiveFacetsRefinements),i.disjunctiveFacetsRefinements)})},Bj=function(e,i){return e.setQueryParameters({numericRefinements:nn(nn({},e.numericRefinements),i.numericRefinements)})},Uj=function(e,i){return e.setQueryParameters({hierarchicalFacetsRefinements:nn(nn({},e.hierarchicalFacetsRefinements),i.hierarchicalFacetsRefinements)})},Hj=function(e,i){var r=oy([].concat(e.ruleContexts).concat(i.ruleContexts).filter(Boolean));return r.length>0?e.setQueryParameters({ruleContexts:r}):e},gu=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return i.reduce(function(n,s){var a=Uj(n,s),o=Nj(a,s),u=Fj(o,s),l=Bj(u,s),c=jj(l,s),f=$j(c,s),m=Mj(f,s),h=Lj(m,s),g=Hj(h,s),p=kj(g,s);return Ij(p,s)})};function qj(t){return Gj(t)||zj(t)||Wj(t)||Vj()}function Vj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wj(t,e){if(t){if(typeof t=="string")return Im(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Im(t,e)}}function zj(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gj(t){if(Array.isArray(t))return Im(t)}function Im(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function ub(t){var e=t.start,i=e===void 0?0:e,r=t.end,n=t.step,s=n===void 0?1:n,a=s===0?1:s,o=Math.round((r-i)/a);return qj(Array(o)).map(function(u,l){return i+l*a})}function Zo(t,e,i){var r=e.getHelper();return{uiState:i,helper:r,parent:e,instantSearchInstance:t,state:r.state,renderState:t.renderState,templatesConfig:t.templatesConfig,createURL:e.createURL,scopedResults:[],searchMetadata:{isSearchStalled:t.status==="stalled"},status:t.status,error:t.error}}function lb(t,e,i){var r=e.getResultsForWidget(i),n=e.getHelper();return{helper:n,parent:e,instantSearchInstance:t,results:r,scopedResults:e.getScopedResults(),state:r&&"_state"in r?r._state:n.state,renderState:t.renderState,templatesConfig:t.templatesConfig,createURL:e.createURL,searchMetadata:{isSearchStalled:t.status==="stalled"},status:t.status,error:t.error}}function Kj(t){for(var e=t.getParent(),i=[t.getHelper().state];e!==null;)i=[e.getHelper().state].concat(i),e=e.getParent();return i}function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function cb(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function mc(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?cb(Object(i),!0).forEach(function(r){Qj(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):cb(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Qj(t,e,i){return e=Xj(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Xj(t){var e=Yj(t,"string");return ju(e)=="symbol"?e:String(e)}function Yj(t,e){if(ju(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mw(t){return t.some(function(e){return e.isHighlighted})?t.map(function(e,i){return mc(mc({},e),{},{isHighlighted:!sj(t,i)})}):t.map(function(e){return mc(mc({},e),{},{isHighlighted:!1})})}function Ur(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fallback:function(){}},i=e.fallback;return typeof window>"u"?i():t({window})}function Ff(t){return Array.isArray(t)?t:[t]}var Mf,db;function uy(){if(db)return Mf;db=1;function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}Mf=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(s){if(!i(s)||s<0||isNaN(s))throw TypeError("n must be a positive number");return this._maxListeners=s,this},t.prototype.emit=function(s){var a,o,u,l,c,f;if(this._events||(this._events={}),s==="error"&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if(a=arguments[1],a instanceof Error)throw a;var m=new Error('Uncaught, unspecified "error" event. ('+a+")");throw m.context=a,m}if(o=this._events[s],n(o))return!1;if(e(o))switch(arguments.length){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:l=Array.prototype.slice.call(arguments,1),o.apply(this,l)}else if(r(o))for(l=Array.prototype.slice.call(arguments,1),f=o.slice(),u=f.length,c=0;c<u;c++)f[c].apply(this,l);return!0},t.prototype.addListener=function(s,a){var o;if(!e(a))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",s,e(a.listener)?a.listener:a),this._events[s]?r(this._events[s])?this._events[s].push(a):this._events[s]=[this._events[s],a]:this._events[s]=a,r(this._events[s])&&!this._events[s].warned&&(n(this._maxListeners)?o=t.defaultMaxListeners:o=this._maxListeners,o&&o>0&&this._events[s].length>o&&(this._events[s].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[s].length),typeof console.trace=="function"&&console.trace())),this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(s,a){if(!e(a))throw TypeError("listener must be a function");var o=!1;function u(){this.removeListener(s,u),o||(o=!0,a.apply(this,arguments))}return u.listener=a,this.on(s,u),this},t.prototype.removeListener=function(s,a){var o,u,l,c;if(!e(a))throw TypeError("listener must be a function");if(!this._events||!this._events[s])return this;if(o=this._events[s],l=o.length,u=-1,o===a||e(o.listener)&&o.listener===a)delete this._events[s],this._events.removeListener&&this.emit("removeListener",s,a);else if(r(o)){for(c=l;c-- >0;)if(o[c]===a||o[c].listener&&o[c].listener===a){u=c;break}if(u<0)return this;o.length===1?(o.length=0,delete this._events[s]):o.splice(u,1),this._events.removeListener&&this.emit("removeListener",s,a)}return this},t.prototype.removeAllListeners=function(s){var a,o;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[s]&&delete this._events[s],this;if(arguments.length===0){for(a in this._events)a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events={},this}if(o=this._events[s],e(o))this.removeListener(s,o);else if(o)for(;o.length;)this.removeListener(s,o[o.length-1]);return delete this._events[s],this},t.prototype.listeners=function(s){var a;return!this._events||!this._events[s]?a=[]:e(this._events[s])?a=[this._events[s]]:a=this._events[s].slice(),a},t.prototype.listenerCount=function(s){if(this._events){var a=this._events[s];if(e(a))return 1;if(a)return a.length}return 0},t.listenerCount=function(s,a){return s.listenerCount(a)};function e(s){return typeof s=="function"}function i(s){return typeof s=="number"}function r(s){return typeof s=="object"&&s!==null}function n(s){return s===void 0}return Mf}var $f,hb;function gw(){if(hb)return $f;hb=1;function t(e,i){e.prototype=Object.create(i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}return $f=t,$f}var jf,fb;function Jj(){if(fb)return jf;fb=1;var t=uy(),e=gw();function i(r,n,s){this.main=r,this.fn=n,this.recommendFn=s,this.lastResults=null,this.lastRecommendResults=null}return e(i,t),i.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},i.prototype.getModifiedState=function(r){return this.fn(r)},i.prototype.getModifiedRecommendState=function(r){return this.recommendFn(r)},jf=i,jf}var Bf,pb;function ly(){if(pb)return Bf;pb=1;function t(i){return typeof i!="string"?i:String(i).replace(/^-/,"\\-")}function e(i){return typeof i!="string"?i:i.replace(/^\\-/,"-")}return Bf={escapeFacetValue:t,unescapeFacetValue:e},Bf}var Uf,mb;function cy(){if(mb)return Uf;mb=1;function t(n){return typeof n=="object"&&n!==null?i(Array.isArray(n)?[]:{},n):n}function e(n){return typeof n=="function"||Array.isArray(n)||Object.prototype.toString.call(n)==="[object Object]"}function i(n,s){if(n===s)return n;for(var a in s)if(!(!Object.prototype.hasOwnProperty.call(s,a)||a==="__proto__"||a==="constructor")){var o=s[a],u=n[a];typeof u<"u"&&typeof o>"u"||(e(u)&&e(o)?n[a]=i(u,o):n[a]=t(o))}return n}function r(n){e(n)||(n={});for(var s=1,a=arguments.length;s<a;s++){var o=arguments[s];e(o)&&i(n,o)}return n}return Uf=r,Uf}var Hf,gb;function dy(){if(gb)return Hf;gb=1;function t(e){return e&&Object.keys(e).length>0}return Hf=t,Hf}var qf,yb;function hy(){if(yb)return qf;yb=1;function t(e,i){if(e===null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(i.indexOf(s)>=0)&&(r[s]=e[s]);return r}return qf=t,qf}var Vf,vb;function yw(){if(vb)return Vf;vb=1;function t(e){e=e||{},this.params=e.params||[]}return t.prototype={constructor:t,addParams:function(e){var i=this.params.slice();return i.push(e),new t({params:i})},removeParams:function(e){return new t({params:this.params.filter(function(i){return i.$$id!==e})})},addFrequentlyBoughtTogether:function(e){return this.addParams(Object.assign({},e,{model:"bought-together"}))},addRelatedProducts:function(e){return this.addParams(Object.assign({},e,{model:"related-products"}))},addTrendingItems:function(e){return this.addParams(Object.assign({},e,{model:"trending-items"}))},addTrendingFacets:function(e){return this.addParams(Object.assign({},e,{model:"trending-facets"}))},addLookingSimilar:function(e){return this.addParams(Object.assign({},e,{model:"looking-similar"}))},_buildQueries:function(e,i){return this.params.filter(function(r){return i[r.$$id]===void 0}).map(function(r){var n=Object.assign({},r,{indexName:e,threshold:r.threshold||0});return delete n.$$id,n})}},Vf=t,Vf}var Wf,_b;function vw(){if(_b)return Wf;_b=1;function t(e,i){this._state=e,this._rawResults={};var r=this;e.params.forEach(function(n){var s=n.$$id;r[s]=i[s],r._rawResults[s]=i[s]})}return t.prototype={constructor:t},Wf=t,Wf}var zf,bb;function Zj(){if(bb)return zf;bb=1;var t=cy();function e(r){return Object.keys(r).sort().reduce(function(n,s){return n[s]=r[s],n},{})}var i={_getQueries:function(n,s){var a=[];return a.push({indexName:n,params:i._getHitsSearchParams(s)}),s.getRefinedDisjunctiveFacets().forEach(function(o){a.push({indexName:n,params:i._getDisjunctiveFacetSearchParams(s,o)})}),s.getRefinedHierarchicalFacets().forEach(function(o){var u=s.getHierarchicalFacetByName(o),l=s.getHierarchicalRefinement(o),c=s._getHierarchicalFacetSeparator(u);if(l.length>0&&l[0].split(c).length>1){var f=l[0].split(c).slice(0,-1).reduce(function(h,g,p){return h.concat({attribute:u.attributes[p],value:p===0?g:[h[h.length-1].value,g].join(c)})},[]);f.forEach(function(m,h){var g=i._getDisjunctiveFacetSearchParams(s,m.attribute,h===0);function p(T){return u.attributes.some(function(E){return E===T.split(":")[0]})}var _=(g.facetFilters||[]).reduce(function(T,E){if(Array.isArray(E)){var C=E.filter(function(R){return!p(R)});C.length>0&&T.push(C)}return typeof E=="string"&&!p(E)&&T.push(E),T},[]),y=f[h-1];h>0?g.facetFilters=_.concat(y.attribute+":"+y.value):_.length>0?g.facetFilters=_:delete g.facetFilters,a.push({indexName:n,params:g})})}}),a},_getCompositionQueries:function(n){return[{compositionID:n.index,requestBody:{params:i._getCompositionHitsSearchParams(n)}}]},_getHitsSearchParams:function(r){var n=r.facets.concat(r.disjunctiveFacets).concat(i._getHitsHierarchicalFacetsAttributes(r)).sort(),s=i._getFacetFilters(r),a=i._getNumericFilters(r),o=i._getTagFilters(r),u={};return n.length>0&&(u.facets=n.indexOf("*")>-1?["*"]:n),o.length>0&&(u.tagFilters=o),s.length>0&&(u.facetFilters=s),a.length>0&&(u.numericFilters=a),e(t({},r.getQueryParams(),u))},_getCompositionHitsSearchParams:function(r){var n=r.facets.concat(r.disjunctiveFacets.map(function(c){return r.disjunctiveFacetsRefinements&&r.disjunctiveFacetsRefinements[c]&&r.disjunctiveFacetsRefinements[c].length>0?"disjunctive("+c+")":c})).concat(i._getHitsHierarchicalFacetsAttributes(r)).sort(),s=i._getFacetFilters(r),a=i._getNumericFilters(r),o=i._getTagFilters(r),u={};n.length>0&&(u.facets=n.indexOf("*")>-1?["*"]:n),o.length>0&&(u.tagFilters=o),s.length>0&&(u.facetFilters=s),a.length>0&&(u.numericFilters=a);var l=r.getQueryParams();return delete l.highlightPreTag,delete l.highlightPostTag,delete l.index,e(t({},l,u))},_getDisjunctiveFacetSearchParams:function(r,n,s){var a=i._getFacetFilters(r,n,s),o=i._getNumericFilters(r,n),u=i._getTagFilters(r),l={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};u.length>0&&(l.tagFilters=u);var c=r.getHierarchicalFacetByName(n);return c?l.facets=i._getDisjunctiveHierarchicalFacetAttribute(r,c,s):l.facets=n,o.length>0&&(l.numericFilters=o),a.length>0&&(l.facetFilters=a),e(t({},r.getQueryParams(),l))},_getNumericFilters:function(r,n){if(r.numericFilters)return r.numericFilters;var s=[];return Object.keys(r.numericRefinements).forEach(function(a){var o=r.numericRefinements[a]||{};Object.keys(o).forEach(function(u){var l=o[u]||[];n!==a&&l.forEach(function(c){if(Array.isArray(c)){var f=c.map(function(m){return a+u+m});s.push(f)}else s.push(a+u+c)})})}),s},_getTagFilters:function(r){return r.tagFilters?r.tagFilters:r.tagRefinements.join(",")},_getFacetFilters:function(r,n,s){var a=[],o=r.facetsRefinements||{};Object.keys(o).sort().forEach(function(f){var m=o[f]||[];m.slice().sort().forEach(function(h){a.push(f+":"+h)})});var u=r.facetsExcludes||{};Object.keys(u).sort().forEach(function(f){var m=u[f]||[];m.sort().forEach(function(h){a.push(f+":-"+h)})});var l=r.disjunctiveFacetsRefinements||{};Object.keys(l).sort().forEach(function(f){var m=l[f]||[];if(!(f===n||!m||m.length===0)){var h=[];m.slice().sort().forEach(function(g){h.push(f+":"+g)}),a.push(h)}});var c=r.hierarchicalFacetsRefinements||{};return Object.keys(c).sort().forEach(function(f){var m=c[f]||[],h=m[0];if(h!==void 0){var g=r.getHierarchicalFacetByName(f),p=r._getHierarchicalFacetSeparator(g),_=r._getHierarchicalRootPath(g),y,T;if(n===f){if(h.indexOf(p)===-1||!_&&s===!0||_&&_.split(p).length===h.split(p).length)return;_?(T=_.split(p).length-1,h=_):(T=h.split(p).length-2,h=h.slice(0,h.lastIndexOf(p))),y=g.attributes[T]}else T=h.split(p).length-1,y=g.attributes[T];y&&a.push([y+":"+h])}}),a},_getHitsHierarchicalFacetsAttributes:function(r){var n=[];return r.hierarchicalFacets.reduce(function(a,o){var u=r.getHierarchicalRefinement(o.name)[0];if(!u)return a.push(o.attributes[0]),a;var l=r._getHierarchicalFacetSeparator(o),c=u.split(l).length,f=o.attributes.slice(0,c+1);return a.concat(f)},n)},_getDisjunctiveHierarchicalFacetAttribute:function(r,n,s){var a=r._getHierarchicalFacetSeparator(n);if(s===!0){var o=r._getHierarchicalRootPath(n),u=0;return o&&(u=o.split(a).length),[n.attributes[u]]}var l=r.getHierarchicalRefinement(n.name)[0]||"",c=l.split(a).length-1;return n.attributes.slice(0,c+1)},getSearchForFacetQuery:function(r,n,s,a){var o=a.isDisjunctiveFacet(r)?a.clearRefinements(r):a,u={facetQuery:n,facetName:r};return typeof s=="number"&&(u.maxFacetHits=s),e(t({},i._getHitsSearchParams(o),u))}};return zf=i,zf}var Gf,Sb;function fy(){return Sb||(Sb=1,Gf=function(){var e=Array.prototype.slice.call(arguments);return e.reduceRight(function(i,r){return Object.keys(Object(r)).forEach(function(n){r[n]!==void 0&&(i[n]!==void 0&&delete i[n],i[n]=r[n])}),i},{})}),Gf}var Kf,Tb;function Pl(){return Tb||(Tb=1,Kf=function(e,i){if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(i(e[r]))return e[r]}}),Kf}var Qf,Eb;function e5(){if(Eb)return Qf;Eb=1;function t(e,i){return e.filter(function(r,n){return i.indexOf(r)>-1&&e.indexOf(r)===n})}return Qf=t,Qf}var Xf,xb;function t5(){if(xb)return Xf;xb=1;function t(e){if(typeof e=="number")return e;if(typeof e=="string")return parseFloat(e);if(Array.isArray(e))return e.map(t);throw new Error("The value should be a number, a parsable string or an array of those.")}return Xf=t,Xf}var Yf,wb;function i5(){return wb||(wb=1,Yf=function(e){return e===null?!1:/^[a-zA-Z0-9_-]{1,64}$/.test(e)}),Yf}var Jf,Cb;function r5(){if(Cb)return Jf;Cb=1;var t=fy(),e=dy(),i=hy(),r={addRefinement:function(s,a,o){if(r.isRefined(s,a,o))return s;var u=""+o,l=s[a]?s[a].concat(u):[u],c={};return c[a]=l,t(c,s)},removeRefinement:function(s,a,o){if(o===void 0)return r.clearRefinement(s,function(l,c){return a===c});var u=""+o;return r.clearRefinement(s,function(l,c){return a===c&&u===l})},toggleRefinement:function(s,a,o){if(o===void 0)throw new Error("toggleRefinement should be used with a value");return r.isRefined(s,a,o)?r.removeRefinement(s,a,o):r.addRefinement(s,a,o)},clearRefinement:function(s,a,o){if(a===void 0)return e(s)?{}:s;if(typeof a=="string")return i(s,[a]);if(typeof a=="function"){var u=!1,l=Object.keys(s).reduce(function(c,f){var m=s[f]||[],h=m.filter(function(g){return!a(g,f,o)});return h.length!==m.length&&(u=!0),c[f]=h,c},{});return u?l:s}},isRefined:function(s,a,o){var u=!!s[a]&&s[a].length>0;if(o===void 0||!u)return u;var l=""+o;return s[a].indexOf(l)!==-1}};return Jf=r,Jf}var Zf,Ab;function _w(){if(Ab)return Zf;Ab=1;var t=fy(),e=Pl(),i=e5(),r=cy(),n=dy(),s=hy(),a=t5(),o=i5(),u=r5();function l(m,h){return Array.isArray(m)&&Array.isArray(h)?m.length===h.length&&m.every(function(g,p){return l(h[p],g)}):m===h}function c(m,h){return e(m,function(g){return l(g,h)})}function f(m){var h=m?f._parseNumbers(m):{};h.userToken!==void 0&&!o(h.userToken)&&console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=h.facets||[],this.disjunctiveFacets=h.disjunctiveFacets||[],this.hierarchicalFacets=h.hierarchicalFacets||[],this.facetsRefinements=h.facetsRefinements||{},this.facetsExcludes=h.facetsExcludes||{},this.disjunctiveFacetsRefinements=h.disjunctiveFacetsRefinements||{},this.numericRefinements=h.numericRefinements||{},this.tagRefinements=h.tagRefinements||[],this.hierarchicalFacetsRefinements=h.hierarchicalFacetsRefinements||{};var g=this;Object.keys(h).forEach(function(p){var _=f.PARAMETERS.indexOf(p)!==-1,y=h[p]!==void 0;!_&&y&&(g[p]=h[p])})}return f.PARAMETERS=Object.keys(new f),f._parseNumbers=function(m){if(m instanceof f)return m;var h={},g=["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"];if(g.forEach(function(_){var y=m[_];if(typeof y=="string"){var T=parseFloat(y);h[_]=isNaN(T)?y:T}}),Array.isArray(m.insideBoundingBox)&&(h.insideBoundingBox=m.insideBoundingBox.map(function(_){return Array.isArray(_)?_.map(function(y){return parseFloat(y)}):_})),m.numericRefinements){var p={};Object.keys(m.numericRefinements).forEach(function(_){var y=m.numericRefinements[_]||{};p[_]={},Object.keys(y).forEach(function(T){var E=y[T],C=E.map(function(R){return Array.isArray(R)?R.map(function(I){return typeof I=="string"?parseFloat(I):I}):typeof R=="string"?parseFloat(R):R});p[_][T]=C})}),h.numericRefinements=p}return r(m,h)},f.make=function(h){var g=new f(h),p=h.hierarchicalFacets||[];return p.forEach(function(_){if(_.rootPath){var y=g.getHierarchicalRefinement(_.name);y.length>0&&y[0].indexOf(_.rootPath)!==0&&(g=g.clearRefinements(_.name)),y=g.getHierarchicalRefinement(_.name),y.length===0&&(g=g.toggleHierarchicalFacetRefinement(_.name,_.rootPath))}}),g},f.validate=function(m,h){var g=h||{};return m.tagFilters&&g.tagRefinements&&g.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):m.tagRefinements.length>0&&g.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):m.numericFilters&&g.numericRefinements&&n(g.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):n(m.numericRefinements)&&g.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},f.prototype={constructor:f,clearRefinements:function(h){var g={numericRefinements:this._clearNumericRefinements(h),facetsRefinements:u.clearRefinement(this.facetsRefinements,h,"conjunctiveFacet"),facetsExcludes:u.clearRefinement(this.facetsExcludes,h,"exclude"),disjunctiveFacetsRefinements:u.clearRefinement(this.disjunctiveFacetsRefinements,h,"disjunctiveFacet"),hierarchicalFacetsRefinements:u.clearRefinement(this.hierarchicalFacetsRefinements,h,"hierarchicalFacet")};return g.numericRefinements===this.numericRefinements&&g.facetsRefinements===this.facetsRefinements&&g.facetsExcludes===this.facetsExcludes&&g.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&g.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(g)},clearTags:function(){return this.tagFilters===void 0&&this.tagRefinements.length===0?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(h){return h===this.index?this:this.setQueryParameters({index:h})},setQuery:function(h){return h===this.query?this:this.setQueryParameters({query:h})},setPage:function(h){return h===this.page?this:this.setQueryParameters({page:h})},setFacets:function(h){return this.setQueryParameters({facets:h})},setDisjunctiveFacets:function(h){return this.setQueryParameters({disjunctiveFacets:h})},setHitsPerPage:function(h){return this.hitsPerPage===h?this:this.setQueryParameters({hitsPerPage:h})},setTypoTolerance:function(h){return this.typoTolerance===h?this:this.setQueryParameters({typoTolerance:h})},addNumericRefinement:function(m,h,g){var p=a(g);if(this.isNumericRefined(m,h,p))return this;var _=r({},this.numericRefinements);return _[m]=r({},_[m]),_[m][h]?(_[m][h]=_[m][h].slice(),_[m][h].push(p)):_[m][h]=[p],this.setQueryParameters({numericRefinements:_})},getConjunctiveRefinements:function(m){return this.isConjunctiveFacet(m)?this.facetsRefinements[m]||[]:[]},getDisjunctiveRefinements:function(m){return this.isDisjunctiveFacet(m)?this.disjunctiveFacetsRefinements[m]||[]:[]},getHierarchicalRefinement:function(m){return this.hierarchicalFacetsRefinements[m]||[]},getExcludeRefinements:function(m){return this.isConjunctiveFacet(m)?this.facetsExcludes[m]||[]:[]},removeNumericRefinement:function(m,h,g){var p=g;return p!==void 0?this.isNumericRefined(m,h,p)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(_,y){return y===m&&_.op===h&&l(_.val,a(p))})}):this:h!==void 0?this.isNumericRefined(m,h)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(_,y){return y===m&&_.op===h})}):this:this.isNumericRefined(m)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(_,y){return y===m})}):this},getNumericRefinements:function(m){return this.numericRefinements[m]||{}},getNumericRefinement:function(m,h){return this.numericRefinements[m]&&this.numericRefinements[m][h]},_clearNumericRefinements:function(h){if(h===void 0)return n(this.numericRefinements)?{}:this.numericRefinements;if(typeof h=="string")return s(this.numericRefinements,[h]);if(typeof h=="function"){var g=!1,p=this.numericRefinements,_=Object.keys(p).reduce(function(y,T){var E=p[T],C={};return E=E||{},Object.keys(E).forEach(function(R){var I=E[R]||[],D=[];I.forEach(function(O){var w=h({val:O,op:R},T,"numeric");w||D.push(O)}),D.length!==I.length&&(g=!0),C[R]=D}),y[T]=C,y},{});return g?_:this.numericRefinements}},addFacet:function(h){return this.isConjunctiveFacet(h)?this:this.setQueryParameters({facets:this.facets.concat([h])})},addDisjunctiveFacet:function(h){return this.isDisjunctiveFacet(h)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([h])})},addHierarchicalFacet:function(h){if(this.isHierarchicalFacet(h.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+h.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([h])})},addFacetRefinement:function(h,g){if(!this.isConjunctiveFacet(h))throw new Error(h+" is not defined in the facets attribute of the helper configuration");return u.isRefined(this.facetsRefinements,h,g)?this:this.setQueryParameters({facetsRefinements:u.addRefinement(this.facetsRefinements,h,g)})},addExcludeRefinement:function(h,g){if(!this.isConjunctiveFacet(h))throw new Error(h+" is not defined in the facets attribute of the helper configuration");return u.isRefined(this.facetsExcludes,h,g)?this:this.setQueryParameters({facetsExcludes:u.addRefinement(this.facetsExcludes,h,g)})},addDisjunctiveFacetRefinement:function(h,g){if(!this.isDisjunctiveFacet(h))throw new Error(h+" is not defined in the disjunctiveFacets attribute of the helper configuration");return u.isRefined(this.disjunctiveFacetsRefinements,h,g)?this:this.setQueryParameters({disjunctiveFacetsRefinements:u.addRefinement(this.disjunctiveFacetsRefinements,h,g)})},addTagRefinement:function(h){if(this.isTagRefined(h))return this;var g={tagRefinements:this.tagRefinements.concat(h)};return this.setQueryParameters(g)},removeFacet:function(h){return this.isConjunctiveFacet(h)?this.clearRefinements(h).setQueryParameters({facets:this.facets.filter(function(g){return g!==h})}):this},removeDisjunctiveFacet:function(h){return this.isDisjunctiveFacet(h)?this.clearRefinements(h).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(g){return g!==h})}):this},removeHierarchicalFacet:function(h){return this.isHierarchicalFacet(h)?this.clearRefinements(h).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(g){return g.name!==h})}):this},removeFacetRefinement:function(h,g){if(!this.isConjunctiveFacet(h))throw new Error(h+" is not defined in the facets attribute of the helper configuration");return u.isRefined(this.facetsRefinements,h,g)?this.setQueryParameters({facetsRefinements:u.removeRefinement(this.facetsRefinements,h,g)}):this},removeExcludeRefinement:function(h,g){if(!this.isConjunctiveFacet(h))throw new Error(h+" is not defined in the facets attribute of the helper configuration");return u.isRefined(this.facetsExcludes,h,g)?this.setQueryParameters({facetsExcludes:u.removeRefinement(this.facetsExcludes,h,g)}):this},removeDisjunctiveFacetRefinement:function(h,g){if(!this.isDisjunctiveFacet(h))throw new Error(h+" is not defined in the disjunctiveFacets attribute of the helper configuration");return u.isRefined(this.disjunctiveFacetsRefinements,h,g)?this.setQueryParameters({disjunctiveFacetsRefinements:u.removeRefinement(this.disjunctiveFacetsRefinements,h,g)}):this},removeTagRefinement:function(h){if(!this.isTagRefined(h))return this;var g={tagRefinements:this.tagRefinements.filter(function(p){return p!==h})};return this.setQueryParameters(g)},toggleRefinement:function(h,g){return this.toggleFacetRefinement(h,g)},toggleFacetRefinement:function(h,g){if(this.isHierarchicalFacet(h))return this.toggleHierarchicalFacetRefinement(h,g);if(this.isConjunctiveFacet(h))return this.toggleConjunctiveFacetRefinement(h,g);if(this.isDisjunctiveFacet(h))return this.toggleDisjunctiveFacetRefinement(h,g);throw new Error("Cannot refine the undeclared facet "+h+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(h,g){if(!this.isConjunctiveFacet(h))throw new Error(h+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:u.toggleRefinement(this.facetsRefinements,h,g)})},toggleExcludeFacetRefinement:function(h,g){if(!this.isConjunctiveFacet(h))throw new Error(h+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:u.toggleRefinement(this.facetsExcludes,h,g)})},toggleDisjunctiveFacetRefinement:function(h,g){if(!this.isDisjunctiveFacet(h))throw new Error(h+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:u.toggleRefinement(this.disjunctiveFacetsRefinements,h,g)})},toggleHierarchicalFacetRefinement:function(h,g){if(!this.isHierarchicalFacet(h))throw new Error(h+" is not defined in the hierarchicalFacets attribute of the helper configuration");var p=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(h)),_={},y=this.hierarchicalFacetsRefinements[h]!==void 0&&this.hierarchicalFacetsRefinements[h].length>0&&(this.hierarchicalFacetsRefinements[h][0]===g||this.hierarchicalFacetsRefinements[h][0].indexOf(g+p)===0);return y?g.indexOf(p)===-1?_[h]=[]:_[h]=[g.slice(0,g.lastIndexOf(p))]:_[h]=[g],this.setQueryParameters({hierarchicalFacetsRefinements:t(_,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(m,h){if(this.isHierarchicalFacetRefined(m))throw new Error(m+" is already refined.");if(!this.isHierarchicalFacet(m))throw new Error(m+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var g={};return g[m]=[h],this.setQueryParameters({hierarchicalFacetsRefinements:t(g,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(m){if(!this.isHierarchicalFacetRefined(m))return this;var h={};return h[m]=[],this.setQueryParameters({hierarchicalFacetsRefinements:t(h,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(h){return this.isTagRefined(h)?this.removeTagRefinement(h):this.addTagRefinement(h)},isDisjunctiveFacet:function(m){return this.disjunctiveFacets.indexOf(m)>-1},isHierarchicalFacet:function(m){return this.getHierarchicalFacetByName(m)!==void 0},isConjunctiveFacet:function(m){return this.facets.indexOf(m)>-1},isFacetRefined:function(h,g){return this.isConjunctiveFacet(h)?u.isRefined(this.facetsRefinements,h,g):!1},isExcludeRefined:function(h,g){return this.isConjunctiveFacet(h)?u.isRefined(this.facetsExcludes,h,g):!1},isDisjunctiveFacetRefined:function(h,g){return this.isDisjunctiveFacet(h)?u.isRefined(this.disjunctiveFacetsRefinements,h,g):!1},isHierarchicalFacetRefined:function(h,g){if(!this.isHierarchicalFacet(h))return!1;var p=this.getHierarchicalRefinement(h);return g?p.indexOf(g)!==-1:p.length>0},isNumericRefined:function(h,g,p){if(p===void 0&&g===void 0)return!!this.numericRefinements[h];var _=this.numericRefinements[h]&&this.numericRefinements[h][g]!==void 0;if(p===void 0||!_)return _;var y=a(p),T=c(this.numericRefinements[h][g],y)!==void 0;return _&&T},isTagRefined:function(h){return this.tagRefinements.indexOf(h)!==-1},getRefinedDisjunctiveFacets:function(){var h=this,g=i(Object.keys(this.numericRefinements).filter(function(p){return Object.keys(h.numericRefinements[p]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(p){return h.disjunctiveFacetsRefinements[p].length>0}).concat(g).concat(this.getRefinedHierarchicalFacets()).sort()},getRefinedHierarchicalFacets:function(){var h=this;return i(this.hierarchicalFacets.map(function(g){return g.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(g){return h.hierarchicalFacetsRefinements[g].length>0})).sort()},getUnrefinedDisjunctiveFacets:function(){var m=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(h){return m.indexOf(h)===-1})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var h=this.managedParameters,g={},p=this;return Object.keys(this).forEach(function(_){var y=p[_];h.indexOf(_)===-1&&y!==void 0&&(g[_]=y)}),g},setQueryParameter:function(h,g){if(this[h]===g)return this;var p={};return p[h]=g,this.setQueryParameters(p)},setQueryParameters:function(h){if(!h)return this;var g=f.validate(this,h);if(g)throw g;var p=this,_=f._parseNumbers(h),y=Object.keys(this).reduce(function(E,C){return E[C]=p[C],E},{}),T=Object.keys(_).reduce(function(E,C){var R=E[C]!==void 0,I=_[C]!==void 0;return R&&!I?s(E,[C]):(I&&(E[C]=_[C]),E)},y);return new this.constructor(T)},resetPage:function(){return this.page===void 0?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(m){return m.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(m){return m.separator||" > "},_getHierarchicalRootPath:function(m){return m.rootPath||null},_getHierarchicalShowParentLevel:function(m){return typeof m.showParentLevel=="boolean"?m.showParentLevel:!0},getHierarchicalFacetByName:function(m){return e(this.hierarchicalFacets,function(h){return h.name===m})},getHierarchicalFacetBreadcrumb:function(m){if(!this.isHierarchicalFacet(m))return[];var h=this.getHierarchicalRefinement(m)[0];if(!h)return[];var g=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(m)),p=h.split(g);return p.map(function(_){return _.trim()})},toString:function(){return JSON.stringify(this,null,2)}},Zf=f,Zf}var ep,Pb;function n5(){return Pb||(Pb=1,ep=function(e){return Array.isArray(e)?e.filter(Boolean):[]}),ep}var tp,Ob;function s5(){return Ob||(Ob=1,tp=function(e,i){if(!Array.isArray(e))return-1;for(var r=0;r<e.length;r++)if(i(e[r]))return r;return-1}),tp}var ip,Rb;function bw(){if(Rb)return ip;Rb=1;var t=Pl();return ip=function(i,r){var n=(r||[]).map(function(s){return s.split(":")});return i.reduce(function(a,o){var u=o.split(":"),l=t(n,function(c){return c[0]===u[0]});return u.length>1||!l?(a[0].push(u[0]),a[1].push(u[1]),a):(a[0].push(l[0]),a[1].push(l[1]),a)},[[],[]])},ip}var rp,Db;function a5(){if(Db)return rp;Db=1;function t(){var e=Array.prototype.slice.call(arguments);return e.reduceRight(function(i,r){return Object.keys(Object(r)).forEach(function(n){var s=typeof i[n]=="number"?i[n]:0,a=r[n];a!==void 0&&a>=s&&(i[n]!==void 0&&delete i[n],i[n]=a)}),i},{})}return rp=t,rp}var np,Ib;function Sw(){if(Ib)return np;Ib=1;function t(i,r){if(i!==r){var n=i!==void 0,s=i===null,a=r!==void 0,o=r===null;if(!o&&i>r||s&&a||!n)return 1;if(!s&&i<r||o&&n||!a)return-1}return 0}function e(i,r,n){if(!Array.isArray(i))return[];Array.isArray(n)||(n=[]);var s=i.map(function(a,o){return{criteria:r.map(function(u){return a[u]}),index:o,value:a}});return s.sort(function(o,u){for(var l=-1;++l<o.criteria.length;){var c=t(o.criteria[l],u.criteria[l]);if(c)return l>=n.length?c:n[l]==="desc"?-c:c}return o.index-u.index}),s.map(function(a){return a.value})}return np=e,np}var sp,kb;function o5(){if(kb)return sp;kb=1,sp=a;var t=ly(),e=Pl(),i=bw(),r=Sw(),n=t.escapeFacetValue,s=t.unescapeFacetValue;function a(c){return function(m,h){var g=c.hierarchicalFacets[h],p=c.hierarchicalFacetsRefinements[g.name]&&c.hierarchicalFacetsRefinements[g.name][0]||"",_=c._getHierarchicalFacetSeparator(g),y=c._getHierarchicalRootPath(g),T=c._getHierarchicalShowParentLevel(g),E=i(c._getHierarchicalFacetSortBy(g)),C=m.every(function(D){return D.exhaustive}),R=o(E,_,y,T,p),I=m;return y&&(I=m.slice(y.split(_).length)),I.reduce(R,{name:c.hierarchicalFacets[h].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:C,data:null})}}function o(c,f,m,h,g){return function(_,y,T){var E=_;if(T>0){var C=0;for(E=_;C<T;){var R=E&&Array.isArray(E.data)?E.data:[];E=e(R,function(D){return D.isRefined}),C++}}if(E){var I=Object.keys(y.data).map(function(D){return[D,y.data[D]]}).filter(function(D){var O=D[0];return u(O,E.path||m,g,f,m,h)});E.data=r(I.map(function(D){var O=D[0],w=D[1];return l(w,O,f,s(g),y.exhaustive)}),c[0],c[1])}return _}}function u(c,f,m,h,g,p){return g&&(c.indexOf(g)!==0||g===c)?!1:!g&&c.indexOf(h)===-1||g&&c.split(h).length-g.split(h).length===1||c.indexOf(h)===-1&&m.indexOf(h)===-1||m.indexOf(c)===0||c.indexOf(f+h)===0&&(p||c.indexOf(m)===0)}function l(c,f,m,h,g){var p=f.split(m);return{name:p[p.length-1].trim(),path:f,escapedValue:n(f),count:c,isRefined:h===f||h.indexOf(f+m)===0,exhaustive:g,data:null}}return sp}var ap,Lb;function Tw(){if(Lb)return ap;Lb=1;var t=n5(),e=fy(),i=ly(),r=Pl(),n=s5(),s=bw(),a=a5(),o=Sw(),u=i.escapeFacetValue,l=i.unescapeFacetValue,c=o5();function f(O){var w={};return O.forEach(function(P,L){w[P]=L}),w}function m(O,w,P){w&&w[P]&&(O.stats=w[P])}function h(O,w){return r(O,function(L){var M=L.attributes||[];return M.indexOf(w)>-1})}function g(O,w,P){var L=w[0]||{};this._rawResults=w;var M=this;Object.keys(L).forEach(function(G){M[G]=L[G]});var j=e(P,{persistHierarchicalRootCount:!1});Object.keys(j).forEach(function(G){M[G]=j[G]}),this.processingTimeMS=w.reduce(function(G,Y){return Y.processingTimeMS===void 0?G:G+Y.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=O.hierarchicalFacets.map(function(){return[]}),this.facets=[];var Q=O.getRefinedDisjunctiveFacets(),Z=f(O.facets),J=f(O.disjunctiveFacets),H=1,W=L.facets||{};Object.keys(W).forEach(function(G){var Y=W[G],ie=h(O.hierarchicalFacets,G);if(ie){var me=ie.attributes.indexOf(G),Te=n(O.hierarchicalFacets,function(re){return re.name===ie.name});M.hierarchicalFacets[Te][me]={attribute:G,data:Y,exhaustive:L.exhaustiveFacetsCount}}else{var Ce=O.disjunctiveFacets.indexOf(G)!==-1,ge=O.facets.indexOf(G)!==-1,Oe;Ce&&(Oe=J[G],M.disjunctiveFacets[Oe]={name:G,data:Y,exhaustive:L.exhaustiveFacetsCount},m(M.disjunctiveFacets[Oe],L.facets_stats,G)),ge&&(Oe=Z[G],M.facets[Oe]={name:G,data:Y,exhaustive:L.exhaustiveFacetsCount},m(M.facets[Oe],L.facets_stats,G))}}),this.hierarchicalFacets=t(this.hierarchicalFacets),Q.forEach(function(G){var Y=w[H],ie=Y&&Y.facets?Y.facets:{},me=O.getHierarchicalFacetByName(G);Object.keys(ie).forEach(function(Te){var Ce=ie[Te],ge;if(me){ge=n(O.hierarchicalFacets,function(ce){return ce.name===me.name});var Oe=n(M.hierarchicalFacets[ge],function(ce){return ce.attribute===Te});if(Oe===-1)return;M.hierarchicalFacets[ge][Oe].data=M.persistHierarchicalRootCount?a(M.hierarchicalFacets[ge][Oe].data,Ce):e(Ce,M.hierarchicalFacets[ge][Oe].data)}else{ge=J[Te];var re=L.facets&&L.facets[Te]||{};M.disjunctiveFacets[ge]={name:Te,data:a(re,Ce),exhaustive:Y.exhaustiveFacetsCount},m(M.disjunctiveFacets[ge],Y.facets_stats,Te),O.disjunctiveFacetsRefinements[Te]&&O.disjunctiveFacetsRefinements[Te].forEach(function(ce){!M.disjunctiveFacets[ge].data[ce]&&O.disjunctiveFacetsRefinements[Te].indexOf(l(ce))>-1&&(M.disjunctiveFacets[ge].data[ce]=0)})}}),H++}),O.getRefinedHierarchicalFacets().forEach(function(G){var Y=O.getHierarchicalFacetByName(G),ie=O._getHierarchicalFacetSeparator(Y),me=O.getHierarchicalRefinement(G);me.length===0||me[0].split(ie).length<2||w.slice(H).forEach(function(Te){var Ce=Te&&Te.facets?Te.facets:{};Object.keys(Ce).forEach(function(ge){var Oe=Ce[ge],re=n(O.hierarchicalFacets,function(Fe){return Fe.name===Y.name}),ce=n(M.hierarchicalFacets[re],function(Fe){return Fe.attribute===ge});if(ce!==-1){var _e={};if(me.length>0&&!M.persistHierarchicalRootCount){var Ee=me[0].split(ie)[0];_e[Ee]=M.hierarchicalFacets[re][ce].data[Ee]}M.hierarchicalFacets[re][ce].data=e(_e,Oe,M.hierarchicalFacets[re][ce].data)}}),H++})}),Object.keys(O.facetsExcludes).forEach(function(G){var Y=O.facetsExcludes[G],ie=Z[G];M.facets[ie]={name:G,data:W[G],exhaustive:L.exhaustiveFacetsCount},Y.forEach(function(me){M.facets[ie]=M.facets[ie]||{name:G},M.facets[ie].data=M.facets[ie].data||{},M.facets[ie].data[me]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(c(O)),this.facets=t(this.facets),this.disjunctiveFacets=t(this.disjunctiveFacets),this._state=O}g.prototype.getFacetByName=function(O){function w(P){return P.name===O}return r(this.facets,w)||r(this.disjunctiveFacets,w)||r(this.hierarchicalFacets,w)};function p(O,w){function P(W){return W.name===w}if(O._state.isConjunctiveFacet(w)){var L=r(O.facets,P);return L?Object.keys(L.data).map(function(W){var G=u(W);return{name:W,escapedValue:G,count:L.data[W],isRefined:O._state.isFacetRefined(w,G),isExcluded:O._state.isExcludeRefined(w,W)}}):[]}else if(O._state.isDisjunctiveFacet(w)){var M=r(O.disjunctiveFacets,P);return M?Object.keys(M.data).map(function(W){var G=u(W);return{name:W,escapedValue:G,count:M.data[W],isRefined:O._state.isDisjunctiveFacetRefined(w,G)}}):[]}else if(O._state.isHierarchicalFacet(w)){var j=r(O.hierarchicalFacets,P);if(!j)return j;var Q=O._state.getHierarchicalFacetByName(w),Z=O._state._getHierarchicalFacetSeparator(Q),J=l(O._state.getHierarchicalRefinement(w)[0]||"");J.indexOf(Q.rootPath)===0&&(J=J.replace(Q.rootPath+Z,""));var H=J.split(Z);return H.unshift(w),_(j,H,0),j}}function _(O,w,P){O.isRefined=O.name===(w[P]&&w[P].trim()),O.data&&O.data.forEach(function(L){_(L,w,P+1)})}function y(O,w,P,L){if(L=L||0,Array.isArray(w))return O(w,P[L]);if(!w.data||w.data.length===0)return w;var M=w.data.map(function(Z){return y(O,Z,P,L+1)}),j=O(M,P[L]),Q=e({data:j},w);return Q}g.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"];function T(O,w){return w.sort(O)}function E(O,w){var P=[],L=[],M=w.hide||[],j=w.order||[],Q=j.reduce(function(H,W,G){return H[W]=G,H},{});O.forEach(function(H){var W=H.path||H.name,G=M.indexOf(W)>-1;!G&&Q[W]!==void 0?P[Q[W]]=H:G||L.push(H)}),P=P.filter(function(H){return H});var Z=w.sortRemainingBy,J;return Z==="hidden"?P:(Z==="alpha"?J=[["path","name"],["asc","asc"]]:J=[["count"],["desc"]],P.concat(o(L,J[0],J[1])))}function C(O,w){return O.renderingContent&&O.renderingContent.facetOrdering&&O.renderingContent.facetOrdering.values&&O.renderingContent.facetOrdering.values[w]}g.prototype.getFacetValues=function(O,w){var P=p(this,O);if(P){var L=e(w,{sortBy:g.DEFAULT_SORT,facetOrdering:!(w&&w.sortBy)}),M=this,j;if(Array.isArray(P))j=[O];else{var Q=M._state.getHierarchicalFacetByName(P.name);j=Q.attributes}return y(function(Z,J){if(L.facetOrdering){var H=C(M,J);if(H)return E(Z,H)}if(Array.isArray(L.sortBy)){var W=s(L.sortBy,g.DEFAULT_SORT);return o(Z,W[0],W[1])}else if(typeof L.sortBy=="function")return T(L.sortBy,Z);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},P,j)}},g.prototype.getFacetStats=function(O){if(this._state.isConjunctiveFacet(O))return R(this.facets,O);if(this._state.isDisjunctiveFacet(O))return R(this.disjunctiveFacets,O)};function R(O,w){var P=r(O,function(L){return L.name===w});return P&&P.stats}g.prototype.getRefinements=function(){var O=this._state,w=this,P=[];return Object.keys(O.facetsRefinements).forEach(function(L){O.facetsRefinements[L].forEach(function(M){P.push(I(O,"facet",L,M,w.facets))})}),Object.keys(O.facetsExcludes).forEach(function(L){O.facetsExcludes[L].forEach(function(M){P.push(I(O,"exclude",L,M,w.facets))})}),Object.keys(O.disjunctiveFacetsRefinements).forEach(function(L){O.disjunctiveFacetsRefinements[L].forEach(function(M){P.push(I(O,"disjunctive",L,M,w.disjunctiveFacets))})}),Object.keys(O.hierarchicalFacetsRefinements).forEach(function(L){O.hierarchicalFacetsRefinements[L].forEach(function(M){P.push(D(O,L,M,w.hierarchicalFacets))})}),Object.keys(O.numericRefinements).forEach(function(L){var M=O.numericRefinements[L];Object.keys(M).forEach(function(j){M[j].forEach(function(Q){P.push({type:"numeric",attributeName:L,name:Q,numericValue:Q,operator:j})})})}),O.tagRefinements.forEach(function(L){P.push({type:"tag",attributeName:"_tags",name:L})}),P};function I(O,w,P,L,M){var j=r(M,function(J){return J.name===P}),Q=j&&j.data&&j.data[L]?j.data[L]:0,Z=j&&j.exhaustive||!1;return{type:w,attributeName:P,name:L,count:Q,exhaustive:Z}}function D(O,w,P,L){var M=O.getHierarchicalFacetByName(w),j=O._getHierarchicalFacetSeparator(M),Q=P.split(j),Z=r(L,function(Y){return Y.name===w}),J=Q.reduce(function(Y,ie){var me=Y&&r(Y.data,function(Te){return Te.name===ie});return me!==void 0?me:Y},Z),H=J&&J.count||0,W=J&&J.exhaustive||!1,G=J&&J.path||"";return{type:"hierarchical",attributeName:w,name:G,count:H,exhaustive:W}}return ap=g,ap}var op,Nb;function u5(){return Nb||(Nb=1,op=function(e){return e.reduce(function(i,r){return i.concat(r)},[])}),op}var up,Fb;function l5(){if(Fb)return up;Fb=1;var t=Pl(),e=u5();function i(n,s){var a=[];return Object.keys(n).forEach(function(o){n[o].count<2&&(n[o].indexSum+=100),a.push({objectID:o,avgOfIndices:n[o].indexSum/s})}),a.sort(function(o,u){return o.avgOfIndices>u.avgOfIndices?1:-1})}function r(n,s){var a={};s.forEach(function(l){l.forEach(function(c,f){n.includes(c.objectID)||(a[c.objectID]?a[c.objectID]={indexSum:a[c.objectID].indexSum+f,count:a[c.objectID].count+1}:a[c.objectID]={indexSum:f,count:1})})});var o=i(a,s.length),u=o.reduce(function(l,c){var f=t(e(s),function(m){return m.objectID===c.objectID});return f?l.concat(f):l},[]);return u}return up=r,up}var lp,Mb;function Ew(){return Mb||(Mb=1,lp="3.25.0"),lp}var cp,$b;function c5(){if($b)return cp;$b=1;var t=uy(),e=Jj(),i=ly().escapeFacetValue,r=gw(),n=cy(),s=dy(),a=hy(),o=yw(),u=vw(),l=Zj(),c=_w(),f=Tw(),m=l5(),h=Ew();function g(y,T,E,C){typeof y.addAlgoliaAgent=="function"&&y.addAlgoliaAgent("JS Helper ("+h+")"),this.setClient(y);var R=E||{};R.index=T,this.state=c.make(R),this.recommendState=new o({params:R.recommendState}),this.lastResults=null,this.lastRecommendResults=null,this._queryId=0,this._recommendQueryId=0,this._lastQueryIdReceived=-1,this._lastRecommendQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0,this._currentNbRecommendQueries=0,this._searchResultsOptions=C,this._recommendCache={}}r(g,t),g.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},g.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},g.prototype.searchWithComposition=function(){return this._runComposition({onlyWithDerivedHelpers:!0}),this},g.prototype.recommend=function(){return this._recommend(),this},g.prototype.getQuery=function(){var y=this.state;return l._getHitsSearchParams(y)},g.prototype.searchOnce=function(y,T){var E=y?this.state.setQueryParameters(y):this.state,C=l._getQueries(E.index,E),R=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:E}),T){this.client.search(C).then(function(I){R._currentNbQueries--,R._currentNbQueries===0&&R.emit("searchQueueEmpty"),T(null,new f(E,I.results),E)}).catch(function(I){R._currentNbQueries--,R._currentNbQueries===0&&R.emit("searchQueueEmpty"),T(I,null,E)});return}return this.client.search(C).then(function(I){return R._currentNbQueries--,R._currentNbQueries===0&&R.emit("searchQueueEmpty"),{content:new f(E,I.results),state:E,_originalResponse:I}},function(I){throw R._currentNbQueries--,R._currentNbQueries===0&&R.emit("searchQueueEmpty"),I})},g.prototype.findAnswers=function(y){console.warn("[algoliasearch-helper] answers is no longer supported");var T=this.state,E=this.derivedHelpers[0];if(!E)return Promise.resolve([]);var C=E.getModifiedState(T),R=n({attributesForPrediction:y.attributesForPrediction,nbHits:y.nbHits},{params:a(l._getHitsSearchParams(C),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),I="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if(typeof this.client.initIndex!="function")throw new Error(I);var D=this.client.initIndex(C.index);if(typeof D.findAnswers!="function")throw new Error(I);return D.findAnswers(C.query,y.queryLanguages,R)},g.prototype.searchForFacetValues=function(y,T,E,C){var R=typeof this.client.searchForFacetValues=="function"&&typeof this.client.searchForFacets!="function",I=typeof this.client.initIndex=="function";if(!R&&!I&&typeof this.client.search!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var D=this.state.setQueryParameters(C||{}),O=D.isDisjunctiveFacet(y),w=l.getSearchForFacetQuery(y,T,E,D);this._currentNbQueries++;var P=this,L;return R?L=this.client.searchForFacetValues([{indexName:D.index,params:w}]):I?L=this.client.initIndex(D.index).searchForFacetValues(w):(delete w.facetName,L=this.client.search([{type:"facet",facet:y,indexName:D.index,params:w}]).then(function(j){return j.results[0]})),this.emit("searchForFacetValues",{state:D,facet:y,query:T}),L.then(function(j){return P._currentNbQueries--,P._currentNbQueries===0&&P.emit("searchQueueEmpty"),j=Array.isArray(j)?j[0]:j,j.facetHits.forEach(function(Q){Q.escapedValue=i(Q.value),Q.isRefined=O?D.isDisjunctiveFacetRefined(y,Q.escapedValue):D.isFacetRefined(y,Q.escapedValue)}),j},function(M){throw P._currentNbQueries--,P._currentNbQueries===0&&P.emit("searchQueueEmpty"),M})},g.prototype.searchForCompositionFacetValues=function(y,T,E,C){if(typeof this.client.searchForFacetValues!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues");var R=this.state.setQueryParameters(C||{}),I=R.isDisjunctiveFacet(y);this._currentNbQueries++;var D=this,O;return O=this.client.searchForFacetValues({compositionID:R.index,facetName:y,searchForFacetValuesRequest:{params:{query:T,maxFacetHits:E,searchQuery:l._getCompositionHitsSearchParams(R)}}}),this.emit("searchForFacetValues",{state:R,facet:y,query:T}),O.then(function(P){return D._currentNbQueries--,D._currentNbQueries===0&&D.emit("searchQueueEmpty"),P=P.results[0],P.facetHits.forEach(function(L){L.escapedValue=i(L.value),L.isRefined=I?R.isDisjunctiveFacetRefined(y,L.escapedValue):R.isFacetRefined(y,L.escapedValue)}),P},function(w){throw D._currentNbQueries--,D._currentNbQueries===0&&D.emit("searchQueueEmpty"),w})},g.prototype.setQuery=function(y){return this._change({state:this.state.resetPage().setQuery(y),isPageReset:!0}),this},g.prototype.clearRefinements=function(y){return this._change({state:this.state.resetPage().clearRefinements(y),isPageReset:!0}),this},g.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},g.prototype.addDisjunctiveFacetRefinement=function(y,T){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(y,T),isPageReset:!0}),this},g.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},g.prototype.addHierarchicalFacetRefinement=function(y,T){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(y,T),isPageReset:!0}),this},g.prototype.addNumericRefinement=function(y,T,E){return this._change({state:this.state.resetPage().addNumericRefinement(y,T,E),isPageReset:!0}),this},g.prototype.addFacetRefinement=function(y,T){return this._change({state:this.state.resetPage().addFacetRefinement(y,T),isPageReset:!0}),this},g.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},g.prototype.addFacetExclusion=function(y,T){return this._change({state:this.state.resetPage().addExcludeRefinement(y,T),isPageReset:!0}),this},g.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},g.prototype.addTag=function(y){return this._change({state:this.state.resetPage().addTagRefinement(y),isPageReset:!0}),this},g.prototype.addFrequentlyBoughtTogether=function(y){return this._recommendChange({state:this.recommendState.addFrequentlyBoughtTogether(y)}),this},g.prototype.addRelatedProducts=function(y){return this._recommendChange({state:this.recommendState.addRelatedProducts(y)}),this},g.prototype.addTrendingItems=function(y){return this._recommendChange({state:this.recommendState.addTrendingItems(y)}),this},g.prototype.addTrendingFacets=function(y){return this._recommendChange({state:this.recommendState.addTrendingFacets(y)}),this},g.prototype.addLookingSimilar=function(y){return this._recommendChange({state:this.recommendState.addLookingSimilar(y)}),this},g.prototype.removeNumericRefinement=function(y,T,E){return this._change({state:this.state.resetPage().removeNumericRefinement(y,T,E),isPageReset:!0}),this},g.prototype.removeDisjunctiveFacetRefinement=function(y,T){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(y,T),isPageReset:!0}),this},g.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},g.prototype.removeHierarchicalFacetRefinement=function(y){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(y),isPageReset:!0}),this},g.prototype.removeFacetRefinement=function(y,T){return this._change({state:this.state.resetPage().removeFacetRefinement(y,T),isPageReset:!0}),this},g.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},g.prototype.removeFacetExclusion=function(y,T){return this._change({state:this.state.resetPage().removeExcludeRefinement(y,T),isPageReset:!0}),this},g.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},g.prototype.removeTag=function(y){return this._change({state:this.state.resetPage().removeTagRefinement(y),isPageReset:!0}),this},g.prototype.removeFrequentlyBoughtTogether=function(y){return this._recommendChange({state:this.recommendState.removeParams(y)}),this},g.prototype.removeRelatedProducts=function(y){return this._recommendChange({state:this.recommendState.removeParams(y)}),this},g.prototype.removeTrendingItems=function(y){return this._recommendChange({state:this.recommendState.removeParams(y)}),this},g.prototype.removeTrendingFacets=function(y){return this._recommendChange({state:this.recommendState.removeParams(y)}),this},g.prototype.removeLookingSimilar=function(y){return this._recommendChange({state:this.recommendState.removeParams(y)}),this},g.prototype.toggleFacetExclusion=function(y,T){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(y,T),isPageReset:!0}),this},g.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},g.prototype.toggleRefinement=function(y,T){return this.toggleFacetRefinement(y,T)},g.prototype.toggleFacetRefinement=function(y,T){return this._change({state:this.state.resetPage().toggleFacetRefinement(y,T),isPageReset:!0}),this},g.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},g.prototype.toggleTag=function(y){return this._change({state:this.state.resetPage().toggleTagRefinement(y),isPageReset:!0}),this},g.prototype.nextPage=function(){var y=this.state.page||0;return this.setPage(y+1)},g.prototype.previousPage=function(){var y=this.state.page||0;return this.setPage(y-1)};function p(y){if(y<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(y),isPageReset:!1}),this}g.prototype.setCurrentPage=p,g.prototype.setPage=p,g.prototype.setIndex=function(y){return this._change({state:this.state.resetPage().setIndex(y),isPageReset:!0}),this},g.prototype.setQueryParameter=function(y,T){return this._change({state:this.state.resetPage().setQueryParameter(y,T),isPageReset:!0}),this},g.prototype.setState=function(y){return this._change({state:c.make(y),isPageReset:!1}),this},g.prototype.overrideStateWithoutTriggeringChangeEvent=function(y){return this.state=new c(y),this},g.prototype.hasRefinements=function(y){return s(this.state.getNumericRefinements(y))?!0:this.state.isConjunctiveFacet(y)?this.state.isFacetRefined(y):this.state.isDisjunctiveFacet(y)?this.state.isDisjunctiveFacetRefined(y):this.state.isHierarchicalFacet(y)?this.state.isHierarchicalFacetRefined(y):!1},g.prototype.isExcluded=function(y,T){return this.state.isExcludeRefined(y,T)},g.prototype.isDisjunctiveRefined=function(y,T){return this.state.isDisjunctiveFacetRefined(y,T)},g.prototype.hasTag=function(y){return this.state.isTagRefined(y)},g.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},g.prototype.getIndex=function(){return this.state.index};function _(){return this.state.page}return g.prototype.getCurrentPage=_,g.prototype.getPage=_,g.prototype.getTags=function(){return this.state.tagRefinements},g.prototype.getRefinements=function(y){var T=[];if(this.state.isConjunctiveFacet(y)){var E=this.state.getConjunctiveRefinements(y);E.forEach(function(D){T.push({value:D,type:"conjunctive"})});var C=this.state.getExcludeRefinements(y);C.forEach(function(D){T.push({value:D,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(y)){var R=this.state.getDisjunctiveRefinements(y);R.forEach(function(D){T.push({value:D,type:"disjunctive"})})}var I=this.state.getNumericRefinements(y);return Object.keys(I).forEach(function(D){var O=I[D];T.push({value:O,operator:D,type:"numeric"})}),T},g.prototype.getNumericRefinement=function(y,T){return this.state.getNumericRefinement(y,T)},g.prototype.getHierarchicalFacetBreadcrumb=function(y){return this.state.getHierarchicalFacetBreadcrumb(y)},g.prototype._search=function(y){var T=this.state,E=[],C=[];y.onlyWithDerivedHelpers||(C=l._getQueries(T.index,T),E.push({state:T,queriesCount:C.length,helper:this}),this.emit("search",{state:T,results:this.lastResults}));var R=this.derivedHelpers.map(function(O){var w=O.getModifiedState(T),P=w.index?l._getQueries(w.index,w):[];return E.push({state:w,queriesCount:P.length,helper:O}),O.emit("search",{state:w,results:O.lastResults}),P}),I=Array.prototype.concat.apply(C,R),D=this._queryId++;if(this._currentNbQueries++,!I.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,E,D));try{this.client.search(I).then(this._dispatchAlgoliaResponse.bind(this,E,D)).catch(this._dispatchAlgoliaError.bind(this,D))}catch(O){this.emit("error",{error:O})}},g.prototype._runComposition=function(){var y=this.state,T=[],E=[],C=this.derivedHelpers.map(function(O){var w=O.getModifiedState(y),P=l._getCompositionQueries(w);return T.push({state:w,queriesCount:P.length,helper:O}),O.emit("search",{state:w,results:O.lastResults}),P}),R=Array.prototype.concat.apply(E,C),I=this._queryId++;if(this._currentNbQueries++,!R.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,T,I));if(R.length>1)throw new Error("Only one query is allowed when using a composition.");var D=R[0];try{this.client.search(D).then(this._dispatchAlgoliaResponse.bind(this,T,I)).catch(this._dispatchAlgoliaError.bind(this,I))}catch(O){this.emit("error",{error:O})}},g.prototype._recommend=function(){var y=this.state,T=this.recommendState,E=this.getIndex(),C=[{state:T,index:E,helper:this}],R=T.params.map(function(P){return P.$$id});this.emit("fetch",{recommend:{state:T,results:this.lastRecommendResults}});var I=this._recommendCache,D=this.derivedHelpers.map(function(P){var L=P.getModifiedState(y).index;if(!L)return[];var M=P.getModifiedRecommendState(new o);return C.push({state:M,index:L,helper:P}),R=Array.prototype.concat.apply(R,M.params.map(function(j){return j.$$id})),P.emit("fetch",{recommend:{state:M,results:P.lastRecommendResults}}),M._buildQueries(L,I)}),O=Array.prototype.concat.apply(this.recommendState._buildQueries(E,I),D);if(O.length!==0){if(O.length>0&&typeof this.client.getRecommendations>"u"){console.warn("Please update algoliasearch/lite to the latest version in order to use recommend widgets.");return}var w=this._recommendQueryId++;this._currentNbRecommendQueries++;try{this.client.getRecommendations(O).then(this._dispatchRecommendResponse.bind(this,w,C,R)).catch(this._dispatchRecommendError.bind(this,w))}catch(P){this.emit("error",{error:P})}}},g.prototype._dispatchAlgoliaResponse=function(y,T,E){var C=this;if(!(T<this._lastQueryIdReceived)){this._currentNbQueries-=T-this._lastQueryIdReceived,this._lastQueryIdReceived=T,this._currentNbQueries===0&&this.emit("searchQueueEmpty");var R=E.results.slice(),I=Object.keys(E).reduce(function(D,O){return O!=="results"&&(D[O]=E[O]),D},{});Object.keys(I).length<=0&&(I=void 0),y.forEach(function(D){var O=D.state,w=D.queriesCount,P=D.helper,L=R.splice(0,w);if(!O.index){P.emit("result",{results:null,state:O});return}P.lastResults=new f(O,L,C._searchResultsOptions),I!==void 0&&(P.lastResults._rawContent=I),P.emit("result",{results:P.lastResults,state:O})})}},g.prototype._dispatchRecommendResponse=function(y,T,E,C){if(!(y<this._lastRecommendQueryIdReceived)){this._currentNbRecommendQueries-=y-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=y,this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty");var R=this._recommendCache,I={};E.filter(function(O){return R[O]===void 0}).forEach(function(O,w){I[O]||(I[O]=[]),I[O].push(w)}),Object.keys(I).forEach(function(O){var w=I[O],P=C.results[w[0]];if(w.length===1){R[O]=P;return}R[O]=Object.assign({},P,{hits:m(E,w.map(function(L){return C.results[L].hits}))})});var D={};E.forEach(function(O){D[O]=R[O]}),T.forEach(function(O){var w=O.state,P=O.helper;if(!O.index){P.emit("recommend:result",{results:null,state:w});return}P.lastRecommendResults=new u(w,D),P.emit("recommend:result",{recommend:{results:P.lastRecommendResults,state:w}})})}},g.prototype._dispatchAlgoliaError=function(y,T){y<this._lastQueryIdReceived||(this._currentNbQueries-=y-this._lastQueryIdReceived,this._lastQueryIdReceived=y,this.emit("error",{error:T}),this._currentNbQueries===0&&this.emit("searchQueueEmpty"))},g.prototype._dispatchRecommendError=function(y,T){y<this._lastRecommendQueryIdReceived||(this._currentNbRecommendQueries-=y-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=y,this.emit("error",{error:T}),this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty"))},g.prototype.containsRefinement=function(y,T,E,C){return y||T.length!==0||E.length!==0||C.length!==0},g.prototype._hasDisjunctiveRefinements=function(y){return this.state.disjunctiveRefinements[y]&&this.state.disjunctiveRefinements[y].length>0},g.prototype._change=function(y){var T=y.state,E=y.isPageReset;T!==this.state&&(this.state=T,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:E}))},g.prototype._recommendChange=function(y){var T=y.state;T!==this.recommendState&&(this.recommendState=T,this.emit("recommend:change",{search:{results:this.lastResults,state:this.state},recommend:{results:this.lastRecommendResults,state:this.recommendState}}))},g.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},g.prototype.setClient=function(y){return this.client===y?this:(typeof y.addAlgoliaAgent=="function"&&y.addAlgoliaAgent("JS Helper ("+h+")"),this.client=y,this)},g.prototype.getClient=function(){return this.client},g.prototype.derive=function(y,T){var E=new e(this,y,T);return this.derivedHelpers.push(E),E},g.prototype.detachDerivedHelper=function(y){var T=this.derivedHelpers.indexOf(y);if(T===-1)throw new Error("Derived helper already detached");this.derivedHelpers.splice(T,1)},g.prototype.hasPendingRequests=function(){return this._currentNbQueries>0},cp=g,cp}var dp,jb;function d5(){if(jb)return dp;jb=1;var t=c5(),e=yw(),i=vw(),r=_w(),n=Tw();function s(a,o,u,l){return new t(a,o,u,l)}return s.version=Ew(),s.AlgoliaSearchHelper=t,s.SearchParameters=r,s.RecommendParameters=e,s.SearchResults=n,s.RecommendResults=i,dp=s,dp}var h5=d5();const ai=os(h5);function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function Bb(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function zt(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Bb(Object(i),!0).forEach(function(r){xw(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Bb(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function xw(t,e,i){return e=f5(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function f5(t){var e=p5(t,"string");return Bu(e)=="symbol"?e:String(e)}function p5(t,e){if(Bu(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var m5=bt({name:"configure",connector:!0});function Ub(t,e){return t.setQueryParameters(Object.keys(e.searchParameters).reduce(function(i,r){return zt(zt({},i),{},xw({},r,void 0))},{}))}var ww=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tt,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt;return function(r){if(!r||!nw(r.searchParameters))throw new Error(m5("The `searchParameters` option expects an object."));var n={};function s(a){return function(o){var u=Ub(a.state,r),l=gu(u,new ai.SearchParameters(o));r.searchParameters=o,a.setState(l).search()}}return{$$type:"ais.configure",init:function(o){var u=o.instantSearchInstance;e(zt(zt({},this.getWidgetRenderState(o)),{},{instantSearchInstance:u}),!0)},render:function(o){var u=o.instantSearchInstance;e(zt(zt({},this.getWidgetRenderState(o)),{},{instantSearchInstance:u}),!1)},dispose:function(o){var u=o.state;return i(),Ub(u,r)},getRenderState:function(o,u){var l,c=this.getWidgetRenderState(u);return zt(zt({},o),{},{configure:zt(zt({},c),{},{widgetParams:zt(zt({},c.widgetParams),{},{searchParameters:gu(new ai.SearchParameters((l=o.configure)===null||l===void 0?void 0:l.widgetParams.searchParameters),new ai.SearchParameters(c.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(o){var u=o.helper;return n.refine||(n.refine=s(u)),{refine:n.refine,widgetParams:r}},getWidgetSearchParameters:function(o,u){var l=u.uiState;return gu(o,new ai.SearchParameters(zt(zt({},l.configure),r.searchParameters)))},getWidgetUiState:function(o){return zt(zt({},o),{},{configure:zt(zt({},o.configure),r.searchParameters)})}}}};function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function Hb(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function hp(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Hb(Object(i),!0).forEach(function(r){g5(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Hb(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function g5(t,e,i){return e=y5(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function y5(t){var e=v5(t,"string");return Uu(e)=="symbol"?e:String(e)}function v5(t,e){if(Uu(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qb(t){return T5(t)||S5(t)||b5(t)||_5()}function _5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b5(t,e){if(t){if(typeof t=="string")return km(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return km(t,e)}}function S5(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function T5(t){if(Array.isArray(t))return km(t)}function km(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var Vb=bt({name:"configure-related-items",connector:!0});function Wb(t){var e=t.attributeName,i=t.attributeValue,r=t.attributeScore;return"".concat(e,":").concat(i,"<score=").concat(r||1,">")}var E5=function(e,i){return function(r){var n=r||{},s=n.hit,a=n.matchingPatterns,o=n.transformSearchParameters,u=o===void 0?function(m){return m}:o;if(!s)throw new Error(Vb("The `hit` option is required."));if(!a)throw new Error(Vb("The `matchingPatterns` option is required."));var l=Object.keys(a).reduce(function(m,h){var g=a[h],p=lo(s,h),_=g.score;return Array.isArray(p)?[].concat(qb(m),[p.map(function(y){return Wb({attributeName:h,attributeValue:y,attributeScore:_})})]):typeof p=="string"?[].concat(qb(m),[Wb({attributeName:h,attributeValue:p,attributeScore:_})]):m},[]),c=hp({},u(new ai.SearchParameters({sumOrFiltersScores:!0,facetFilters:["objectID:-".concat(s.objectID)],optionalFilters:l}))),f=ww(e,i);return hp(hp({},f({searchParameters:c})),{},{$$type:"ais.configureRelatedItems"})}};function zb(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Ks(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?zb(Object(i),!0).forEach(function(r){x5(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):zb(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function x5(t,e,i){return e=w5(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function w5(t){var e=C5(t,"string");return Wa(e)=="symbol"?e:String(e)}function C5(t,e){if(Wa(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Wa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wa(t){"@babel/helpers - typeof";return Wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wa(t)}var gc=bt({name:"dynamic-widgets",connector:!0}),A5=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt;return $t(e,gc()),function(r){var n=r.widgets,s=r.maxValuesPerFacet,a=s===void 0?20:s,o=r.facets,u=o===void 0?["*"]:o,l=r.transformItems,c=l===void 0?function(h){return h}:l,f=r.fallbackWidget;if(!(n&&Array.isArray(n)&&n.every(function(h){return Wa(h)==="object"})))throw new Error(gc("The `widgets` option expects an array of widgets."));if(!Array.isArray(u))throw new Error(gc("The `facets` option only accepts an array of facets, you passed ".concat(JSON.stringify(u))));var m=new Map;return{$$type:"ais.dynamicWidgets",init:function(g){n.forEach(function(p){var _=aj(p,g);m.set(_,{widget:p,isMounted:!1})}),e(Ks(Ks({},this.getWidgetRenderState(g)),{},{instantSearchInstance:g.instantSearchInstance}),!0)},render:function(g){var p=g.parent,_=this.getWidgetRenderState(g),y=[],T=[];f&&_.attributesToRender.forEach(function(E){if(!m.has(E)){var C=f({attribute:E});m.set(E,{widget:C,isMounted:!1})}}),m.forEach(function(E,C){var R=E.widget,I=E.isMounted,D=_.attributesToRender.indexOf(C)>-1;!I&&D?(T.push(R),m.set(C,{widget:R,isMounted:!0})):I&&!D&&(y.push(R),m.set(C,{widget:R,isMounted:!1}))}),p.addWidgets(T),setTimeout(function(){return p.removeWidgets(y)},0),e(Ks(Ks({},_),{},{instantSearchInstance:g.instantSearchInstance}),!1)},dispose:function(g){var p=g.parent,_=[];m.forEach(function(y){var T=y.widget,E=y.isMounted;E&&_.push(T)}),p.removeWidgets(_),i()},getWidgetSearchParameters:function(g){return u.reduce(function(p,_){return p.addFacet(_)},g.setQueryParameters({maxValuesPerFacet:Math.max(a||0,g.maxValuesPerFacet||0)}))},getRenderState:function(g,p){return Ks(Ks({},g),{},{dynamicWidgets:this.getWidgetRenderState(p)})},getWidgetRenderState:function(g){var p,_,y,T,E=g.results;if(g.state,!E)return{attributesToRender:[],widgetParams:r};var C=c((p=(_=E.renderingContent)===null||_===void 0||(y=_.facetOrdering)===null||y===void 0||(T=y.facets)===null||T===void 0?void 0:T.order)!==null&&p!==void 0?p:[],{results:E});if(!Array.isArray(C))throw new Error(gc("The `transformItems` option expects a function that returns an Array."));return{attributesToRender:C,widgetParams:r}}}}};function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function P5(t){return I5(t)||D5(t)||R5(t)||O5()}function O5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R5(t,e){if(t){if(typeof t=="string")return Lm(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Lm(t,e)}}function D5(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function I5(t){if(Array.isArray(t))return Lm(t)}function Lm(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Gb(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Qs(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Gb(Object(i),!0).forEach(function(r){k5(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Gb(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function k5(t,e,i){return e=L5(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function L5(t){var e=N5(t,"string");return Hu(e)=="symbol"?e:String(e)}function N5(t,e){if(Hu(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kb=bt({name:"clear-refinements",connector:!0}),F5=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt;return $t(e,Kb()),function(r){var n=r||{},s=n.includedAttributes,a=s===void 0?[]:s,o=n.excludedAttributes,u=o===void 0?["query"]:o,l=n.transformItems,c=l===void 0?function(g){return g}:l;if(r&&r.includedAttributes&&r.excludedAttributes)throw new Error(Kb("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var f={refine:tt,createURL:function(){return""},attributesToClear:[]},m=function(){return f.refine()},h=function(){return f.createURL()};return{$$type:"ais.clearRefinements",init:function(p){var _=p.instantSearchInstance;e(Qs(Qs({},this.getWidgetRenderState(p)),{},{instantSearchInstance:_}),!0)},render:function(p){var _=p.instantSearchInstance;e(Qs(Qs({},this.getWidgetRenderState(p)),{},{instantSearchInstance:_}),!1)},dispose:function(){i()},getRenderState:function(p,_){return Qs(Qs({},p),{},{clearRefinements:this.getWidgetRenderState(_)})},getWidgetRenderState:function(p){var _=p.createURL,y=p.scopedResults,T=p.results;f.attributesToClear=y.reduce(function(C,R){return C.concat(M5({scopedResult:R,includedAttributes:a,excludedAttributes:u,transformItems:c,results:T}))},[]),f.refine=function(){f.attributesToClear.forEach(function(C){var R=C.helper,I=C.items;R.setState(W_({helper:R,attributesToClear:I})).search()})},f.createURL=function(){return _(gu.apply(void 0,P5(f.attributesToClear.map(function(C){var R=C.helper,I=C.items;return W_({helper:R,attributesToClear:I})}))))};var E=f.attributesToClear.some(function(C){return C.items.length>0});return{canRefine:E,hasRefinements:E,refine:m,createURL:h,widgetParams:r}}}}};function M5(t){var e=t.scopedResult,i=t.includedAttributes,r=t.excludedAttributes,n=t.transformItems,s=t.results,a=i.indexOf("query")!==-1||r.indexOf("query")===-1;return{helper:e.helper,items:n(oy(ay(e.results,e.helper.state,a).map(function(o){return o.attribute}).filter(function(o){return i.length===0||i.indexOf(o)!==-1}).filter(function(o){return o==="query"&&a||r.indexOf(o)===-1})),{results:s})}}function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}function $5(t){return H5(t)||U5(t)||B5(t)||j5()}function j5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B5(t,e){if(t){if(typeof t=="string")return Nm(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Nm(t,e)}}function U5(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function H5(t){if(Array.isArray(t))return Nm(t)}function Nm(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Qb(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Xs(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Qb(Object(i),!0).forEach(function(r){q5(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Qb(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function q5(t,e,i){return e=V5(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function V5(t){var e=W5(t,"string");return qu(e)=="symbol"?e:String(e)}function W5(t,e){if(qu(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xb=bt({name:"current-refinements",connector:!0}),z5=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt;return $t(e,Xb()),function(r){if((r||{}).includedAttributes&&(r||{}).excludedAttributes)throw new Error(Xb("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var n=r||{},s=n.includedAttributes,a=n.excludedAttributes,o=a===void 0?["query"]:a,u=n.transformItems,l=u===void 0?function(c){return c}:u;return{$$type:"ais.currentRefinements",init:function(f){var m=f.instantSearchInstance;e(Xs(Xs({},this.getWidgetRenderState(f)),{},{instantSearchInstance:m}),!0)},render:function(f){var m=f.instantSearchInstance;e(Xs(Xs({},this.getWidgetRenderState(f)),{},{instantSearchInstance:m}),!1)},dispose:function(){i()},getRenderState:function(f,m){return Xs(Xs({},f),{},{currentRefinements:this.getWidgetRenderState(m)})},getWidgetRenderState:function(f){var m=f.results,h=f.scopedResults,g=f.createURL,p=f.helper;function _(){return m?h.reduce(function(T,E){return T.concat(l(Yb({results:E.results,helper:E.helper,indexId:E.indexId,includedAttributes:s,excludedAttributes:o}),{results:m}))},[]):l(Yb({results:null,helper:p,indexId:p.state.index,includedAttributes:s,excludedAttributes:o}),{results:m})}var y=_();return{items:y,canRefine:y.length>0,refine:function(E){return Aw(p,E)},createURL:function(E){return g(Cw(p.state,E))},widgetParams:r}}}}};function Yb(t){var e=t.results,i=t.helper,r=t.indexId,n=t.includedAttributes,s=t.excludedAttributes,a=(n||[]).indexOf("query")!==-1||(s||[]).indexOf("query")===-1,o=n?function(l){return n.indexOf(l.attribute)!==-1}:function(l){return s.indexOf(l.attribute)===-1},u=ay(e,i.state,a).map(K5).filter(o);return u.reduce(function(l,c){return[].concat($5(l.filter(function(f){return f.attribute!==c.attribute})),[{indexName:i.state.index,indexId:r,attribute:c.attribute,label:c.attribute,refinements:u.filter(function(f){return f.attribute===c.attribute}).sort(function(f,m){return f.type==="numeric"?f.value-m.value:0}),refine:function(m){return Aw(i,m)}}])},[])}function Cw(t,e){switch(t=t.resetPage(),e.type){case"facet":return t.removeFacetRefinement(e.attribute,String(e.value));case"disjunctive":return t.removeDisjunctiveFacetRefinement(e.attribute,String(e.value));case"hierarchical":return t.removeHierarchicalFacetRefinement(e.attribute);case"exclude":return t.removeExcludeRefinement(e.attribute,String(e.value));case"numeric":return t.removeNumericRefinement(e.attribute,e.operator,String(e.value));case"tag":return t.removeTagRefinement(String(e.value));case"query":return t.setQueryParameter("query","");default:return t}}function Aw(t,e){t.setState(Cw(t.state,e)).search()}function G5(t){switch(t){case">=":return"";case"<=":return"";default:return t}}function K5(t){var e=Q5(t),i=t.operator?"".concat(G5(t.operator)," ").concat(t.name):t.name,r={attribute:t.attribute,type:t.type,value:e,label:i};return t.operator!==void 0&&(r.operator=t.operator),t.count!==void 0&&(r.count=t.count),t.exhaustive!==void 0&&(r.exhaustive=t.exhaustive),r}function Q5(t){return t.type==="numeric"?Number(t.name):"escapedValue"in t?t.escapedValue:t.name}function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}var X5=["name","escapedValue","data","path"];function Jb(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function ri(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Jb(Object(i),!0).forEach(function(r){$c(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Jb(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function $c(t,e,i){return e=Y5(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Y5(t){var e=J5(t,"string");return Vu(e)=="symbol"?e:String(e)}function J5(t,e){if(Vu(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z5(t,e){if(t==null)return{};var i=eB(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function eB(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function tB(t,e){return sB(t)||nB(t,e)||rB(t,e)||iB()}function iB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rB(t,e){if(t){if(typeof t=="string")return Zb(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Zb(t,e)}}function Zb(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function nB(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,a,o=[],u=!0,l=!1;try{if(s=(i=i.call(t)).next,e!==0)for(;!(u=(r=s.call(i)).done)&&(o.push(r.value),o.length!==e);u=!0);}catch(c){l=!0,n=c}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(l)throw n}}return o}}function sB(t){if(Array.isArray(t))return t}var fp=bt({name:"hierarchical-menu",connector:!0}),eS=["name:asc"],aB=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt;return $t(e,fp()),function(r){var n=r||{},s=n.attributes,a=n.separator,o=a===void 0?" > ":a,u=n.rootPath,l=u===void 0?null:u,c=n.showParentLevel,f=c===void 0?!0:c,m=n.limit,h=m===void 0?10:m,g=n.showMore,p=g===void 0?!1:g,_=n.showMoreLimit,y=_===void 0?20:_,T=n.sortBy,E=T===void 0?eS:T,C=n.transformItems,R=C===void 0?function(J){return J}:C;if(!s||!Array.isArray(s)||s.length===0)throw new Error(fp("The `attributes` option expects an array of strings."));if(p===!0&&y<=h)throw new Error(fp("The `showMoreLimit` option must be greater than `limit`."));var I=tB(s,1),D=I[0],O,w=function(){};function P(){w()}var L,M=!1;function j(J,H){return function(){M=!M,H.render(J)}}function Q(){return M?y:h}function Z(J){return J.slice(0,Q()).map(function(H){var W=H.name,G=H.escapedValue,Y=H.data;H.path;var ie=Z5(H,X5),me=ri(ri({},ie),{},{value:G,label:W,data:null});return Array.isArray(Y)&&(me.data=Z(Y)),me})}return{$$type:"ais.hierarchicalMenu",init:function(H){var W=H.instantSearchInstance;e(ri(ri({},this.getWidgetRenderState(H)),{},{instantSearchInstance:W}),!0)},render:function(H){var W=H.instantSearchInstance;w=j(H,this),e(ri(ri({},this.getWidgetRenderState(H)),{},{instantSearchInstance:W}),!1)},dispose:function(H){var W=H.state;return i(),W.removeHierarchicalFacet(D).setQueryParameter("maxValuesPerFacet",void 0)},getRenderState:function(H,W){return ri(ri({},H),{},{hierarchicalMenu:ri(ri({},H.hierarchicalMenu),{},$c({},D,this.getWidgetRenderState(W)))})},getWidgetRenderState:function(H){var W=this,G=H.results,Y=H.state,ie=H.createURL,me=H.instantSearchInstance,Te=H.helper,Ce=[],ge=!1,Oe=function(Fe){return ie(function(B){return W.getWidgetUiState(B,{searchParameters:Y.resetPage().toggleFacetRefinement(D,Fe),helper:Te})})};if(O||(O=ry({instantSearchInstance:me,helper:Te,attribute:function(Fe){var B=Fe.split(o).length-1;return s[B]},widgetType:this.$$type})),L||(L=function(Fe){O("click:internal",Fe),Te.toggleFacetRefinement(D,Fe).search()}),G){var re=G.getFacetValues(D,{sortBy:E,facetOrdering:E===eS}),ce=re&&!Array.isArray(re)&&re.data?re.data:[],_e=(Y.maxValuesPerFacet||0)>Q()?ce.length<=Q():ce.length<Q();ge=p&&(M||!_e),Ce=R(Z(ce),{results:G})}return{items:Ce,refine:L,canRefine:Ce.length>0,createURL:Oe,sendEvent:O,widgetParams:r,isShowingMore:M,toggleShowMore:P,canToggleShowMore:ge}},getWidgetUiState:function(H,W){var G=W.searchParameters,Y=G.getHierarchicalFacetBreadcrumb(D);return oB(ri(ri({},H),{},{hierarchicalMenu:ri(ri({},H.hierarchicalMenu),{},$c({},D,Y))}),D)},getWidgetSearchParameters:function(H,W){var G=W.uiState,Y=G.hierarchicalMenu&&G.hierarchicalMenu[D];if(H.isConjunctiveFacet(D)||H.isDisjunctiveFacet(D))return H;H.isHierarchicalFacet(D)&&H.getHierarchicalFacetByName(D);var ie=H.removeHierarchicalFacet(D).addHierarchicalFacet({name:D,attributes:s,separator:o,rootPath:l,showParentLevel:f}),me=ie.maxValuesPerFacet||0,Te=Math.max(me,p?y:h),Ce=ie.setQueryParameter("maxValuesPerFacet",Te);return Y?Ce.addHierarchicalFacetRefinement(D,Y.join(o)):Ce.setQueryParameters({hierarchicalFacetsRefinements:ri(ri({},Ce.hierarchicalFacetsRefinements),{},$c({},D,[]))})}}}};function oB(t,e){return t.hierarchicalMenu&&((!t.hierarchicalMenu[e]||t.hierarchicalMenu[e].length===0)&&delete t.hierarchicalMenu[e],Object.keys(t.hierarchicalMenu).length===0&&delete t.hierarchicalMenu),t}function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function tS(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Bn(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?tS(Object(i),!0).forEach(function(r){Pw(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):tS(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Pw(t,e,i){return e=uB(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function uB(t){var e=lB(t,"string");return Wu(e)=="symbol"?e:String(e)}function lB(t,e){if(Wu(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cB=bt({name:"hits",connector:!0});const dB=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt;return $t(e,cB()),function(r){var n=r||{},s=n.escapeHTML,a=s===void 0?!0:s,o=n.transformItems,u=o===void 0?function(f){return f}:o,l,c;return{$$type:"ais.hits",init:function(m){e(Bn(Bn({},this.getWidgetRenderState(m)),{},{instantSearchInstance:m.instantSearchInstance}),!0)},render:function(m){var h=this.getWidgetRenderState(m);e(Bn(Bn({},h),{},{instantSearchInstance:m.instantSearchInstance}),!1),h.sendEvent("view:internal",h.items)},getRenderState:function(m,h){return Bn(Bn({},m),{},{hits:this.getWidgetRenderState(h)})},getWidgetRenderState:function(m){var h,g,p,_=m.results,y=m.helper,T=m.instantSearchInstance;if(l||(l=ny({instantSearchInstance:T,helper:y,widgetType:this.$$type})),c||(c=cw({helper:y,widgetType:this.$$type,instantSearchInstance:T})),!_)return{hits:[],items:[],results:void 0,banner:void 0,sendEvent:l,bindEvent:c,widgetParams:r};a&&_.hits.length>0&&(_.hits=iy(_.hits));var E=dw(_.hits,_.page,_.hitsPerPage),C=hw(E,_.queryID),R=u(C,{results:_}),I=(h=_.renderingContent)===null||h===void 0||(g=h.widgets)===null||g===void 0||(p=g.banners)===null||p===void 0?void 0:p[0];return{hits:R,items:R,results:_,banner:I,sendEvent:l,bindEvent:c,widgetParams:r}},dispose:function(m){var h=m.state;return i(),a?h.setQueryParameters(Object.keys(rn).reduce(function(g,p){return Bn(Bn({},g),{},Pw({},p,void 0))},{})):h},getWidgetSearchParameters:function(m,h){return a?m.setQueryParameters(rn):m}}}};function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function iS(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Ed(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?iS(Object(i),!0).forEach(function(r){hB(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):iS(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function hB(t,e,i){return e=fB(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function fB(t){var e=pB(t,"string");return zu(e)=="symbol"?e:String(e)}function pB(t,e){if(zu(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mB=function(e,i){return i.map(function(r){var n=An(e,function(s){return s.objectID===r});if(typeof n>"u")throw new Error('Could not find objectID "'.concat(r,'" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.'));return n})},gB=function(e){var i=oy(e.map(function(n){return n.__queryID}));if(i.length>1)throw new Error("Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.");var r=i[0];if(typeof r!="string")throw new Error("Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\n\nSee: https://alg.li/lNiZZ7");return r},yB=function(e){return e.map(function(i){return i.__position})},vB=function(e){var i=e.method,r=e.results,n=e.hits,s=e.objectIDs,a=r.index,o=mB(n,s),u=gB(o);switch(i){case"clickedObjectIDsAfterSearch":{var l=yB(o);return{index:a,queryID:u,objectIDs:s,positions:l}}case"convertedObjectIDsAfterSearch":return{index:a,queryID:u,objectIDs:s};default:throw new Error('Unsupported method passed to insights: "'.concat(i,'".'))}},_B=function(e,i,r){return function(n){for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];var u=a[0];if(!e){var l=bt({name:"instantsearch"});throw new Error(l("The `insightsClient` option has not been provided to `instantsearch`."))}if(!Array.isArray(u.objectIDs))throw new TypeError("Expected `objectIDs` to be an array.");var c=vB({method:n,results:i,hits:r,objectIDs:u.objectIDs});e(n,Ed(Ed({},c),u))}};function Ow(t){return function(e,i){return t(function(r,n){var s=r.results,a=r.hits,o=r.instantSearchInstance;if(s&&a&&o){var u=_B(o.insightsClient,s,a);return e(Ed(Ed({},r),{},{insights:u}),n)}return e(r,n)},i)}}function Fm(t){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(t)}function bB(t){var e=t.method,i=t.payload;if(Fm(i)!=="object")throw new Error("The insights helper expects the payload to be an object.");var r;try{r=uw(i)}catch{throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(e,'" data-insights-payload="').concat(r,'"')}function Rw(t,e){return bB({method:t,payload:e})}var SB=Ow(dB);function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function TB(t){return CB(t)||wB(t)||xB(t)||EB()}function EB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xB(t,e){if(t){if(typeof t=="string")return Mm(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Mm(t,e)}}function wB(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CB(t){if(Array.isArray(t))return Mm(t)}function Mm(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function rS(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Lr(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?rS(Object(i),!0).forEach(function(r){AB(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):rS(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function AB(t,e,i){return e=PB(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function PB(t){var e=OB(t,"string");return Gu(e)=="symbol"?e:String(e)}function OB(t,e){if(Gu(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yc=bt({name:"hits-per-page",connector:!0}),RB=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt;return $t(e,yc()),function(r){var n=r||{},s=n.items,a=n.transformItems,o=a===void 0?function(h){return h}:a;if(!Array.isArray(s))throw new Error(yc("The `items` option expects an array of objects."));var u=s,l=u.filter(function(h){return h.default===!0});if(l.length===0)throw new Error(yc("A default value must be specified in `items`."));if(l.length>1)throw new Error(yc("More than one default value is specified in `items`."));var c=l[0],f=function(g){var p=g.hitsPerPage;return u.map(function(_){return Lr(Lr({},_),{},{isRefined:Number(_.value)===Number(p)})})},m={getRefine:function(g){return function(p){return!p&&p!==0?g.setQueryParameter("hitsPerPage",void 0).search():g.setQueryParameter("hitsPerPage",p).search()}},createURLFactory:function(g){var p=g.state,_=g.createURL,y=g.getWidgetUiState,T=g.helper;return function(E){return _(function(C){return y(C,{searchParameters:p.resetPage().setQueryParameter("hitsPerPage",!E&&E!==0?void 0:E),helper:T})})}}};return{$$type:"ais.hitsPerPage",init:function(g){var p=g.state,_=g.instantSearchInstance,y=u.some(function(T){return Number(p.hitsPerPage)===Number(T.value)});y||(u=[{value:"",label:""}].concat(TB(u))),e(Lr(Lr({},this.getWidgetRenderState(g)),{},{instantSearchInstance:_}),!0)},render:function(g){var p=g.instantSearchInstance;e(Lr(Lr({},this.getWidgetRenderState(g)),{},{instantSearchInstance:p}),!1)},dispose:function(g){var p=g.state;return i(),p.setQueryParameter("hitsPerPage",void 0)},getRenderState:function(g,p){return Lr(Lr({},g),{},{hitsPerPage:this.getWidgetRenderState(p)})},getWidgetRenderState:function(g){var p=g.state,_=g.results,y=g.createURL,T=g.helper,E=_?_.nbHits>0:!1;return{items:o(f(p),{results:_}),refine:m.getRefine(T),createURL:m.createURLFactory({state:p,createURL:y,getWidgetUiState:this.getWidgetUiState,helper:T}),hasNoResults:!E,canRefine:E,widgetParams:r}},getWidgetUiState:function(g,p){var _=p.searchParameters,y=_.hitsPerPage;return y===void 0||y===c.value?g:Lr(Lr({},g),{},{hitsPerPage:y})},getWidgetSearchParameters:function(g,p){var _=p.uiState;return g.setQueryParameters({hitsPerPage:_.hitsPerPage||c.value})}}}};function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}var DB=["page"],IB=["clickAnalytics","userToken"];function nS(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Xi(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?nS(Object(i),!0).forEach(function(r){Dw(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):nS(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Dw(t,e,i){return e=kB(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function kB(t){var e=LB(t,"string");return Ku(e)=="symbol"?e:String(e)}function LB(t,e){if(Ku(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sS(t){return $B(t)||MB(t)||FB(t)||NB()}function NB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FB(t,e){if(t){if(typeof t=="string")return $m(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return $m(t,e)}}function MB(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $B(t){if(Array.isArray(t))return $m(t)}function $m(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Iw(t,e){if(t==null)return{};var i=jB(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function jB(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}var BB=bt({name:"infinite-hits",connector:!0});function aS(t){var e=t||{};e.page;var i=Iw(e,DB);return i}function vc(t){var e=t||{};e.clickAnalytics,e.userToken;var i=Iw(e,IB);return i}function UB(){var t=null,e=null;return{read:function(r){var n=r.state;return Al(e,aS(n))?t:null},write:function(r){var n=r.state,s=r.hits;e=aS(n),t=s}}}function HB(t){return Object.keys(t).map(Number).sort(function(e,i){return e-i}).reduce(function(e,i){return e.concat(t[i])},[])}const qB=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt;return $t(e,BB()),function(r){var n=r||{},s=n.escapeHTML,a=s===void 0?!0:s,o=n.transformItems,u=o===void 0?function(E){return E}:o,l=n.cache,c=l===void 0?UB():l,f,m,h,g,p=function(C,R){var I=C.page,D=I===void 0?0:I,O=Object.keys(R).map(Number);return O.length===0?D:Math.min.apply(Math,[D].concat(sS(O)))},_=function(C,R){var I=C.page,D=I===void 0?0:I,O=Object.keys(R).map(Number);return O.length===0?D:Math.max.apply(Math,[D].concat(sS(O)))},y=function(C){return function(){C.overrideStateWithoutTriggeringChangeEvent(Xi(Xi({},C.state),{},{page:p(C.state,c.read({state:vc(C.state)})||{})-1})).searchWithoutTriggeringOnStateChange()}},T=function(C){return function(){C.setPage(_(C.state,c.read({state:vc(C.state)})||{})+1).search()}};return{$$type:"ais.infiniteHits",init:function(C){e(Xi(Xi({},this.getWidgetRenderState(C)),{},{instantSearchInstance:C.instantSearchInstance}),!0)},render:function(C){var R=C.instantSearchInstance,I=this.getWidgetRenderState(C);e(Xi(Xi({},I),{},{instantSearchInstance:R}),!1),h("view:internal",I.currentPageHits)},getRenderState:function(C,R){return Xi(Xi({},C),{},{infiniteHits:this.getWidgetRenderState(R)})},getWidgetRenderState:function(C){var R,I,D,O=C.results,w=C.helper,P=C.parent,L=C.state,M=C.instantSearchInstance,j,Q=[],Z=P.getPreviousState()||L,J=c.read({state:vc(Z)})||{},H=O==null||(R=O.renderingContent)===null||R===void 0||(I=R.widgets)===null||I===void 0||(D=I.banners)===null||D===void 0?void 0:D[0];if(!O)f=y(w),m=T(w),h=ny({instantSearchInstance:M,helper:w,widgetType:this.$$type}),g=cw({helper:w,widgetType:this.$$type,instantSearchInstance:M}),j=Z.page===void 0||p(Z,J)===0;else{var W,G,Y=Z.page,ie=Y===void 0?0:Y;a&&O.hits.length>0&&(O.hits=iy(O.hits));var me=dw(O.hits,O.page,O.hitsPerPage),Te=hw(me,O.queryID),Ce=u(Te,{results:O}),ge=!1;pw(M.mainIndex,function(_e){!ge&&_e.getWidgets().some(function(Ee){var Fe=Ee.$$type;return Fe==="ais.dynamicWidgets"})&&(ge=!0)});var Oe=!((W=Z.disjunctiveFacets)!==null&&W!==void 0&&W.length)&&!(Z.facets||[]).filter(function(_e){return _e!=="*"}).length&&!((G=Z.hierarchicalFacets)!==null&&G!==void 0&&G.length);J[ie]===void 0&&!O.__isArtificial&&M.status==="idle"&&!(ge&&Oe)&&(J[ie]=Ce,c.write({state:vc(Z),hits:J})),Q=Ce,j=p(Z,J)===0}var re=HB(J),ce=O?O.nbPages<=_(Z,J)+1:!0;return{hits:re,items:re,currentPageHits:Q,sendEvent:h,bindEvent:g,banner:H,results:O||void 0,showPrevious:f,showMore:m,isFirstPage:j,isLastPage:ce,widgetParams:r}},dispose:function(C){var R=C.state;i();var I=R.setQueryParameter("page",void 0);return a?I.setQueryParameters(Object.keys(rn).reduce(function(D,O){return Xi(Xi({},D),{},Dw({},O,void 0))},{})):I},getWidgetUiState:function(C,R){var I=R.searchParameters,D=I.page||0;return D?Xi(Xi({},C),{},{page:D+1}):C},getWidgetSearchParameters:function(C,R){var I=R.uiState,D=C;a&&(D=C.setQueryParameters(rn));var O=I.page?I.page-1:0;return D.setQueryParameter("page",O)}}}};var VB=Ow(qB),WB=["name","escapedValue","path"];function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function zB(t,e){if(t==null)return{};var i=GB(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function GB(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function oS(t,e){return YB(t)||XB(t,e)||QB(t,e)||KB()}function KB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QB(t,e){if(t){if(typeof t=="string")return uS(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return uS(t,e)}}function uS(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function XB(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,a,o=[],u=!0,l=!1;try{if(s=(i=i.call(t)).next,e!==0)for(;!(u=(r=s.call(i)).done)&&(o.push(r.value),o.length!==e);u=!0);}catch(c){l=!0,n=c}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(l)throw n}}return o}}function YB(t){if(Array.isArray(t))return t}function lS(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function ni(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?lS(Object(i),!0).forEach(function(r){jc(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):lS(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function jc(t,e,i){return e=JB(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function JB(t){var e=ZB(t,"string");return Qu(e)=="symbol"?e:String(e)}function ZB(t,e){if(Qu(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pp=bt({name:"menu",connector:!0}),cS=["isRefined","name:asc"],kw=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt;return $t(e,pp()),function(r){var n=r||{},s=n.attribute,a=n.limit,o=a===void 0?10:a,u=n.showMore,l=u===void 0?!1:u,c=n.showMoreLimit,f=c===void 0?20:c,m=n.sortBy,h=m===void 0?cS:m,g=n.transformItems,p=g===void 0?function(O){return O}:g;if(!s)throw new Error(pp("The `attribute` option is required."));if(l===!0&&f<=o)throw new Error(pp("The `showMoreLimit` option must be greater than `limit`."));var _,y,T,E=!1,C=function(){};function R(O,w){return function(){E=!E,w.render(O)}}function I(){C()}function D(){return E?f:o}return{$$type:"ais.menu",init:function(w){var P=w.instantSearchInstance;e(ni(ni({},this.getWidgetRenderState(w)),{},{instantSearchInstance:P}),!0)},render:function(w){var P=w.instantSearchInstance;e(ni(ni({},this.getWidgetRenderState(w)),{},{instantSearchInstance:P}),!1)},dispose:function(w){var P=w.state;return i(),P.removeHierarchicalFacet(s).setQueryParameter("maxValuesPerFacet",void 0)},getRenderState:function(w,P){return ni(ni({},w),{},{menu:ni(ni({},w.menu),{},jc({},s,this.getWidgetRenderState(P)))})},getWidgetRenderState:function(w){var P=this,L=w.results,M=w.createURL,j=w.instantSearchInstance,Q=w.helper,Z=[],J=!1;if(_||(_=ry({instantSearchInstance:j,helper:Q,attribute:s,widgetType:this.$$type})),y||(y=function(Y){return M(function(ie){return P.getWidgetUiState(ie,{searchParameters:Q.state.resetPage().toggleFacetRefinement(s,Y),helper:Q})})}),T||(T=function(Y){var ie=Q.getHierarchicalFacetBreadcrumb(s),me=oS(ie,1),Te=me[0];_("click:internal",Y||Te),Q.toggleFacetRefinement(s,Y||Te).search()}),w.results&&(C=R(w,this)),L){var H=L.getFacetValues(s,{sortBy:h,facetOrdering:h===cS}),W=H&&!Array.isArray(H)&&H.data?H.data:[];J=l&&(E||W.length>D()),Z=p(W.slice(0,D()).map(function(G){var Y=G.name,ie=G.escapedValue;G.path;var me=zB(G,WB);return ni(ni({},me),{},{label:Y,value:ie})}),{results:L})}return{items:Z,createURL:y,refine:T,sendEvent:_,canRefine:Z.length>0,widgetParams:r,isShowingMore:E,toggleShowMore:I,canToggleShowMore:J}},getWidgetUiState:function(w,P){var L=P.searchParameters,M=L.getHierarchicalFacetBreadcrumb(s),j=oS(M,1),Q=j[0];return e6(ni(ni({},w),{},{menu:ni(ni({},w.menu),{},jc({},s,Q))}),s)},getWidgetSearchParameters:function(w,P){var L=P.uiState,M=L.menu&&L.menu[s];if(w.isConjunctiveFacet(s)||w.isDisjunctiveFacet(s))return w;var j=w.removeHierarchicalFacet(s).addHierarchicalFacet({name:s,attributes:[s]}),Q=j.maxValuesPerFacet||0,Z=Math.max(Q,l?f:o),J=j.setQueryParameter("maxValuesPerFacet",Z);return M?J.addHierarchicalFacetRefinement(s,M):J.setQueryParameters({hierarchicalFacetsRefinements:ni(ni({},J.hierarchicalFacetsRefinements),{},jc({},s,[]))})}}}};function e6(t,e){return t.menu&&(t.menu[e]===void 0&&delete t.menu[e],Object.keys(t.menu).length===0&&delete t.menu),t}function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function t6(t,e){var i=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=Lw(t))||e){i&&(t=i);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,o;return{s:function(){i=i.call(t)},n:function(){var l=i.next();return s=l.done,l},e:function(l){a=!0,o=l},f:function(){try{!s&&i.return!=null&&i.return()}finally{if(a)throw o}}}}function i6(t,e){return s6(t)||n6(t,e)||Lw(t,e)||r6()}function r6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lw(t,e){if(t){if(typeof t=="string")return dS(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return dS(t,e)}}function dS(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function n6(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,a,o=[],u=!0,l=!1;try{if(s=(i=i.call(t)).next,e!==0)for(;!(u=(r=s.call(i)).done)&&(o.push(r.value),o.length!==e);u=!0);}catch(c){l=!0,n=c}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(l)throw n}}return o}}function s6(t){if(Array.isArray(t))return t}function hS(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Wt(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?hS(Object(i),!0).forEach(function(r){eu(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):hS(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function eu(t,e,i){return e=a6(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function a6(t){var e=o6(t,"string");return Xu(e)=="symbol"?e:String(e)}function o6(t,e){if(Xu(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mp=bt({name:"numeric-menu",connector:!0}),u6="ais.numericMenu",l6=function(e){var i=e.instantSearchInstance;return function(){if(arguments.length===1){i.sendEventToInsights(arguments.length<=0?void 0:arguments[0]);return}}},c6=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt;return $t(e,mp()),function(r){var n=r||{},s=n.attribute,a=s===void 0?"":s,o=n.items,u=o===void 0?[]:o,l=n.transformItems,c=l===void 0?function(h){return h}:l;if(a==="")throw new Error(mp("The `attribute` option is required."));if(!u||u.length===0)throw new Error(mp("The `items` option expects an array of objects."));var f=function(g){return u.map(function(p){var _=p.start,y=p.end,T=p.label;return{label:T,value:encodeURI(JSON.stringify({start:_,end:y})),isRefined:Nw(g,a,{start:_,end:y})}})},m={};return{$$type:u6,init:function(g){var p=g.instantSearchInstance;e(Wt(Wt({},this.getWidgetRenderState(g)),{},{instantSearchInstance:p}),!0)},render:function(g){var p=g.instantSearchInstance;e(Wt(Wt({},this.getWidgetRenderState(g)),{},{instantSearchInstance:p}),!1)},dispose:function(g){var p=g.state;return i(),p.removeNumericRefinement(a)},getWidgetUiState:function(g,p){var _=p.searchParameters,y=_.getNumericRefinements(a),T=y["="]&&y["="][0];if(T||T===0)return Wt(Wt({},g),{},{numericMenu:Wt(Wt({},g.numericMenu),{},eu({},a,"".concat(y["="])))});var E=y[">="]&&y[">="][0]||"",C=y["<="]&&y["<="][0]||"";return d6(Wt(Wt({},g),{},{numericMenu:Wt(Wt({},g.numericMenu),{},eu({},a,"".concat(E,":").concat(C)))}),a)},getWidgetSearchParameters:function(g,p){var _=p.uiState,y=_.numericMenu&&_.numericMenu[a],T=g.setQueryParameters({numericRefinements:Wt(Wt({},g.numericRefinements),{},eu({},a,{}))});if(!y)return T;var E=y.indexOf(":")===-1;if(E)return T.addNumericRefinement(a,"=",Number(y));var C=y.split(":").map(parseFloat),R=i6(C,2),I=R[0],D=R[1],O=ht(I)?T.addNumericRefinement(a,">=",I):T,w=ht(D)?O.addNumericRefinement(a,"<=",D):O;return w},getRenderState:function(g,p){return Wt(Wt({},g),{},{numericMenu:Wt(Wt({},g.numericMenu),{},eu({},a,this.getWidgetRenderState(p)))})},getWidgetRenderState:function(g){var p=this,_=g.results,y=g.state,T=g.instantSearchInstance,E=g.helper,C=g.createURL;m.refine||(m.refine=function(L){var M=fS(E.state,a,L);m.sendEvent("click:internal",L),E.setState(M).search()}),m.createURL||(m.createURL=function(L){return function(M){return C(function(j){return p.getWidgetUiState(j,{searchParameters:fS(L,a,M),helper:E})})}}),m.sendEvent||(m.sendEvent=l6({instantSearchInstance:T}));var R=_?_.nbHits===0:!0,I=f(y),D=!0,O=t6(I),w;try{for(O.s();!(w=O.n()).done;){var P=w.value;if(P.isRefined&&decodeURI(P.value)!=="{}"){D=!1;break}}}catch(L){O.e(L)}finally{O.f()}return{createURL:m.createURL(y),items:c(I,{results:_}),hasNoResults:R,canRefine:!(R&&D),refine:m.refine,sendEvent:m.sendEvent,widgetParams:r}}}}};function Nw(t,e,i){var r=t.getNumericRefinements(e);return i.start!==void 0&&i.end!==void 0?i.start===i.end?Yn(r,"=",i.start):Yn(r,">=",i.start)&&Yn(r,"<=",i.end):i.start!==void 0?Yn(r,">=",i.start):i.end!==void 0?Yn(r,"<=",i.end):i.start===void 0&&i.end===void 0?Object.keys(r).every(function(n){return(r[n]||[]).length===0}):!1}function fS(t,e,i){var r=t,n=JSON.parse(decodeURI(i)),s=r.getNumericRefinements(e);if(n.start===void 0&&n.end===void 0)return r.removeNumericRefinement(e);if(Nw(r,e,n)||(r=r.removeNumericRefinement(e)),n.start!==void 0&&n.end!==void 0){if(n.start>n.end)throw new Error("option.start should be > to option.end");if(n.start===n.end)return Yn(s,"=",n.start)?r=r.removeNumericRefinement(e,"=",n.start):r=r.addNumericRefinement(e,"=",n.start),r}return n.start!==void 0&&(Yn(s,">=",n.start)&&(r=r.removeNumericRefinement(e,">=",n.start)),r=r.addNumericRefinement(e,">=",n.start)),n.end!==void 0&&(Yn(s,"<=",n.end)&&(r=r.removeNumericRefinement(e,"<=",n.end)),r=r.addNumericRefinement(e,"<=",n.end)),typeof r.page=="number"&&(r.page=0),r}function Yn(t,e,i){return t[e]!==void 0&&t[e].includes(i)}function d6(t,e){return t.numericMenu&&(t.numericMenu[e]===":"&&delete t.numericMenu[e],Object.keys(t.numericMenu).length===0&&delete t.numericMenu),t}function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}function h6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f6(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fw(r.key),r)}}function p6(t,e,i){return e&&f6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gp(t,e,i){return e=Fw(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Fw(t){var e=m6(t,"string");return Yu(e)=="symbol"?e:String(e)}function m6(t,e){if(Yu(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g6=function(){function t(e){h6(this,t),gp(this,"currentPage",void 0),gp(this,"total",void 0),gp(this,"padding",void 0),this.currentPage=e.currentPage,this.total=e.total,this.padding=e.padding}return p6(t,[{key:"pages",value:function(){var i=this.total,r=this.currentPage,n=this.padding;if(i===0)return[0];var s=this.nbPagesDisplayed(n,i);if(s===i)return ub({end:i});var a=this.calculatePaddingLeft(r,n,i,s),o=s-a,u=r-a,l=r+o;return ub({start:u,end:l})}},{key:"nbPagesDisplayed",value:function(i,r){return Math.min(2*i+1,r)}},{key:"calculatePaddingLeft",value:function(i,r,n,s){return i<=r?i:i>=n-r?s-(n-i):r}},{key:"isLastPage",value:function(){return this.currentPage>=this.total-1}},{key:"isFirstPage",value:function(){return this.currentPage<=0}}]),t}();function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function pS(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Nr(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?pS(Object(i),!0).forEach(function(r){y6(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):pS(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function y6(t,e,i){return e=v6(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function v6(t){var e=_6(t,"string");return Ju(e)=="symbol"?e:String(e)}function _6(t,e){if(Ju(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b6=bt({name:"pagination",connector:!0}),S6=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt;return $t(e,b6()),function(r){var n=r||{},s=n.totalPages,a=n.padding,o=a===void 0?3:a,u=new g6({currentPage:0,total:0,padding:o}),l={};function c(f){var m=f.nbPages;return s!==void 0?Math.min(s,m):m}return{$$type:"ais.pagination",init:function(m){var h=m.instantSearchInstance;e(Nr(Nr({},this.getWidgetRenderState(m)),{},{instantSearchInstance:h}),!0)},render:function(m){var h=m.instantSearchInstance;e(Nr(Nr({},this.getWidgetRenderState(m)),{},{instantSearchInstance:h}),!1)},dispose:function(m){var h=m.state;return i(),h.setQueryParameter("page",void 0)},getWidgetUiState:function(m,h){var g=h.searchParameters,p=g.page||0;return p?Nr(Nr({},m),{},{page:p+1}):m},getWidgetSearchParameters:function(m,h){var g=h.uiState,p=g.page?g.page-1:0;return m.setQueryParameter("page",p)},getWidgetRenderState:function(m){var h=m.results,g=m.helper,p=m.state,_=m.createURL;l.refine||(l.refine=function(E){g.setPage(E),g.search()}),l.createURL||(l.createURL=function(E){return _(function(C){return Nr(Nr({},C),{},{page:E+1})})});var y=p.page||0,T=c(h||{nbPages:0});return u.currentPage=y,u.total=T,{createURL:l.createURL,refine:l.refine,canRefine:T>1,currentRefinement:y,nbHits:(h==null?void 0:h.nbHits)||0,nbPages:T,pages:h?u.pages():[],isFirstPage:u.isFirstPage(),isLastPage:u.isLastPage(),widgetParams:r}},getRenderState:function(m,h){return Nr(Nr({},m),{},{pagination:this.getWidgetRenderState(h)})}}}};function Zu(t){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(t)}function mS(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function si(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?mS(Object(i),!0).forEach(function(r){Bc(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):mS(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Bc(t,e,i){return e=T6(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function T6(t){var e=E6(t,"string");return Zu(e)=="symbol"?e:String(e)}function E6(t,e){if(Zu(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ys(t,e){return A6(t)||C6(t,e)||w6(t,e)||x6()}function x6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w6(t,e){if(t){if(typeof t=="string")return gS(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return gS(t,e)}}function gS(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function C6(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,a,o=[],u=!0,l=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;u=!1}else for(;!(u=(r=s.call(i)).done)&&(o.push(r.value),o.length!==e);u=!0);}catch(c){l=!0,n=c}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(l)throw n}}return o}}function A6(t){if(Array.isArray(t))return t}var yp=bt({name:"range-input",connector:!0},{name:"range-slider",connector:!0}),P6="ais.range";function yS(t){var e=t.min,i=t.max,r=t.precision,n=Math.pow(10,r);return{min:e&&Math.floor(e*n)/n,max:i&&Math.ceil(i*n)/n}}var O6=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt;return $t(e,yp()),function(r){var n=r||{},s=n.attribute,a=s===void 0?"":s,o=n.min,u=n.max,l=n.precision,c=l===void 0?0:l;if(!a)throw new Error(yp("The `attribute` option is required."));if(ht(o)&&ht(u)&&o>u)throw new Error(yp("The `max` option can't be lower than `min`."));var f=function(E){return Number(Number(E).toFixed(c))},m={from:function(E){return E.toLocaleString()},to:function(E){return f(E).toLocaleString()}},h=function(E,C,R,I){var D=E.state,O=C.min,w=C.max,P=D.getNumericRefinement(a,">=")||[],L=Ys(P,1),M=L[0],j=D.getNumericRefinement(a,"<=")||[],Q=Ys(j,1),Z=Q[0],J=R===void 0||R==="",H=I===void 0||I==="",W=yS({min:J?void 0:parseFloat(R),max:H?void 0:parseFloat(I),precision:c}),G=W.min,Y=W.max,ie;!ht(o)&&O===G?ie=void 0:ht(o)&&J?ie=o:ie=G;var me;!ht(u)&&w===Y?me=void 0:ht(u)&&H?me=u:me=Y;var Te=ie===void 0,Ce=ht(O)&&O<=ie,ge=Te||ht(ie)&&(!ht(O)||Ce),Oe=me===void 0,re=ht(me)&&w>=me,ce=Oe||ht(me)&&(!ht(w)||re),_e=M!==ie,Ee=Z!==me;return(_e||Ee)&&ge&&ce?(D=D.removeNumericRefinement(a),ht(ie)&&(D=D.addNumericRefinement(a,">=",ie)),ht(me)&&(D=D.addNumericRefinement(a,"<=",me)),D.resetPage()):null},g=function(E){return function(){if(arguments.length===1){E.sendEventToInsights(arguments.length<=0?void 0:arguments[0]);return}}};function p(T){var E;ht(o)?E=o:ht(T.min)?E=T.min:E=0;var C;return ht(u)?C=u:ht(T.max)?C=T.max:C=0,yS({min:E,max:C,precision:c})}function _(T){var E=T.getNumericRefinement(a,">=")||[],C=Ys(E,1),R=C[0],I=T.getNumericRefinement(a,"<=")||[],D=Ys(I,1),O=D[0],w=ht(R)?R:-1/0,P=ht(O)?O:1/0;return[w,P]}function y(T,E){return function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[void 0,void 0],R=Ys(C,2),I=R[0],D=R[1],O=h(T,E,I,D);O&&T.setState(O).search()}}return{$$type:P6,init:function(E){e(si(si({},this.getWidgetRenderState(E)),{},{instantSearchInstance:E.instantSearchInstance}),!0)},render:function(E){e(si(si({},this.getWidgetRenderState(E)),{},{instantSearchInstance:E.instantSearchInstance}),!1)},getRenderState:function(E,C){return si(si({},E),{},{range:si(si({},E.range),{},Bc({},a,this.getWidgetRenderState(C)))})},getWidgetRenderState:function(E){var C=E.results,R=E.helper,I=E.instantSearchInstance,D=C&&C.disjunctiveFacets||[],O=An(D,function(j){return j.name===a}),w=O&&O.stats||{min:void 0,max:void 0},P=p(w),L=_(R),M;return C?M=y(R,P):M=y(R,{min:void 0,max:void 0}),{refine:M,canRefine:P.min!==P.max,format:m,range:P,sendEvent:g(I),widgetParams:si(si({},r),{},{precision:c}),start:L}},dispose:function(E){var C=E.state;return i(),C.removeDisjunctiveFacet(a).removeNumericRefinement(a)},getWidgetUiState:function(E,C){var R=C.searchParameters,I=R.getNumericRefinements(a),D=I[">="],O=D===void 0?[]:D,w=I["<="],P=w===void 0?[]:w;return O.length===0&&P.length===0?E:si(si({},E),{},{range:si(si({},E.range),{},Bc({},a,"".concat(O,":").concat(P)))})},getWidgetSearchParameters:function(E,C){var R=C.uiState,I=E.addDisjunctiveFacet(a).setQueryParameters({numericRefinements:si(si({},E.numericRefinements),{},Bc({},a,{}))});ht(o)&&(I=I.addNumericRefinement(a,">=",o)),ht(u)&&(I=I.addNumericRefinement(a,"<=",u));var D=R.range&&R.range[a];if(!D||D.indexOf(":")===-1)return I;var O=D.split(":").map(parseFloat),w=Ys(O,2),P=w[0],L=w[1];return ht(P)&&(!ht(o)||o<P)&&(I=I.removeNumericRefinement(a,">="),I=I.addNumericRefinement(a,">=",P)),ht(L)&&(!ht(u)||L<u)&&(I=I.removeNumericRefinement(a,"<="),I=I.addNumericRefinement(a,"<=",L)),I}}}};function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}var R6=["name","escapedValue"],D6=["escapedValue","value"];function vS(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function yt(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?vS(Object(i),!0).forEach(function(r){tu(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):vS(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function tu(t,e,i){return e=I6(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function I6(t){var e=k6(t,"string");return el(e)=="symbol"?e:String(e)}function k6(t,e){if(el(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _S(t,e){if(t==null)return{};var i=L6(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function L6(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}var _c=bt({name:"refinement-list",connector:!0}),bS=["isRefined","count:desc","name:asc"],N6=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt;return $t(e,_c()),function(r){var n=r||{},s=n.attribute,a=n.operator,o=a===void 0?"or":a,u=n.limit,l=u===void 0?10:u,c=n.showMore,f=c===void 0?!1:c,m=n.showMoreLimit,h=m===void 0?20:m,g=n.sortBy,p=g===void 0?bS:g,_=n.escapeFacetValues,y=_===void 0?!0:_,T=n.transformItems,E=T===void 0?function(H){return H}:T;if(!s)throw new Error(_c("The `attribute` option is required."));if(!/^(and|or)$/.test(o))throw new Error(_c('The `operator` must one of: `"and"`, `"or"` (got "'.concat(o,'").')));if(f===!0&&h<=l)throw new Error(_c("`showMoreLimit` should be greater than `limit`."));var C=function(W){var G=W.name,Y=W.escapedValue,ie=_S(W,R6);return yt(yt({},ie),{},{value:Y,label:G,highlighted:G})},R,I=[],D=!0,O,w,P=!1,L=function(){};function M(){L()}function j(H,W){return function(){P=!P,W.render(H)}}function Q(){return P?h:l}var Z=function(){return function(){}},J=function(W,G){return function(Y){return function(ie){var me=Y.instantSearchInstance,Te=Y.results;if(ie===""&&I)e(yt(yt({},G.getWidgetRenderState(yt(yt({},Y),{},{results:R}))),{},{instantSearchInstance:me}),!1);else{var Ce={highlightPreTag:y?rn.highlightPreTag:pi.highlightPreTag,highlightPostTag:y?rn.highlightPostTag:pi.highlightPostTag};W.searchForFacetValues(s,ie,Math.min(Q(),100),Ce).then(function(ge){var Oe=y?L8(ge.facetHits):ge.facetHits,re=E(Oe.map(function(ce){var _e=ce.escapedValue,Ee=ce.value,Fe=_S(ce,D6);return yt(yt({},Fe),{},{value:_e,label:Ee})}),{results:Te});e(yt(yt({},G.getWidgetRenderState(yt(yt({},Y),{},{results:R}))),{},{items:re,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:me}),!1)})}}}};return{$$type:"ais.refinementList",init:function(W){e(yt(yt({},this.getWidgetRenderState(W)),{},{instantSearchInstance:W.instantSearchInstance}),!0)},render:function(W){e(yt(yt({},this.getWidgetRenderState(W)),{},{instantSearchInstance:W.instantSearchInstance}),!1)},getRenderState:function(W,G){return yt(yt({},W),{},{refinementList:yt(yt({},W.refinementList),{},tu({},s,this.getWidgetRenderState(G)))})},getWidgetRenderState:function(W){var G=this,Y=W.results,ie=W.state,me=W.createURL,Te=W.instantSearchInstance,Ce=W.helper,ge=[],Oe=[];if((!w||!O||!Z)&&(w=ry({instantSearchInstance:Te,helper:Ce,attribute:s,widgetType:this.$$type}),O=function(pe){w("click:internal",pe),Ce.toggleFacetRefinement(s,pe).search()},Z=J(Ce,this)),Y){var re=Y.getFacetValues(s,{sortBy:p,facetOrdering:p===bS});Oe=re&&Array.isArray(re)?re:[],ge=E(Oe.slice(0,Q()).map(C),{results:Y});var ce=ie.maxValuesPerFacet,_e=Q();D=ce>_e?Oe.length<=_e:Oe.length<_e,R=Y,I=ge,W.results&&(L=j(W,this))}var Ee=Z&&Z(W),Fe=P&&I.length>l,B=f&&!D,z=Fe||B;return{createURL:function(pe){return me(function(he){return G.getWidgetUiState(he,{searchParameters:ie.resetPage().toggleFacetRefinement(s,pe),helper:Ce})})},items:ge,refine:O,searchForItems:Ee,isFromSearch:!1,canRefine:ge.length>0,widgetParams:r,isShowingMore:P,canToggleShowMore:z,toggleShowMore:M,sendEvent:w,hasExhaustiveItems:D}},dispose:function(W){var G=W.state;i();var Y=G.setQueryParameter("maxValuesPerFacet",void 0);return o==="and"?Y.removeFacet(s):Y.removeDisjunctiveFacet(s)},getWidgetUiState:function(W,G){var Y=G.searchParameters,ie=o==="or"?Y.getDisjunctiveRefinements(s):Y.getConjunctiveRefinements(s);return F6(yt(yt({},W),{},{refinementList:yt(yt({},W.refinementList),{},tu({},s,ie))}),s)},getWidgetSearchParameters:function(W,G){var Y=G.uiState,ie=o==="or";if(W.isHierarchicalFacet(s)||ie&&W.isConjunctiveFacet(s)||!ie&&W.isDisjunctiveFacet(s))return W;var me=Y.refinementList&&Y.refinementList[s],Te=ie?W.addDisjunctiveFacet(s).removeDisjunctiveFacetRefinement(s):W.addFacet(s).removeFacetRefinement(s),Ce=Te.maxValuesPerFacet||0,ge=Math.max(Ce,f?h:l),Oe=Te.setQueryParameter("maxValuesPerFacet",ge);if(!me){var re=ie?"disjunctiveFacetsRefinements":"facetsRefinements";return Oe.setQueryParameters(tu({},re,yt(yt({},Oe[re]),{},tu({},s,[]))))}return me.reduce(function(ce,_e){return ie?ce.addDisjunctiveFacetRefinement(s,_e):ce.addFacetRefinement(s,_e)},Oe)}}}};function F6(t,e){return t.refinementList&&((!t.refinementList[e]||t.refinementList[e].length===0)&&delete t.refinementList[e],Object.keys(t.refinementList).length===0&&delete t.refinementList),t}function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}function SS(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Un(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?SS(Object(i),!0).forEach(function(r){M6(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):SS(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function M6(t,e,i){return e=$6(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function $6(t){var e=j6(t,"string");return tl(e)=="symbol"?e:String(e)}function j6(t,e){if(tl(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B6=bt({name:"search-box",connector:!0}),U6=function(e,i){return i(e)},H6=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt;return $t(e,B6()),function(r){var n=r||{},s=n.queryHook,a=s===void 0?U6:s,o,u;return{$$type:"ais.searchBox",init:function(c){var f=c.instantSearchInstance;e(Un(Un({},this.getWidgetRenderState(c)),{},{instantSearchInstance:f}),!0)},render:function(c){var f=c.instantSearchInstance;e(Un(Un({},this.getWidgetRenderState(c)),{},{instantSearchInstance:f}),!1)},dispose:function(c){var f=c.state;return i(),f.setQueryParameter("query",void 0)},getRenderState:function(c,f){return Un(Un({},c),{},{searchBox:this.getWidgetRenderState(f)})},getWidgetRenderState:function(c){var f=c.helper,m=c.instantSearchInstance,h=c.state;return o||(o=function(p){a(p,function(_){return f.setQuery(_).search()})},u=function(){f.setQuery("").search()}),{query:h.query||"",refine:o,clear:u,widgetParams:r,isSearchStalled:m.status==="stalled"}},getWidgetUiState:function(c,f){var m=f.searchParameters,h=m.query||"";return h===""||c&&c.query===h?c:Un(Un({},c),{},{query:h})},getWidgetSearchParameters:function(c,f){var m=f.uiState;return c.setQueryParameter("query",m.query||"")}}}};function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}function TS(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Hn(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?TS(Object(i),!0).forEach(function(r){q6(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):TS(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function q6(t,e,i){return e=V6(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function V6(t){var e=W6(t,"string");return il(e)=="symbol"?e:String(e)}function W6(t,e){if(il(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ES=bt({name:"sort-by",connector:!0}),z6=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt;$t(e,ES());var r={};return function(n){var s=n||{},a=s.items,o=s.transformItems,u=o===void 0?function(l){return l}:o;if(!Array.isArray(a))throw new Error(ES("The `items` option expects an array of objects."));return{$$type:"ais.sortBy",init:function(c){var f=c.instantSearchInstance,m=this.getWidgetRenderState(c),h=m.currentRefinement;An(a,function(g){return g.value===h}),e(Hn(Hn({},m),{},{instantSearchInstance:f}),!0)},render:function(c){var f=c.instantSearchInstance;e(Hn(Hn({},this.getWidgetRenderState(c)),{},{instantSearchInstance:f}),!1)},dispose:function(c){var f=c.state;return i(),r.initialIndex?f.setIndex(r.initialIndex):f},getRenderState:function(c,f){return Hn(Hn({},c),{},{sortBy:this.getWidgetRenderState(f)})},getWidgetRenderState:function(c){var f=c.results,m=c.helper,h=c.state,g=c.parent;!r.initialIndex&&g&&(r.initialIndex=g.getIndexName()),r.setIndex||(r.setIndex=function(_){m.setIndex(_).search()});var p=f?f.nbHits===0:!0;return{currentRefinement:h.index,options:u(a,{results:f}),refine:r.setIndex,hasNoResults:p,canRefine:!p&&a.length>0,widgetParams:n}},getWidgetUiState:function(c,f){var m=f.searchParameters,h=m.index;return Hn(Hn({},c),{},{sortBy:h!==r.initialIndex?h:void 0})},getWidgetSearchParameters:function(c,f){var m=f.uiState;return c.setQueryParameter("index",m.sortBy||r.initialIndex||c.index)}}}};function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function G6(t){return X6(t)||Q6(t)||$w(t)||K6()}function K6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q6(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function X6(t){if(Array.isArray(t))return jm(t)}function xS(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function wi(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?xS(Object(i),!0).forEach(function(r){Uc(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):xS(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Uc(t,e,i){return e=Y6(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Y6(t){var e=J6(t,"string");return rl(e)=="symbol"?e:String(e)}function J6(t,e){if(rl(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mw(t,e){return tU(t)||eU(t,e)||$w(t,e)||Z6()}function Z6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $w(t,e){if(t){if(typeof t=="string")return jm(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return jm(t,e)}}function jm(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function eU(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,a,o=[],u=!0,l=!1;try{if(s=(i=i.call(t)).next,e!==0)for(;!(u=(r=s.call(i)).done)&&(o.push(r.value),o.length!==e);u=!0);}catch(c){l=!0,n=c}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(l)throw n}}return o}}function tU(t){if(Array.isArray(t))return t}var wS=bt({name:"rating-menu",connector:!0}),jw="ais.ratingMenu",bc=1,iU=function(e){var i=e.instantSearchInstance,r=e.helper,n=e.getRefinedStar,s=e.attribute;return function(){for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];if(o.length===1){i.sendEventToInsights(o[0]);return}var l=o[1],c=o[2],f=c===void 0?"Filter Applied":c,m=o[0].split(":"),h=Mw(m,2),g=h[0],p=h[1];if(g==="click"){var _=n()===Number(l);if(!_){var y;i.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:jw,eventType:g,eventModifier:p,payload:{eventName:f,index:((y=r.lastResults)===null||y===void 0?void 0:y.index)||r.state.index,filters:["".concat(s,">=").concat(l)]},attribute:s})}}}},rU=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt;return $t(e,wS()),function(r){var n=r||{},s=n.attribute,a=n.max,o=a===void 0?5:a,u;if(!s)throw new Error(wS("The `attribute` option is required."));var l=function(p){var _,y=p.getNumericRefinements(s);if((_=y[">="])!==null&&_!==void 0&&_.length)return y[">="][0]},c=function(p){var _=0;return p.forEach(function(y){var T=y.name.split("."),E=Mw(T,2),C=E[1],R=C===void 0?"":C;_=Math.max(_,R.length)}),_};function f(g,p){var _=l(g)===Number(p),y=g.resetPage().removeNumericRefinement(s);return _?y:y.addNumericRefinement(s,"<=",o).addNumericRefinement(s,">=",Number(p))}var m=function(p,_){u("click:internal",_),p.setState(f(p.state,_)).search()},h={toggleRefinementFactory:function(p){return m.bind(null,p)},createURLFactory:function(p){var _=p.state,y=p.createURL,T=p.getWidgetUiState,E=p.helper;return function(C){return y(function(R){return T(R,{searchParameters:f(_,C),helper:E})})}}};return{$$type:jw,init:function(p){var _=p.instantSearchInstance;e(wi(wi({},this.getWidgetRenderState(p)),{},{instantSearchInstance:_}),!0)},render:function(p){var _=p.instantSearchInstance;e(wi(wi({},this.getWidgetRenderState(p)),{},{instantSearchInstance:_}),!1)},getRenderState:function(p,_){return wi(wi({},p),{},{ratingMenu:wi(wi({},p.ratingMenu),{},Uc({},s,this.getWidgetRenderState(_)))})},getWidgetRenderState:function(p){var _=p.helper,y=p.results,T=p.state,E=p.instantSearchInstance,C=p.createURL,R=[];u||(u=iU({instantSearchInstance:E,helper:_,getRefinedStar:function(){return l(_.state)},attribute:s}));var I=!1,D=0,O=y==null?void 0:y.getFacetValues(s,{});if(y&&O){O.length,c(O);for(var w=l(T),P=function(Z){var J=w===Z;I=I||J;var H=O.filter(function(G){return Number(G.name)>=Z&&Number(G.name)<=o}).map(function(G){return G.count}).reduce(function(G,Y){return G+Y},0);if(D+=H,w&&!J&&H===0)return"continue";var W=G6(new Array(Math.floor(o/bc))).map(function(G,Y){return Y*bc<Z});R.push({stars:W,name:String(Z),label:String(Z),value:String(Z),count:H,isRefined:J})},L=bc;L<o;L+=bc)var M=P(L)}R=R.reverse();var j=y?y.nbHits===0:!0;return{items:R,hasNoResults:j,canRefine:(!j||I)&&D>0,refine:h.toggleRefinementFactory(_),sendEvent:u,createURL:h.createURLFactory({state:T,createURL:C,helper:_,getWidgetUiState:this.getWidgetUiState}),widgetParams:r}},dispose:function(p){var _=p.state;return i(),_.removeNumericRefinement(s)},getWidgetUiState:function(p,_){var y=_.searchParameters,T=l(y);return nU(wi(wi({},p),{},{ratingMenu:wi(wi({},p.ratingMenu),{},Uc({},s,typeof T=="number"?T:void 0))}),s)},getWidgetSearchParameters:function(p,_){var y=_.uiState,T=y.ratingMenu&&y.ratingMenu[s],E=p.addDisjunctiveFacet(s).removeNumericRefinement(s).removeDisjunctiveFacetRefinement(s);return T?E.addNumericRefinement(s,"<=",o).addNumericRefinement(s,">=",T):E.setQueryParameters({numericRefinements:wi(wi({},E.numericRefinements),{},Uc({},s,{}))})}}}};function nU(t,e){return t.ratingMenu&&(typeof t.ratingMenu[e]!="number"&&delete t.ratingMenu[e],Object.keys(t.ratingMenu).length===0&&delete t.ratingMenu),t}function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function CS(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Js(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?CS(Object(i),!0).forEach(function(r){sU(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):CS(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function sU(t,e,i){return e=aU(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function aU(t){var e=oU(t,"string");return nl(e)=="symbol"?e:String(e)}function oU(t,e){if(nl(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uU=bt({name:"stats",connector:!0}),lU=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt;return $t(e,uU()),function(r){return{$$type:"ais.stats",init:function(s){var a=s.instantSearchInstance;e(Js(Js({},this.getWidgetRenderState(s)),{},{instantSearchInstance:a}),!0)},render:function(s){var a=s.instantSearchInstance;e(Js(Js({},this.getWidgetRenderState(s)),{},{instantSearchInstance:a}),!1)},dispose:function(){i()},getRenderState:function(s,a){return Js(Js({},s),{},{stats:this.getWidgetRenderState(a)})},getWidgetRenderState:function(s){var a=s.results,o=s.state;return a?{hitsPerPage:a.hitsPerPage,nbHits:a.nbHits,nbSortedHits:a.nbSortedHits,areHitsSorted:typeof a.appliedRelevancyStrictness<"u"&&a.appliedRelevancyStrictness>0&&a.nbSortedHits!==a.nbHits,nbPages:a.nbPages,page:a.page,processingTimeMS:a.processingTimeMS,query:a.query,widgetParams:r}:{hitsPerPage:o.hitsPerPage,nbHits:0,nbSortedHits:void 0,areHitsSorted:!1,nbPages:0,page:o.page||0,processingTimeMS:-1,query:o.query||"",widgetParams:r}}}}};function sl(t){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(t)}function AS(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Ci(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?AS(Object(i),!0).forEach(function(r){Hc(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):AS(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Hc(t,e,i){return e=cU(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function cU(t){var e=dU(t,"string");return sl(e)=="symbol"?e:String(e)}function dU(t,e){if(sl(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hU(t,e){return gU(t)||mU(t,e)||pU(t,e)||fU()}function fU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pU(t,e){if(t){if(typeof t=="string")return PS(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return PS(t,e)}}function PS(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function mU(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,a,o=[],u=!0,l=!1;try{if(s=(i=i.call(t)).next,e!==0)for(;!(u=(r=s.call(i)).done)&&(o.push(r.value),o.length!==e);u=!0);}catch(c){l=!0,n=c}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(l)throw n}}return o}}function gU(t){if(Array.isArray(t))return t}var OS=bt({name:"toggle-refinement",connector:!0}),Bw="ais.toggleRefinement",yU=function(e){var i=e.instantSearchInstance,r=e.helper,n=e.attribute,s=e.on,a=function(){for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];if(l.length===1){i.sendEventToInsights(l[0]);return}var f=l[1],m=l[2],h=m===void 0?"Filter Applied":m,g=l[0].split(":"),p=hU(g,2),_=p[0],y=p[1];if(!(_!=="click"||s===void 0)&&!f){var T;i.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:Bw,eventType:_,eventModifier:y,payload:{eventName:h,index:((T=r.lastResults)===null||T===void 0?void 0:T.index)||r.state.index,filters:s.map(function(E){return"".concat(n,":").concat(E)})},attribute:n})}};return a},vU=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt;return $t(e,OS()),function(r){var n=r||{},s=n.attribute,a=n.on,o=a===void 0?!0:a,u=n.off;if(!s)throw new Error(OS("The `attribute` option is required."));var l=u!==void 0,c=Ff(o).map(Jo),f=l?Ff(u).map(Jo):void 0,m,h=function(_){return function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{isRefined:!1},T=y.isRefined;T?(c.forEach(function(E){return _.removeDisjunctiveFacetRefinement(s,E)}),l&&f.forEach(function(E){return _.addDisjunctiveFacetRefinement(s,E)})):(m("click:internal",T),l&&f.forEach(function(E){return _.removeDisjunctiveFacetRefinement(s,E)}),c.forEach(function(E){return _.addDisjunctiveFacetRefinement(s,E)})),_.search()}},g={createURLFactory:function(_,y){var T=y.state,E=y.createURL,C=y.getWidgetUiState,R=y.helper;return function(){T=T.resetPage();var I=_?c:f;I&&I.forEach(function(O){T=T.removeDisjunctiveFacetRefinement(s,O)});var D=_?f:c;return D&&D.forEach(function(O){T=T.addDisjunctiveFacetRefinement(s,O)}),E(function(O){return C(O,{searchParameters:T,helper:R})})}}};return{$$type:Bw,init:function(_){var y=_.instantSearchInstance;e(Ci(Ci({},this.getWidgetRenderState(_)),{},{instantSearchInstance:y}),!0)},render:function(_){var y=_.instantSearchInstance;e(Ci(Ci({},this.getWidgetRenderState(_)),{},{instantSearchInstance:y}),!1)},dispose:function(_){var y=_.state;return i(),y.removeDisjunctiveFacet(s)},getRenderState:function(_,y){return Ci(Ci({},_),{},{toggleRefinement:Ci(Ci({},_.toggleRefinement),{},Hc({},s,this.getWidgetRenderState(y)))})},getWidgetRenderState:function(_){var y=_.state,T=_.helper,E=_.results,C=_.createURL,R=_.instantSearchInstance,I=E?c.every(function(Q){return y.isDisjunctiveFacetRefined(s,Q)}):c.every(function(Q){return y.isDisjunctiveFacetRefined(s,Q)}),D={isRefined:I,count:0},O={isRefined:l&&!I,count:0};if(E){var w=Ff(f||!1),P=E.getFacetValues(s,{})||[],L=c.map(function(Q){return An(P,function(Z){var J=Z.escapedValue;return J===Jo(String(Q))})}).filter(function(Q){return Q!==void 0}),M=l?w.map(function(Q){return An(P,function(Z){var J=Z.escapedValue;return J===Jo(String(Q))})}).filter(function(Q){return Q!==void 0}):[];D={isRefined:L.length?L.every(function(Q){return Q.isRefined}):!1,count:L.reduce(function(Q,Z){return Q+Z.count},0)||null},O={isRefined:M.length?M.every(function(Q){return Q.isRefined}):!1,count:M.reduce(function(Q,Z){return Q+Z.count},0)||P.reduce(function(Q,Z){var J=Z.count;return Q+J},0)}}m||(m=yU({instantSearchInstance:R,attribute:s,on:c,helper:T}));var j=I?O:D;return{value:{name:s,isRefined:I,count:E?j.count:null,onFacetValue:D,offFacetValue:O},createURL:g.createURLFactory(I,{state:y,createURL:C,helper:T,getWidgetUiState:this.getWidgetUiState}),sendEvent:m,canRefine:!!(E&&j.count),refine:h(T),widgetParams:r}},getWidgetUiState:function(_,y){var T=y.searchParameters,E=c&&c.every(function(R){return T.isDisjunctiveFacetRefined(s,R)});if(!E){var C;return(C=_.toggle)===null||C===void 0||delete C[s],_}return Ci(Ci({},_),{},{toggle:Ci(Ci({},_.toggle),{},Hc({},s,E))})},getWidgetSearchParameters:function(_,y){var T=y.uiState;if(_.isHierarchicalFacet(s)||_.isConjunctiveFacet(s))return _;var E=_.addDisjunctiveFacet(s).removeDisjunctiveFacetRefinement(s),C=!!(T.toggle&&T.toggle[s]);return C?(c&&c.forEach(function(R){E=E.addDisjunctiveFacetRefinement(s,R)}),E):l?(f&&f.forEach(function(R){E=E.addDisjunctiveFacetRefinement(s,R)}),E):E.setQueryParameters({disjunctiveFacetsRefinements:Ci(Ci({},_.disjunctiveFacetsRefinements),{},Hc({},s,[]))})}}}};function al(t){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}function RS(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Ai(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?RS(Object(i),!0).forEach(function(r){qc(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):RS(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function qc(t,e,i){return e=_U(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _U(t){var e=bU(t,"string");return al(e)=="symbol"?e:String(e)}function bU(t,e){if(al(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DS(t,e){return xU(t)||EU(t,e)||TU(t,e)||SU()}function SU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TU(t,e){if(t){if(typeof t=="string")return IS(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return IS(t,e)}}function IS(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function EU(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,a,o=[],u=!0,l=!1;try{if(s=(i=i.call(t)).next,e!==0)for(;!(u=(r=s.call(i)).done)&&(o.push(r.value),o.length!==e);u=!0);}catch(c){l=!0,n=c}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(l)throw n}}return o}}function xU(t){if(Array.isArray(t))return t}var kS=bt({name:"breadcrumb",connector:!0}),wU=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt;$t(e,kS());var r={};return function(n){var s=n||{},a=s.attributes,o=s.separator,u=o===void 0?" > ":o,l=s.rootPath,c=l===void 0?null:l,f=s.transformItems,m=f===void 0?function(_){return _}:f;if(!a||!Array.isArray(a)||a.length===0)throw new Error(kS("The `attributes` option expects an array of strings."));var h=DS(a,1),g=h[0];function p(_,y){if(!y){var T=_.getHierarchicalFacetBreadcrumb(g);return T.length===0?_:_.resetPage().toggleFacetRefinement(g,T[0])}return _.resetPage().toggleFacetRefinement(g,y)}return{$$type:"ais.breadcrumb",init:function(y){e(Ai(Ai({},this.getWidgetRenderState(y)),{},{instantSearchInstance:y.instantSearchInstance}),!0)},render:function(y){e(Ai(Ai({},this.getWidgetRenderState(y)),{},{instantSearchInstance:y.instantSearchInstance}),!1)},dispose:function(){i()},getRenderState:function(y,T){return Ai(Ai({},y),{},{breadcrumb:Ai(Ai({},y.breadcrumb),{},qc({},g,this.getWidgetRenderState(T)))})},getWidgetRenderState:function(y){var T=this,E=y.helper,C=y.createURL,R=y.results,I=y.state;function D(){if(!R||I.hierarchicalFacets.length===0)return[];var w=DS(I.hierarchicalFacets,1),P=w[0].name,L=R.getFacetValues(P,{}),M=L&&!Array.isArray(L)&&L.data?L.data:[],j=m(CU(Uw(M)),{results:R});return j}var O=D();return r.createURL||(r.createURL=function(w){return C(function(P){return T.getWidgetUiState(P,{searchParameters:p(E.state,w),helper:E})})}),r.refine||(r.refine=function(w){E.setState(p(E.state,w)).search()}),{canRefine:O.length>0,createURL:r.createURL,items:O,refine:r.refine,widgetParams:n}},getWidgetUiState:function(y,T){var E=T.searchParameters,C=E.getHierarchicalFacetBreadcrumb(g);return AU(Ai(Ai({},y),{},{hierarchicalMenu:Ai(Ai({},y.hierarchicalMenu),{},qc({},g,C))}),g)},getWidgetSearchParameters:function(y,T){var E=T.uiState,C=E.hierarchicalMenu&&E.hierarchicalMenu[g];if(y.isConjunctiveFacet(g)||y.isDisjunctiveFacet(g))return y;y.isHierarchicalFacet(g)&&y.getHierarchicalFacetByName(g);var R=y.removeHierarchicalFacet(g).addHierarchicalFacet({name:g,attributes:a,separator:u,rootPath:c});return C?R.addHierarchicalFacetRefinement(g,C.join(u)):R.setQueryParameters({hierarchicalFacetsRefinements:Ai(Ai({},R.hierarchicalFacetsRefinements),{},qc({},g,[]))})}}}};function Uw(t){return t.reduce(function(e,i){return i.isRefined&&(e.push({label:i.name,value:i.escapedValue}),Array.isArray(i.data)&&(e=e.concat(Uw(i.data)))),e},[])}function CU(t){return t.map(function(e,i){return{label:e.label,value:i+1===t.length?null:t[i+1].value}})}function AU(t,e){return t.hierarchicalMenu&&((!t.hierarchicalMenu[e]||!t.hierarchicalMenu[e].length)&&delete t.hierarchicalMenu[e],Object.keys(t.hierarchicalMenu).length===0&&delete t.hierarchicalMenu),t}function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}function LS(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Yi(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?LS(Object(i),!0).forEach(function(r){Hw(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):LS(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Hw(t,e,i){return e=PU(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function PU(t){var e=OU(t,"string");return ol(e)=="symbol"?e:String(e)}function OU(t,e){if(ol(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RU=bt({name:"autocomplete",connector:!0}),DU=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt;return $t(e,RU()),function(r){var n=r||{},s=n.escapeHTML,a=s===void 0?!0:s,o={};return{$$type:"ais.autocomplete",init:function(l){var c=l.instantSearchInstance;e(Yi(Yi({},this.getWidgetRenderState(l)),{},{instantSearchInstance:c}),!0)},render:function(l){var c=l.instantSearchInstance,f=this.getWidgetRenderState(l);f.indices.forEach(function(m){var h=m.sendEvent,g=m.hits;h("view:internal",g)}),e(Yi(Yi({},f),{},{instantSearchInstance:c}),!1)},getRenderState:function(l,c){return Yi(Yi({},l),{},{autocomplete:this.getWidgetRenderState(c)})},getWidgetRenderState:function(l){var c=this,f=l.helper,m=l.state,h=l.scopedResults,g=l.instantSearchInstance;o.refine||(o.refine=function(_){f.setQuery(_).search()});var p=h.map(function(_){var y,T;_.results&&(_.results.hits=a?iy(_.results.hits):_.results.hits);var E=ny({instantSearchInstance:g,helper:_.helper,widgetType:c.$$type});return{indexId:_.indexId,indexName:((y=_.results)===null||y===void 0?void 0:y.index)||"",hits:((T=_.results)===null||T===void 0?void 0:T.hits)||[],results:_.results||{},sendEvent:E}});return{currentRefinement:m.query||"",indices:p,refine:o.refine,widgetParams:r}},getWidgetUiState:function(l,c){var f=c.searchParameters,m=f.query||"";return m===""||l&&l.query===m?l:Yi(Yi({},l),{},{query:m})},getWidgetSearchParameters:function(l,c){var f=c.uiState,m={query:f.query||""};return a?l.setQueryParameters(Yi(Yi({},m),rn)):l.setQueryParameters(m)},dispose:function(l){var c=l.state;i();var f=c.setQueryParameter("query",void 0);return a?f.setQueryParameters(Object.keys(rn).reduce(function(m,h){return Yi(Yi({},m),{},Hw({},h,void 0))},{})):f}}}};function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function NS(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Xn(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?NS(Object(i),!0).forEach(function(r){IU(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):NS(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function IU(t,e,i){return e=kU(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function kU(t){var e=LU(t,"string");return ul(e)=="symbol"?e:String(e)}function LU(t,e){if(ul(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xd(t){return $U(t)||MU(t)||FU(t)||NU()}function NU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FU(t,e){if(t){if(typeof t=="string")return Bm(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Bm(t,e)}}function MU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $U(t){if(Array.isArray(t))return Bm(t)}function Bm(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var FS=bt({name:"query-rules",connector:!0});function jU(t){return[t.disjunctiveFacetsRefinements,t.facetsRefinements,t.hierarchicalFacetsRefinements,t.numericRefinements].some(function(e){return!!(e&&Object.keys(e).length>0)})}function BU(t){return t.replace(/[^a-z0-9-_]+/gi,"_")}function UU(t){var e=t.helper,i=t.sharedHelperState,r=t.trackedFilters,n=Object.keys(r).reduce(function(s,a){var o=ay(e.lastResults||{},i,!0).filter(function(c){return c.attribute===a}).map(function(c){return c.numericValue||c.name}),u=r[a],l=u(o);return[].concat(xd(s),xd(o.filter(function(c){return l.includes(c)}).map(function(c){return BU("ais-".concat(a,"-").concat(c))})))},[]);return n}function HU(t){var e=this.helper,i=this.initialRuleContexts,r=this.trackedFilters,n=this.transformRuleContexts,s=t.state,a=s.ruleContexts||[],o=UU({helper:e,sharedHelperState:s,trackedFilters:r}),u=[].concat(xd(i),xd(o)),l=n(u).slice(0,10);Al(a,l)||e.overrideStateWithoutTriggeringChangeEvent(Xn(Xn({},s),{},{ruleContexts:l}))}var qw=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt;return $t(e,FS()),function(r){var n=r||{},s=n.trackedFilters,a=s===void 0?{}:s,o=n.transformRuleContexts,u=o===void 0?function(g){return g}:o,l=n.transformItems,c=l===void 0?function(g){return g}:l;Object.keys(a).forEach(function(g){if(typeof a[g]!="function")throw new Error(FS(`'The "`.concat(g,'" filter value in the `trackedFilters` option expects a function.')))});var f=Object.keys(a).length>0,m=[],h;return{$$type:"ais.queryRules",init:function(p){var _=p.helper,y=p.state,T=p.instantSearchInstance;m=y.ruleContexts||[],h=HU.bind({helper:_,initialRuleContexts:m,trackedFilters:a,transformRuleContexts:u}),f&&((jU(y)||r.transformRuleContexts)&&h({state:y}),_.on("change",h)),e(Xn(Xn({},this.getWidgetRenderState(p)),{},{instantSearchInstance:T}),!0)},render:function(p){var _=p.instantSearchInstance;e(Xn(Xn({},this.getWidgetRenderState(p)),{},{instantSearchInstance:_}),!1)},getWidgetRenderState:function(p){var _=p.results,y=_||{},T=y.userData,E=T===void 0?[]:T,C=c(E,{results:_});return{items:C,widgetParams:r}},getRenderState:function(p,_){return Xn(Xn({},p),{},{queryRules:this.getWidgetRenderState(_)})},dispose:function(p){var _=p.helper,y=p.state;return i(),f?(_.removeListener("change",h),y.setQueryParameter("ruleContexts",m)):y}}}};function ll(t){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}function MS(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function $S(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?MS(Object(i),!0).forEach(function(r){qU(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):MS(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function qU(t,e,i){return e=VU(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function VU(t){var e=WU(t,"string");return ll(e)=="symbol"?e:String(e)}function WU(t,e){if(ll(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zU=function(e){var i=e.searchAsYouSpeak,r=e.language,n=e.onQueryChange,s=e.onStateChange,a=window.webkitSpeechRecognition||window.SpeechRecognition,o=function(D){return{status:D,transcript:"",isSpeechFinal:!1,errorCode:void 0}},u=o("initial"),l,c=function(){return!!a},f=function(){return u.status==="askingPermission"||u.status==="waiting"||u.status==="recognizing"},m=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};u=$S($S({},u),D),s()},h=function(){return u},g=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"initial";m(o(D))},p=function(){m({status:"waiting"})},_=function(D){m({status:"error",errorCode:D.error})},y=function(D){m({status:"recognizing",transcript:D.results[0]&&D.results[0][0]&&D.results[0][0].transcript||"",isSpeechFinal:D.results[0]&&D.results[0].isFinal}),i&&u.transcript&&n(u.transcript)},T=function(){!u.errorCode&&u.transcript&&!i&&n(u.transcript),u.status!=="error"&&m({status:"finished"})},E=function(){l=new a,l&&(g("askingPermission"),l.interimResults=!0,r&&(l.lang=r),l.addEventListener("start",p),l.addEventListener("error",_),l.addEventListener("result",y),l.addEventListener("end",T),l.start())},C=function(){l&&(l.stop(),l.removeEventListener("start",p),l.removeEventListener("error",_),l.removeEventListener("result",y),l.removeEventListener("end",T),l=void 0)},R=function(){C(),g("finished")};return{getState:h,isBrowserSupported:c,isListening:f,startListening:E,stopListening:R,dispose:C}};function cl(t){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(t)}function jS(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Ji(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?jS(Object(i),!0).forEach(function(r){GU(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):jS(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function GU(t,e,i){return e=KU(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function KU(t){var e=QU(t,"string");return cl(e)=="symbol"?e:String(e)}function QU(t,e){if(cl(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XU=bt({name:"voice-search",connector:!0}),YU=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt;return $t(e,XU()),function(r){var n=r.searchAsYouSpeak,s=n===void 0?!1:n,a=r.language,o=r.additionalQueryParameters,u=r.createVoiceSearchHelper,l=u===void 0?zU:u;return{$$type:"ais.voiceSearch",init:function(f){var m=f.instantSearchInstance;e(Ji(Ji({},this.getWidgetRenderState(f)),{},{instantSearchInstance:m}),!0)},render:function(f){var m=f.instantSearchInstance;e(Ji(Ji({},this.getWidgetRenderState(f)),{},{instantSearchInstance:m}),!1)},getRenderState:function(f,m){return Ji(Ji({},f),{},{voiceSearch:this.getWidgetRenderState(m)})},getWidgetRenderState:function(f){var m=this,h=f.helper,g=f.instantSearchInstance;this._refine||(this._refine=function(R){if(R!==h.state.query){var I=a?[a.split("-")[0]]:void 0;h.setQueryParameter("queryLanguages",I),typeof o=="function"&&h.setState(h.state.setQueryParameters(Ji({ignorePlurals:!0,removeStopWords:!0,optionalWords:R},o({query:R})))),h.setQuery(R).search()}}),this._voiceSearchHelper||(this._voiceSearchHelper=l({searchAsYouSpeak:s,language:a,onQueryChange:function(I){return m._refine(I)},onStateChange:function(){e(Ji(Ji({},m.getWidgetRenderState(f)),{},{instantSearchInstance:g}),!1)}}));var p=this._voiceSearchHelper,_=p.isBrowserSupported,y=p.isListening,T=p.startListening,E=p.stopListening,C=p.getState;return{isBrowserSupported:_(),isListening:y(),toggleListening:function(){_()&&(y()?E():T())},voiceListeningState:C(),widgetParams:r}},dispose:function(f){var m=f.state;this._voiceSearchHelper.dispose(),i();var h=m;if(typeof o=="function"){var g=o({query:""}),p=g?Object.keys(g).reduce(function(_,y){return _[y]=void 0,_},{}):{};h=m.setQueryParameters(Ji({queryLanguages:void 0,ignorePlurals:void 0,removeStopWords:void 0,optionalWords:void 0},p))}return h.setQueryParameter("query",void 0)},getWidgetUiState:function(f,m){var h=m.searchParameters,g=h.query||"";return g?Ji(Ji({},f),{},{query:g}):f},getWidgetSearchParameters:function(f,m){var h=m.uiState;return f.setQueryParameter("query",h.query||"")}}}};function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function BS(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function qn(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?BS(Object(i),!0).forEach(function(r){JU(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):BS(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function JU(t,e,i){return e=ZU(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ZU(t){var e=e7(t,"string");return dl(e)=="symbol"?e:String(e)}function e7(t,e){if(dl(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t7=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tt,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt;return function(r){var n={};return{$$type:"ais.relevantSort",init:function(a){var o=a.instantSearchInstance;e(qn(qn({},this.getWidgetRenderState(a)),{},{instantSearchInstance:o}),!0)},render:function(a){var o=a.instantSearchInstance;e(qn(qn({},this.getWidgetRenderState(a)),{},{instantSearchInstance:o}),!1)},dispose:function(a){var o=a.state;return i(),o.setQueryParameter("relevancyStrictness",void 0)},getRenderState:function(a,o){return qn(qn({},a),{},{relevantSort:this.getWidgetRenderState(o)})},getWidgetRenderState:function(a){var o=a.results,u=a.helper;n.refine||(n.refine=function(m){u.setQueryParameter("relevancyStrictness",m).search()});var l=o||{},c=l.appliedRelevancyStrictness,f=c!==void 0;return{isRelevantSorted:typeof c<"u"&&c>0,isVirtualReplica:f,canRefine:f,refine:n.refine,widgetParams:r}},getWidgetSearchParameters:function(a,o){var u,l=o.uiState;return a.setQueryParameter("relevancyStrictness",(u=l.relevantSort)!==null&&u!==void 0?u:a.relevancyStrictness)},getWidgetUiState:function(a,o){var u=o.searchParameters;return qn(qn({},a),{},{relevantSort:u.relevancyStrictness||a.relevantSort})}}}},i7=uo(E5);const Vw={name:"AisAutocomplete",mixins:[pt({connector:DU},{$$widgetType:"ais.autocomplete"}),it({name:"Autocomplete"})],props:{escapeHTML:{type:Boolean,required:!1,default:!0}},computed:{widgetParams:function(){return{escapeHTML:this.escapeHTML}}}};var r7=X("p",null," This widget doesn't render anything without a filled in default slot. ",-1),n7=X("p",null,"query, function to refine and results are provided.",-1),s7=X("pre",null,"refine: Function",-1),a7=X("summary",null,[X("code",null,"indices"),Rt(":")],-1);function o7(t,e,i,r,n,s){return t.state?(ne(),ae("div",{key:0,class:ue(t.suit())},[Re(t.$slots,"default",{refine:t.state.refine,currentRefinement:t.state.currentRefinement,indices:t.state.indices},function(){return[r7,n7,s7,X("pre",null,'currentRefinement: "'+je(t.state.currentRefinement)+'"',1),X("details",null,[a7,X("pre",null,je(t.state.indices),1)])]})],2)):Le("",!0)}Vw.render=o7;function u7(t){return{all:t=t||new Map,on:function(e,i){var r=t.get(e);r&&r.push(i)||t.set(e,[i])},off:function(e,i){var r=t.get(e);r&&r.splice(r.indexOf(i)>>>0,1)},emit:function(e,i){(t.get(e)||[]).slice().map(function(r){r(i)}),(t.get("*")||[]).slice().map(function(r){r(e,i)})}}}var l7=function(){var t;return(t={props:{emitter:{type:Object,required:!1,default:function(){return u7()}}},provide:function(){var e;return(e={}).instantSearchPanelEmitter=this.emitter,e},data:function(){return{canRefine:!0}},created:function(){var e=this;this.emitter.on("PANEL_CHANGE_EVENT",function(i){e.updateCanRefine(i)})}}).beforeUnmount=function(){this.emitter.all.clear()},t.methods={updateCanRefine:function(e){this.canRefine=e}},t},Li=function(t){t===void 0&&(t={});var e=t.mapStateToCanRefine;return e===void 0&&(e=function(i){return!!i.canRefine}),{inject:{emitter:{from:"instantSearchPanelEmitter",default:function(){return{emit:function(){}}}}},data:function(){return{state:null,hasAlreadyEmitted:!1}},watch:{state:{immediate:!0,handler:function(i,r){if(i){var n=e(r||{}),s=e(i);this.hasAlreadyEmitted&&n===s||(this.emitter.emit("PANEL_CHANGE_EVENT",s),this.hasAlreadyEmitted=!0)}}}}}};const Ww={name:"AisBreadcrumb",mixins:[pt({connector:wU},{$$widgetType:"ais.breadcrumb"}),Li(),it({name:"Breadcrumb"})],props:{attributes:{type:Array,required:!0},separator:{type:String,default:void 0},rootPath:{type:String,default:void 0},transformItems:{type:Function,default:void 0}},computed:{widgetParams:function(){return{attributes:this.attributes,separator:this.separator,rootPath:this.rootPath,transformItems:this.transformItems}}},methods:{isLastItem:function(t){return this.state.items.length-1===t}}};var c7=["href"],d7=["href"],h7=["href","onClick"];function f7(t,e,i,r,n,s){return t.state?(ne(),ae("div",{key:0,class:ue([t.suit(),!t.state.canRefine&&t.suit("","noRefinement")])},[Re(t.$slots,"default",{items:t.state.items,canRefine:t.state.canRefine,refine:t.state.refine,createURL:t.state.createURL},function(){return[X("ul",{class:ue(t.suit("list"))},[X("li",{class:ue([t.suit("item"),!t.state.items.length&&t.suit("item","selected")])},[t.state.items.length?(ne(),ae("a",{key:0,href:t.state.createURL(),class:ue(t.suit("link")),onClick:e[0]||(e[0]=Kt(function(a){return t.state.refine()},["exact","left","prevent"]))},[Re(t.$slots,"rootLabel",{},function(){return[Rt("Home")]})],10,c7)):(ne(),ae("a",{key:1,href:t.state.createURL(null),class:ue(t.suit("link")),onClick:e[1]||(e[1]=Kt(function(a){return t.state.refine(null)},["exact","left","prevent"]))},[Re(t.$slots,"rootLabel",{},function(){return[Rt("Home")]})],10,d7))],2),(ne(!0),ae(We,null,Pt(t.state.items,function(a,o){return ne(),ae("li",{key:a.label,class:ue([t.suit("item"),s.isLastItem(o)&&t.suit("item","selected")])},[X("span",{class:ue(t.suit("separator")),"aria-hidden":"true"},[Re(t.$slots,"separator",{},function(){return[Rt(">")]})],2),s.isLastItem(o)?(ne(),ae(We,{key:1},[Rt(je(a.label),1)],64)):(ne(),ae("a",{key:0,href:t.state.createURL(a.value),class:ue(t.suit("link")),onClick:Kt(function(u){return t.state.refine(a.value)},["exact","left","prevent"])},je(a.label),11,h7))],2)}),128))],2)]})],2)):Le("",!0)}Ww.render=f7;const zw={name:"AisClearRefinements",mixins:[pt({connector:F5},{$$widgetType:"ais.clearRefinements"}),Li(),it({name:"ClearRefinements"})],props:{excludedAttributes:{type:Array,default:void 0},includedAttributes:{type:Array,default:void 0},transformItems:{type:Function,default:void 0}},computed:{widgetParams:function(){return{includedAttributes:this.includedAttributes,excludedAttributes:this.excludedAttributes,transformItems:this.transformItems}},canRefine:function(){return this.state.hasRefinements}}};var p7=["disabled"];function m7(t,e,i,r,n,s){return t.state?(ne(),ae("div",{key:0,class:ue(t.suit())},[Re(t.$slots,"default",{canRefine:s.canRefine,refine:t.state.refine,createURL:t.state.createURL},function(){return[X("button",{type:"reset",class:ue([t.suit("button"),!s.canRefine&&t.suit("button","disabled")]),disabled:!s.canRefine,onClick:e[0]||(e[0]=Kt(function(){for(var a,o=[],u=arguments.length;u--;)o[u]=arguments[u];return t.state.refine&&(a=t.state).refine.apply(a,o)},["prevent"]))},[Re(t.$slots,"resetLabel",{},function(){return[Rt(" Clear refinements ")]})],10,p7)]})],2)):Le("",!0)}zw.render=m7;const g7={inheritAttrs:!1,name:"AisConfigure",mixins:[it({name:"Configure"}),pt({connector:ww},{$$widgetType:"ais.configure"})],computed:{widgetParams:function(){return{searchParameters:Object.assign({},this.$attrs)}}},render:oo(function(t){var e=this.$slots.default;return this.state&&e?t("div",{class:this.suit()},[e({refine:this.state.refine,searchParameters:this.state.widgetParams.searchParameters})]):null})},y7={inheritAttrs:!1,name:"AisExperimentalConfigureRelatedItems",mixins:[pt({connector:i7},{$$widgetType:"ais.configureRelatedItems"})],props:{hit:{type:Object,required:!0},matchingPatterns:{type:Object,required:!0},transformSearchParameters:{type:Function,required:!1}},computed:{widgetParams:function(){return{hit:this.hit,matchingPatterns:this.matchingPatterns,transformSearchParameters:this.transformSearchParameters}}},render:function(){return null}},Gw={name:"AisCurrentRefinements",mixins:[it({name:"CurrentRefinements"}),pt({connector:z5},{$$widgetType:"ais.currentRefinements"}),Li()],props:{includedAttributes:{type:Array,default:void 0},excludedAttributes:{type:Array,default:void 0},transformItems:{type:Function,default:void 0}},computed:{noRefinement:function(){return this.state&&this.state.items.length===0},widgetParams:function(){return{includedAttributes:this.includedAttributes,excludedAttributes:this.excludedAttributes,transformItems:this.transformItems}}},methods:{createItemKey:function(t){var e=t.attribute,i=t.value;return[e,t.type,i,t.operator].join(":")},capitalize:function(t){return t?t.toString().charAt(0).toLocaleUpperCase()+t.toString().slice(1):""}}};var v7={key:0},_7=["onClick"];function b7(t,e,i,r,n,s){return t.state?(ne(),ae("div",{key:0,class:ue([t.suit(),s.noRefinement&&t.suit("","noRefinement")])},[Re(t.$slots,"default",{refine:t.state.refine,items:t.state.items,createURL:t.state.createURL},function(){return[X("ul",{class:ue(t.suit("list"))},[(ne(!0),ae(We,null,Pt(t.state.items,function(a){return ne(),ae("li",{key:a.attribute,class:ue(t.suit("item"))},[Re(t.$slots,"item",{refine:a.refine,item:a,createURL:t.state.createURL},function(){return[X("span",{class:ue(t.suit("label"))},je(s.capitalize(a.label))+": ",3),(ne(!0),ae(We,null,Pt(a.refinements,function(o){return ne(),ae("span",{key:s.createItemKey(o),class:ue(t.suit("category"))},[Re(t.$slots,"refinement",{refine:a.refine,refinement:o,createURL:t.state.createURL},function(){return[X("span",{class:ue(t.suit("categoryLabel"))},[o.attribute==="query"?(ne(),ae("q",v7,je(o.label),1)):(ne(),ae(We,{key:1},[Rt(je(o.label),1)],64))],2),X("button",{class:ue(t.suit("delete")),type:"button",onClick:Kt(function(u){return a.refine(o)},["left","exact"])},"  ",10,_7)]})],2)}),128))]})],2)}),128))],2)]})],2)):Le("",!0)}Gw.render=b7;const Kw={name:"HierarchicalMenuList",props:{items:{type:Array,required:!0},level:{type:Number,required:!0},refine:{type:Function,required:!0},createURL:{type:Function,required:!0},suit:{type:Function,required:!0}}};var S7=["href","onClick"];function T7(t,e,i,r,n,s){var a=Jr("hierarchical-menu-list",!0);return i.items.length>0?(ne(),ae("ul",{key:0,class:ue([i.suit("list"),i.level>0&&i.suit("list","child"),i.suit("list","lvl"+i.level)])},[(ne(!0),ae(We,null,Pt(i.items,function(o){return ne(),ae("li",{key:o.value,class:ue([i.suit("item"),o.isRefined&&i.suit("item","selected"),o.data&&o.data.length>0&&i.suit("item","parent")])},[X("a",{href:i.createURL(o.value),class:ue([i.suit("link"),o.isRefined&&i.suit("link","selected")]),onClick:Kt(function(u){return i.refine(o.value)},["exact","left","prevent"])},[X("span",{class:ue(i.suit("label"))},je(o.label),3),X("span",{class:ue(i.suit("count"))},je(o.count),3)],10,S7),o.data?(ne(),Xt(a,{key:0,items:o.data,level:i.level+1,refine:i.refine,createURL:i.createURL,suit:i.suit},null,8,["items","level","refine","createURL","suit"])):Le("",!0)],2)}),128))],2)):Le("",!0)}Kw.render=T7;const Qw={name:"AisHierarchicalMenu",mixins:[it({name:"HierarchicalMenu"}),pt({connector:aB},{$$widgetType:"ais.hierarchicalMenu"}),Li()],components:{HierarchicalMenuList:Kw},props:{attributes:{type:Array,required:!0},limit:{type:Number,default:void 0},showMoreLimit:{type:Number,default:void 0},showMore:{type:Boolean,default:!1},sortBy:{type:[Array,Function],default:void 0},separator:{type:String,default:void 0},rootPath:{type:String,default:void 0},showParentLevel:{type:Boolean,default:void 0},transformItems:{type:Function,default:void 0}},computed:{widgetParams:function(){return{attributes:this.attributes,limit:this.limit,showMore:this.showMore,showMoreLimit:this.showMoreLimit,separator:this.separator,rootPath:this.rootPath,showParentLevel:this.showParentLevel,sortBy:this.sortBy,transformItems:this.transformItems}}}};var E7=["disabled"];function x7(t,e,i,r,n,s){var a=Jr("hierarchical-menu-list");return t.state?(ne(),ae("div",{key:0,class:ue([t.suit(),!t.state.canRefine&&t.suit("","noRefinement")])},[Re(t.$slots,"default",{items:t.state.items,canRefine:t.state.canRefine,canToggleShowMore:t.state.canToggleShowMore,isShowingMore:t.state.isShowingMore,refine:t.state.refine,createURL:t.state.createURL,toggleShowMore:t.state.toggleShowMore,sendEvent:t.state.sendEvent},function(){return[rt(a,{items:t.state.items,level:0,refine:t.state.refine,createURL:t.state.createURL,suit:t.suit},null,8,["items","refine","createURL","suit"]),i.showMore?(ne(),ae("button",{key:0,class:ue([t.suit("showMore"),!t.state.canToggleShowMore&&t.suit("showMore","disabled")]),disabled:!t.state.canToggleShowMore,onClick:e[0]||(e[0]=Kt(function(){for(var o,u=[],l=arguments.length;l--;)u[l]=arguments[l];return t.state.toggleShowMore&&(o=t.state).toggleShowMore.apply(o,u)},["prevent"]))},[Re(t.$slots,"showMoreLabel",{isShowingMore:t.state.isShowingMore},function(){return[Rt(je(t.state.isShowingMore?"Show less":"Show more"),1)]})],10,E7)):Le("",!0)]})],2)):Le("",!0)}Qw.render=x7;function w7(t,e){if(t==null)return{};var i={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;i[r]=t[r]}return i}function Xw(t,e){if(t==null)return{};var i,r,n=w7(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],e.indexOf(i)===-1&&{}.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function Hr(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.reduce(function(r,n){return Array.isArray(n)?r.concat(n):r.concat([n])},[]).filter(Boolean).join(" ")}var C7=["parts","highlightedTagName","nonHighlightedTagName","separator","className","classNames"];function A7(t){var e=t.createElement;return function(r){var n=r.classNames,s=r.children,a=r.highlightedTagName,o=r.isHighlighted,u=r.nonHighlightedTagName,l=o?a:u;return e(l,{className:o?n.highlighted:n.nonHighlighted},s)}}function P7(t){var e=t.createElement,i=t.Fragment,r=A7({createElement:e});return function(s){var a=s.parts,o=s.highlightedTagName,u=o===void 0?"mark":o,l=s.nonHighlightedTagName,c=l===void 0?"span":l,f=s.separator,m=f===void 0?", ":f,h=s.className,g=s.classNames,p=g===void 0?{}:g,_=Xw(s,C7);return e("span",Ot({},_,{className:Hr(p.root,h)}),a.map(function(y,T){var E=T===a.length-1;return e(i,{key:T},y.map(function(C,R){return e(r,{key:R,classNames:p,highlightedTagName:u,nonHighlightedTagName:c,isHighlighted:C.isHighlighted},C.value)}),!E&&e("span",{className:p.separator},m))}))}}var O7=["classNames","hits","itemComponent","sendEvent","emptyComponent","banner","bannerComponent"];function R7(t){var e=t.createElement;return function(r){var n=r.classNames,s=r.banner;return s.image.urls[0].url?e("aside",{className:Hr("ais-Hits-banner",n.bannerRoot)},s.link?e("a",{className:Hr("ais-Hits-banner-link",n.bannerLink),href:s.link.url,target:s.link.target},e("img",{className:Hr("ais-Hits-banner-image",n.bannerImage),src:s.image.urls[0].url,alt:s.image.title})):e("img",{className:Hr("ais-Hits-banner-image",n.bannerImage),src:s.image.urls[0].url,alt:s.image.title})):null}}function D7(t){var e=t.createElement,i=R7({createElement:e});return function(n){var s=n.classNames,a=s===void 0?{}:s,o=n.hits,u=n.itemComponent,l=n.sendEvent,c=n.emptyComponent,f=n.banner,m=n.bannerComponent,h=Xw(n,O7);return e("div",Ot({},h,{className:Hr("ais-Hits",a.root,o.length===0&&Hr("ais-Hits--empty",a.emptyRoot),h.className)}),f&&(m?e(m,{className:Hr("ais-Hits-banner",a.bannerRoot),banner:f}):e(i,{classNames:a,banner:f})),o.length===0&&c?e(c,null):e("ol",{className:Hr("ais-Hits-list",a.list)},o.map(function(g,p){return e(u,{key:g.objectID,hit:g,index:p,className:Hr("ais-Hits-item",a.item),onClick:function(){l("click:internal",g,"Hit Clicked")},onAuxClick:function(){l("click:internal",g,"Hit Clicked")}})})))}}var Yw=function(t,e,i){if(!i)return Os(t,e);if(t===We)return Os(t,Array.isArray(i)?i:[i]);var r=typeof i=="string"?{default:function(){return i}}:i,n=typeof t=="string"?e:Object.assign(e,{children:i});return Os(t,n,r)},I7=P7({createElement:Yw,Fragment:We});const Jw={name:"AisHighlighter",props:{hit:{type:Object,required:!0},attribute:{type:String,required:!0},highlightedTagName:{type:String,default:"mark"},suit:{type:Function,required:!0},highlightProperty:{type:String,required:!0},preTag:{type:String,required:!0},postTag:{type:String,required:!0}},render:function(){var t=lo(this.hit[this.highlightProperty],this.attribute)||[],e=(Array.isArray(t)?t:[t]).map(function(i){return sy(rw(i.value||"")).map(function(r){var n=r.value;return{value:n===" "?"  ":n,isHighlighted:r.isHighlighted}})});return Yw(I7,{classNames:{root:this.suit(),highlighted:this.suit("highlighted")},highlightedTagName:this.highlightedTagName,nonHighlightedTagName:We,parts:e})}},py={name:"AisHighlight",mixins:[it({name:"Highlight"})],components:{AisHighlighter:Jw},props:{hit:{type:Object,required:!0},attribute:{type:String,required:!0},highlightedTagName:{type:String,default:"mark"}}};function k7(t,e,i,r,n,s){var a=Jr("ais-highlighter");return ne(),Xt(a,{hit:i.hit,attribute:i.attribute,"highlighted-tag-name":i.highlightedTagName,suit:t.suit,"highlight-property":"_highlightResult","pre-tag":"<mark>","post-tag":"</mark>"},null,8,["hit","attribute","highlighted-tag-name","suit"])}py.render=k7;const L7={name:"AisHits",mixins:[pt({connector:SB},{$$widgetType:"ais.hits"}),it({name:"Hits"})],props:{showBanner:{type:Boolean,default:!0},escapeHTML:{type:Boolean,default:!0},transformItems:{type:Function,default:void 0}},computed:{widgetParams:function(){return{showBanner:this.showBanner,escapeHTML:this.escapeHTML,transformItems:this.transformItems}}},render:oo(function(t){var e=this;if(!this.state)return null;var i=If(this,"default"),r=If(this,"item"),n=If(this,"banner");return r||n||!i?t(D7({createElement:t}),{hits:this.state.items,itemComponent:function(s){var a=s.hit,o=s.index,u=s.onClick,l=s.onAuxClick,c=(s.key,function(f,m){var h={};for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&m.indexOf(g)===-1&&(h[g]=f[g]);return h}(s,["hit","index","onClick","onAuxClick","key"]));return t("li",{key:a.objectID,attrs:c,on:{click:u,auxclick:l}},[r&&r({item:a,index:o,insights:e.state.insights,sendEvent:e.state.sendEvent})||"objectID: "+a.objectID+", index: "+o])},banner:this.showBanner?this.state.banner:void 0,bannerComponent:n,sendEvent:this.state.sendEvent,classNames:this.classNames&&{root:this.classNames["ais-Hits"],list:this.classNames["ais-Hits-list"],item:this.classNames["ais-Hits-item"],bannerRoot:this.classNames["ais-Hits-banner"],bannerImage:this.classNames["ais-Hits-banner-image"],bannerLink:this.classNames["ais-Hits-banner-link"]}}):t("div",{attrs:{class:this.suit()}},[i({banner:this.state.banner,items:this.state.items,insights:this.state.insights,sendEvent:this.state.sendEvent})])})},Zw={name:"AisHitsPerPage",mixins:[it({name:"HitsPerPage"}),pt({connector:RB},{$$widgetType:"ais.hitsPerPage"}),Li()],props:{items:{type:Array,required:!0},transformItems:{type:Function,default:void 0}},computed:{widgetParams:function(){return{items:this.items,transformItems:this.transformItems}}}};var N7=["value","selected"];function F7(t,e,i,r,n,s){return t.state?(ne(),ae("div",{key:0,class:ue(t.suit())},[Re(t.$slots,"default",{items:t.state.items,refine:t.state.refine,hasNoResults:t.state.hasNoResults,canRefine:t.state.canRefine,createURL:t.state.createURL},function(){return[X("select",{class:ue(t.suit("select")),onChange:e[0]||(e[0]=function(a){return t.state.refine(Number(a.currentTarget.value))})},[(ne(!0),ae(We,null,Pt(t.state.items,function(a){return ne(),ae("option",{key:a.value,class:ue(t.suit("option")),value:a.value,selected:a.isRefined},je(a.label),11,N7)}),128))],34)]})],2)):Le("",!0)}Zw.render=F7;function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}var M7=["initialSearchParameters"],$7=["initialRecommendParameters"];function US(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Br(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?US(Object(i),!0).forEach(function(r){da(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):US(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function da(t,e,i){return e=j7(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function j7(t){var e=B7(t,"string");return hl(e)=="symbol"?e:String(e)}function B7(t,e){if(hl(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eC(t){return V7(t)||q7(t)||H7(t)||U7()}function U7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H7(t,e){if(t){if(typeof t=="string")return Um(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Um(t,e)}}function q7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function V7(t){if(Array.isArray(t))return Um(t)}function Um(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function tC(t,e){if(t==null)return{};var i=W7(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function W7(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}var qo=bt({name:"index-widget"});function iC(t,e){var i=e.state,r=e.recommendState,n=e.isPageReset,s=e._uiState;i!==t.state&&(t.state=i,t.emit("change",{state:t.state,results:t.lastResults,isPageReset:n,_uiState:s})),r!==t.recommendState&&(t.recommendState=r)}function Vo(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t.reduce(function(r,n){return Bi(n)||!n.getWidgetUiState&&!n.getWidgetState?r:n.getWidgetUiState?n.getWidgetUiState(r,e):n.getWidgetState(r,e)},i)}function Wo(t,e){var i=e.initialSearchParameters,r=tC(e,M7);return t.reduce(function(n,s){return!s.getWidgetSearchParameters||Bi(s)?n:s.dependsOn==="search"&&s.getWidgetParameters?s.getWidgetParameters(n,r):s.getWidgetSearchParameters(n,r)},i)}function HS(t,e){var i=e.initialRecommendParameters,r=tC(e,$7);return t.reduce(function(n,s){return!Bi(s)&&s.dependsOn==="recommend"&&s.getWidgetParameters?s.getWidgetParameters(n,r):n},i)}function rC(t){var e=t.filter(Bi);e.length!==0&&e.forEach(function(i){var r=i.getHelper();iC(r,{state:r.state.resetPage(),recommendState:r.recommendState,isPageReset:!0}),rC(i.getWidgets())})}function nC(t){var e=t.filter(Bi);return e.reduce(function(i,r){return i.concat.apply(i,[{indexId:r.getIndexId(),results:r.getResults(),helper:r.getHelper()}].concat(eC(nC(r.getWidgets()))))},[])}var sC=function(e){if(e===void 0||e.indexName===void 0)throw new Error(qo("The `indexName` option is required."));var i=e.indexName,r=e.indexId,n=r===void 0?i:r,s=[],a={},o=null,u=null,l=null,c=null,f=null,m=!1,h=!1;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return i},getIndexId:function(){return n},getHelper:function(){return l},getResults:function(){var p;return(p=c)!==null&&p!==void 0&&p.lastResults?(c.lastResults._state=l.state,c.lastResults):null},getResultsForWidget:function(p){var _;return p.dependsOn!=="recommend"||Bi(p)||p.$$id===void 0?this.getResults():(_=l)!==null&&_!==void 0&&_.lastRecommendResults?l.lastRecommendResults[p.$$id]:null},getPreviousState:function(){return f},getScopedResults:function(){var p=this.getParent(),_;return p?_=p.getWidgets():i.length===0?_=this.getWidgets():_=[this],nC(_)},getParent:function(){return u},createURL:function(p){return typeof p=="function"?o._createURL(da({},n,p(a))):o._createURL(da({},n,Vo(s,{searchParameters:p,helper:l})))},getWidgets:function(){return s},addWidgets:function(p){var _=this;if(!Array.isArray(p))throw new Error(qo("The `addWidgets` method expects an array of widgets."));if(p.some(function(y){return typeof y.init!="function"&&typeof y.render!="function"}))throw new Error(qo("The widget definition expects a `render` and/or an `init` method."));return p.forEach(function(y){Bi(y)||(o&&y.dependsOn==="recommend"?o._hasRecommendWidget=!0:o?o._hasSearchWidget=!0:y.dependsOn==="recommend"?m=!0:h=!0,T8(y))}),s=s.concat(p),o&&p.length&&(iC(l,{state:Wo(s,{uiState:a,initialSearchParameters:l.state}),recommendState:HS(s,{uiState:a,initialRecommendParameters:l.recommendState}),_uiState:a}),p.forEach(function(y){if(y.getRenderState){var T=y.getRenderState(o.renderState[_.getIndexId()]||{},Zo(o,_,o._initialUiState));vp({renderState:T,instantSearchInstance:o,parent:_})}}),p.forEach(function(y){y.init&&y.init(Zo(o,_,o._initialUiState))}),o.scheduleSearch()),this},removeWidgets:function(p){var _=this;if(!Array.isArray(p))throw new Error(qo("The `removeWidgets` method expects an array of widgets."));if(p.some(function(R){return typeof R.dispose!="function"}))throw new Error(qo("The widget definition expects a `dispose` method."));if(s=s.filter(function(R){return p.indexOf(R)===-1}),s.forEach(function(R){Bi(R)||(o&&R.dependsOn==="recommend"?o._hasRecommendWidget=!0:o?o._hasSearchWidget=!0:R.dependsOn==="recommend"?m=!0:h=!0)}),o&&p.length){var y=p.reduce(function(R,I){var D=I.dispose({helper:l,state:R.cleanedSearchState,recommendState:R.cleanedRecommendState,parent:_});return D instanceof ai.RecommendParameters?R.cleanedRecommendState=D:D&&(R.cleanedSearchState=D),R},{cleanedSearchState:l.state,cleanedRecommendState:l.recommendState}),T=y.cleanedSearchState,E=y.cleanedRecommendState,C=o.future.preserveSharedStateOnUnmount?Wo(s,{uiState:a,initialSearchParameters:new ai.SearchParameters({index:this.getIndexName()})}):Wo(s,{uiState:Vo(s,{searchParameters:T,helper:l}),initialSearchParameters:T});a=Vo(s,{searchParameters:C,helper:l}),l.setState(C),l.recommendState=E,s.length&&o.scheduleSearch()}return this},init:function(p){var _=this,y,T=p.instantSearchInstance,E=p.parent,C=p.uiState;if(l===null){o=T,u=E,a=C[n]||{};var R=T.mainHelper,I=Wo(s,{uiState:a,initialSearchParameters:new ai.SearchParameters({index:i})}),D=HS(s,{uiState:a,initialRecommendParameters:new ai.RecommendParameters});l=ai({},I.index,I),l.recommendState=D,l.search=function(){return T.onStateChange?(T.onStateChange({uiState:T.mainIndex.getWidgetUiState({}),setUiState:function(M){return T.setUiState(M,!1)}}),R):R.search()},l.searchWithoutTriggeringOnStateChange=function(){return R.search()},l.searchForFacetValues=function(L,M,j,Q){var Z=l.state.setQueryParameters(Q);return R.searchForFacetValues(L,M,j,Z)},c=R.derive(function(){return gu.apply(void 0,[R.state].concat(eC(Kj(_))))},function(){return _.getHelper().recommendState});var O=(y=T._initialResults)===null||y===void 0?void 0:y[this.getIndexId()];if(O!=null&&O.results){var w=new ai.SearchResults(new ai.SearchParameters(O.state),O.results);c.lastResults=w,l.lastResults=w}if(O!=null&&O.recommendResults){var P=new ai.RecommendResults(new ai.RecommendParameters({params:O.recommendResults.params}),O.recommendResults.results);c.lastRecommendResults=P,l.lastRecommendResults=P}l.on("change",function(L){var M=L.isPageReset;M&&rC(s)}),c.on("search",function(){T.scheduleStalledRender()}),c.on("result",function(L){var M=L.results;T.scheduleRender(),l.lastResults=M,f=M==null?void 0:M._state}),c.on("recommend:result",function(L){var M=L.recommend;T.scheduleRender(),l.lastRecommendResults=M.results}),s.forEach(function(L){if(L.getRenderState){var M=L.getRenderState(T.renderState[_.getIndexId()]||{},Zo(T,_,C));vp({renderState:M,instantSearchInstance:T,parent:_})}}),s.forEach(function(L){L.init&&L.init(Zo(T,_,C))}),l.on("change",function(L){var M=L.state,j=L._uiState;a=Vo(s,{searchParameters:M,helper:l},j||{}),T.onStateChange||T.onInternalStateChange()}),O&&T.scheduleRender(),m&&(T._hasRecommendWidget=!0),h&&(T._hasSearchWidget=!0)}},render:function(p){var _,y=this,T=p.instantSearchInstance;T.status==="error"&&!T.mainHelper.hasPendingRequests()&&f&&l.setState(f);var E=this.getResults()||(_=c)!==null&&_!==void 0&&_.lastRecommendResults?s:s.filter(Bi);E=E.filter(function(C){return C.shouldRender?C.shouldRender({instantSearchInstance:T}):!0}),E.forEach(function(C){if(C.getRenderState){var R=C.getRenderState(T.renderState[y.getIndexId()]||{},lb(T,y,C));vp({renderState:R,instantSearchInstance:T,parent:y})}}),E.forEach(function(C){C.render&&C.render(lb(T,y,C))})},dispose:function(){var p=this,_,y;s.forEach(function(T){T.dispose&&l&&T.dispose({helper:l,state:l.state,recommendState:l.recommendState,parent:p})}),o=null,u=null,(_=l)===null||_===void 0||_.removeAllListeners(),l=null,(y=c)===null||y===void 0||y.detach(),c=null},getWidgetUiState:function(p){return s.filter(Bi).reduce(function(_,y){return y.getWidgetUiState(_)},Br(Br({},p),{},da({},n,Br(Br({},p[n]),a))))},getWidgetState:function(p){return this.getWidgetUiState(p)},getWidgetSearchParameters:function(p,_){var y=_.uiState;return Wo(s,{uiState:y,initialSearchParameters:p})},refreshUiState:function(){a=Vo(s,{searchParameters:this.getHelper().state,helper:this.getHelper()},a)},setIndexUiState:function(p){var _=typeof p=="function"?p(a):p;o.setUiState(function(y){return Br(Br({},y),{},da({},n,_))})}}};function vp(t){var e=t.renderState,i=t.instantSearchInstance,r=t.parent,n=r?r.getIndexId():i.mainIndex.getIndexId();i.renderState=Br(Br({},i.renderState),{},da({},n,Br(Br({},i.renderState[n]),e)))}const z7={name:"AisIndex",mixins:[it({name:"Index"}),pt({connector:function(){return sC}},{$$widgetType:"ais.index"})],provide:function(){var t=this;return{$_ais_getParentIndex:function(){return t.widget}}},props:{indexName:{type:String,required:!0},indexId:{type:String,required:!1}},render:oo(function(t){return t("div",{},fh(this))}),computed:{widgetParams:function(){return{indexName:this.indexName,indexId:this.indexId}}}};var G7="ais",ph=function(e){return function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=i.descendantName,n=i.modifierName,s=r?"-".concat(r):"",a=n?"--".concat(n):"";return"".concat(G7,"-").concat(e).concat(s).concat(a)}},K7=ph("Highlight");function aC(t){var e=t.attribute,i=t.highlightedTagName,r=i===void 0?"mark":i,n=t.hit,s=t.cssClasses,a=s===void 0?{}:s,o=lo(n._highlightResult,e),u=o||{},l=u.value,c=l===void 0?"":l,f=K7({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return c.replace(new RegExp(pi.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(pi.highlightPostTag,"g"),"</".concat(r,">"))}var Q7=ph("ReverseHighlight");function oC(t){var e=t.attribute,i=t.highlightedTagName,r=i===void 0?"mark":i,n=t.hit,s=t.cssClasses,a=s===void 0?{}:s,o=lo(n._highlightResult,e),u=o||{},l=u.value,c=l===void 0?"":l,f=Q7({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):""),m=ow(mw(sy(c)));return m.replace(new RegExp(pi.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(pi.highlightPostTag,"g"),"</".concat(r,">"))}var X7=ph("Snippet");function uC(t){var e=t.attribute,i=t.highlightedTagName,r=i===void 0?"mark":i,n=t.hit,s=t.cssClasses,a=s===void 0?{}:s,o=lo(n._snippetResult,e),u=o||{},l=u.value,c=l===void 0?"":l,f=X7({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return c.replace(new RegExp(pi.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(pi.highlightPostTag,"g"),"</".concat(r,">"))}var Y7=ph("ReverseSnippet");function lC(t){var e=t.attribute,i=t.highlightedTagName,r=i===void 0?"mark":i,n=t.hit,s=t.cssClasses,a=s===void 0?{}:s,o=lo(n._snippetResult,e),u=o||{},l=u.value,c=l===void 0?"":l,f=Y7({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):""),m=ow(mw(sy(c)));return m.replace(new RegExp(pi.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(pi.highlightPostTag,"g"),"</".concat(r,">"))}function Hm(t){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(t)}var J7="_ALGOLIA";function Z7(t){if(!((typeof document>"u"?"undefined":Hm(document))!=="object"||typeof document.cookie!="string"))for(var e="".concat(t,"="),i=document.cookie.split(";"),r=0;r<i.length;r++){for(var n=i[r];n.charAt(0)===" ";)n=n.substring(1);if(n.indexOf(e)===0)return n.substring(e.length,n.length)}}function cC(){return Z7(J7)}function eH(){return cC()}var tH=["page"];function iH(t,e){if(t==null)return{};var i=rH(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function rH(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function qS(t){var e=t||{};e.page;var i=iH(e,tH);return i}function nH(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.key,i=["ais.infiniteHits",e].filter(Boolean).join(":");return{read:function(n){var s=n.state,a=Ur(function(u){var l=u.window;return l.sessionStorage});if(!a)return null;try{var o=JSON.parse(a.getItem(i));return o&&Al(o.state,qS(s))?o.hits:null}catch(u){if(u instanceof SyntaxError)try{a.removeItem(i)}catch{}return null}},write:function(n){var s=n.state,a=n.hits,o=Ur(function(u){var l=u.window;return l.sessionStorage});if(o)try{o.setItem(i,JSON.stringify({state:qS(s),hits:a}))}catch{}}}}var sH=uy();const aH=os(sH);function oH(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,i=t==="x"?e:e&3|8;return i.toString(16)})}function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function VS(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function bs(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?VS(Object(i),!0).forEach(function(r){uH(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):VS(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function uH(t,e,i){return e=lH(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function lH(t){var e=cH(t,"string");return fl(e)=="symbol"?e:String(e)}function cH(t,e){if(fl(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fn(t,e){return fH(t)||hH(t,e)||dC(t,e)||dH()}function dH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hH(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,a,o=[],u=!0,l=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;u=!1}else for(;!(u=(r=s.call(i)).done)&&(o.push(r.value),o.length!==e);u=!0);}catch(c){l=!0,n=c}finally{try{if(!u&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(l)throw n}}return o}}function fH(t){if(Array.isArray(t))return t}function pH(t){return yH(t)||gH(t)||dC(t)||mH()}function mH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dC(t,e){if(t){if(typeof t=="string")return qm(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return qm(t,e)}}function gH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yH(t){if(Array.isArray(t))return qm(t)}function qm(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var hC="2.17.2",vH="https://cdn.jsdelivr.net/npm/search-insights@".concat(hC,"/dist/search-insights.min.js");function WS(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.insightsClient,i=t.insightsInitParams,r=t.onEvent,n=t.$$internal,s=n===void 0?!1:n,a=t.$$automatic,o=a===void 0?!1:a,u=e;!e&&e!==null&&Ur(function(c){var f=c.window,m=f.AlgoliaAnalyticsObject||"aa";typeof m=="string"&&(u=f[m]),u||(f.AlgoliaAnalyticsObject=m,f[m]||(f[m]=function(){f[m].queue||(f[m].queue=[]);for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];f[m].queue.push(g)},f[m].version=hC,f[m].shouldAddScript=!0),u=f[m])});var l=u||tt;return function(c){var f=c.instantSearchInstance,m=f.middleware.filter(function(w){return w.instance.$$type==="ais.insights"&&w.instance.$$internal}).map(function(w){return w.creator});f.unuse.apply(f,pH(m));var h=Y_(f.client),g=fn(h,2),p=g[0],_=g[1],y=void 0,T=void 0,E=void 0,C=l.queue;if(Array.isArray(C)){var R=["setUserToken","init"].map(function(w){var P=An(C.slice().reverse(),function(j){var Q=fn(j,1),Z=Q[0];return Z===w})||[],L=fn(P,2),M=L[1];return M}),I=fn(R,2);T=I[0],y=I[1]}l("getUserToken",null,function(w,P){E=GS(P)}),(i||!zS(l))&&l("init",bs({appId:p,apiKey:_,partial:!0},i));var D,O;return{$$type:"ais.insights",$$internal:s,$$automatic:o,onStateChange:function(){},subscribe:function(){if(l.shouldAddScript){var P="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var L=document.createElement("script");L.async=!0,L.src=vH,L.onerror=function(){f.emit("error",new Error(P))},document.body.appendChild(L),l.shouldAddScript=!1}catch{l.shouldAddScript=!1,f.emit("error",new Error(P))}}},started:function(){l("addAlgoliaAgent","insights-middleware"),O=f.mainHelper;var P=l.queue;if(Array.isArray(P)){var L=["setUserToken","init"].map(function(ge){var Oe=An(P.slice().reverse(),function(_e){var Ee=fn(_e,1),Fe=Ee[0];return Fe===ge})||[],re=fn(Oe,2),ce=re[1];return ce}),M=fn(L,2);T=M[0],y=M[1]}D=_H(f),o||O.overrideStateWithoutTriggeringChangeEvent(bs(bs({},O.state),{},{clickAnalytics:!0})),s||f.scheduleSearch();var j=function(Oe){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ce=GS(Oe);if(!ce)return;var _e=O.state.userToken;function Ee(){O.overrideStateWithoutTriggeringChangeEvent(bs(bs({},O.state),{},{userToken:ce})),_e&&_e!==Oe&&f.scheduleSearch()}re?Ee():setTimeout(Ee,0)};function Q(ge){j(ge,!0),l("setUserToken",ge)}var Z=void 0,J=cC();if(J)Z=J;else{var H="anonymous-".concat(oH());Z=H}var W,G=D.userToken;if(i!=null&&i.userToken&&(W=i.userToken),W)Q(W);else if(G)Q(G);else if(E)Q(E);else if(T)Q(T);else if(Z){var Y;if(Q(Z),i!=null&&i.useCookie||(Y=y)!==null&&Y!==void 0&&Y.useCookie){var ie;bH(Z,(i==null?void 0:i.cookieDuration)||((ie=y)===null||ie===void 0?void 0:ie.cookieDuration))}}l("onUserTokenChange",function(ge){return j(ge,!0)},{immediate:!0});var me=l;zS(l)&&(me=function(Oe,re){var ce=Y_(f.client),_e=fn(ce,2),Ee=_e[0],Fe=_e[1],B={headers:{"X-Algolia-Application-Id":Ee,"X-Algolia-API-Key":Fe}};return l(Oe,re,B)});var Te=new Set,Ce;f.mainHelper.derivedHelpers[0].on("result",function(ge){var Oe=ge.results;Oe&&(!Oe.queryID||Oe.queryID!==Ce)&&(Ce=Oe.queryID,Te.clear())}),f.sendEventToInsights=function(ge){if(r)r(ge,me);else if(ge.insightsMethod){if(ge.insightsMethod==="viewedObjectIDs"){var Oe=ge.payload,re=Oe.objectIDs.filter(function(ce){return!Te.has(ce)});if(re.length===0)return;re.forEach(function(ce){return Te.add(ce)}),Oe.objectIDs=re}ge.payload.algoliaSource=["instantsearch"],o&&ge.payload.algoliaSource.push("instantsearch-automatic"),ge.eventModifier==="internal"&&ge.payload.algoliaSource.push("instantsearch-internal"),me(ge.insightsMethod,ge.payload)}}},unsubscribe:function(){l("onUserTokenChange",void 0),f.sendEventToInsights=tt,O&&D&&(O.overrideStateWithoutTriggeringChangeEvent(bs(bs({},O.state),D)),f.scheduleSearch())}}}}function _H(t){var e,i,r=((e=t._initialResults)===null||e===void 0||(i=e[t.indexName])===null||i===void 0?void 0:i.state)||{},n=t.mainHelper.state;return{userToken:r.userToken||n.userToken,clickAnalytics:r.clickAnalytics||n.clickAnalytics}}function bH(t,e){var i=2592e6,r=new Date;r.setTime(r.getTime()+(e||i*6));var n="expires=".concat(r.toUTCString());document.cookie="_ALGOLIA=".concat(t,";").concat(n,";path=/")}function zS(t){var e=(t.version||"").split(".").map(Number),i=fn(e,2),r=i[0],n=i[1],s=r>=3,a=r===2&&n>=6,o=r===1&&n>=10;return s||a||o}function GS(t){if(t)return typeof t=="number"?t.toString():t}function fC(t,e,i){var r=Zo(e,e.mainIndex,e._initialUiState);t.forEach(function(n){var s={};if(n.getWidgetRenderState){var a=n.getWidgetRenderState(r);a&&a.widgetParams&&(s=a.widgetParams)}var o=Object.keys(s).filter(function(u){return s[u]!==void 0});i.widgets.push({type:n.$$type,widgetType:n.$$widgetType,params:o}),n.$$type==="ais.index"&&fC(n.getWidgets(),e,i)})}function SH(){return Ur(function(t){var e,i,r=t.window;return((e=r.navigator)===null||e===void 0||(i=e.userAgent)===null||i===void 0?void 0:i.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})}function TH(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.$$internal,i=e===void 0?!1:e;return function(r){var n=r.instantSearchInstance,s={widgets:[]},a=document.createElement("meta"),o=document.querySelector("head");return a.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:i,onStateChange:function(){},subscribe:function(){setTimeout(function(){var l=n.client;s.ua=l.transporter&&l.transporter.userAgent?l.transporter.userAgent.value:l._ua,fC(n.mainIndex.getWidgets(),n,s),n.middleware.forEach(function(c){return s.widgets.push({middleware:!0,type:c.instance.$$type,internal:c.instance.$$internal})}),a.content=JSON.stringify(s),o.appendChild(a)},0)},started:function(){},unsubscribe:function(){a.remove()}}}}var _p,KS;function my(){if(KS)return _p;KS=1;var t=String.prototype.replace,e=/%20/g,i={RFC1738:"RFC1738",RFC3986:"RFC3986"};return _p={default:i.RFC3986,formatters:{RFC1738:function(r){return t.call(r,e,"+")},RFC3986:function(r){return String(r)}},RFC1738:i.RFC1738,RFC3986:i.RFC3986},_p}var bp,QS;function pC(){if(QS)return bp;QS=1;var t=my(),e=Object.prototype.hasOwnProperty,i=Array.isArray,r=function(){for(var p=[],_=0;_<256;++_)p.push("%"+((_<16?"0":"")+_.toString(16)).toUpperCase());return p}(),n=function(_){for(;_.length>1;){var y=_.pop(),T=y.obj[y.prop];if(i(T)){for(var E=[],C=0;C<T.length;++C)typeof T[C]<"u"&&E.push(T[C]);y.obj[y.prop]=E}}},s=function(_,y){for(var T=y&&y.plainObjects?Object.create(null):{},E=0;E<_.length;++E)typeof _[E]<"u"&&(T[E]=_[E]);return T},a=function p(_,y,T){if(!y)return _;if(typeof y!="object"){if(i(_))_.push(y);else if(_&&typeof _=="object")(T&&(T.plainObjects||T.allowPrototypes)||!e.call(Object.prototype,y))&&(_[y]=!0);else return[_,y];return _}if(!_||typeof _!="object")return[_].concat(y);var E=_;return i(_)&&!i(y)&&(E=s(_,T)),i(_)&&i(y)?(y.forEach(function(C,R){if(e.call(_,R)){var I=_[R];I&&typeof I=="object"&&C&&typeof C=="object"?_[R]=p(I,C,T):_.push(C)}else _[R]=C}),_):Object.keys(y).reduce(function(C,R){var I=y[R];return e.call(C,R)?C[R]=p(C[R],I,T):C[R]=I,C},E)},o=function(_,y){return Object.keys(y).reduce(function(T,E){return T[E]=y[E],T},_)},u=function(p,_,y){var T=p.replace(/\+/g," ");if(y==="iso-8859-1")return T.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(T)}catch{return T}},l=function(_,y,T,E,C){if(_.length===0)return _;var R=_;if(typeof _=="symbol"?R=Symbol.prototype.toString.call(_):typeof _!="string"&&(R=String(_)),T==="iso-8859-1")return escape(R).replace(/%u[0-9a-f]{4}/gi,function(w){return"%26%23"+parseInt(w.slice(2),16)+"%3B"});for(var I="",D=0;D<R.length;++D){var O=R.charCodeAt(D);if(O===45||O===46||O===95||O===126||O>=48&&O<=57||O>=65&&O<=90||O>=97&&O<=122||C===t.RFC1738&&(O===40||O===41)){I+=R.charAt(D);continue}if(O<128){I=I+r[O];continue}if(O<2048){I=I+(r[192|O>>6]+r[128|O&63]);continue}if(O<55296||O>=57344){I=I+(r[224|O>>12]+r[128|O>>6&63]+r[128|O&63]);continue}D+=1,O=65536+((O&1023)<<10|R.charCodeAt(D)&1023),I+=r[240|O>>18]+r[128|O>>12&63]+r[128|O>>6&63]+r[128|O&63]}return I},c=function(_){for(var y=[{obj:{o:_},prop:"o"}],T=[],E=0;E<y.length;++E)for(var C=y[E],R=C.obj[C.prop],I=Object.keys(R),D=0;D<I.length;++D){var O=I[D],w=R[O];typeof w=="object"&&w!==null&&T.indexOf(w)===-1&&(y.push({obj:R,prop:O}),T.push(w))}return n(y),_},f=function(_){return Object.prototype.toString.call(_)==="[object RegExp]"},m=function(_){return!_||typeof _!="object"?!1:!!(_.constructor&&_.constructor.isBuffer&&_.constructor.isBuffer(_))},h=function(_,y){return[].concat(_,y)},g=function(_,y){if(i(_)){for(var T=[],E=0;E<_.length;E+=1)T.push(y(_[E]));return T}return y(_)};return bp={arrayToObject:s,assign:o,combine:h,compact:c,decode:u,encode:l,isBuffer:m,isRegExp:f,maybeMap:g,merge:a},bp}var Sp,XS;function EH(){if(XS)return Sp;XS=1;var t=pC(),e=my(),i=Object.prototype.hasOwnProperty,r={brackets:function(p){return p+"[]"},comma:"comma",indices:function(p,_){return p+"["+_+"]"},repeat:function(p){return p}},n=Array.isArray,s=String.prototype.split,a=Array.prototype.push,o=function(g,p){a.apply(g,n(p)?p:[p])},u=Date.prototype.toISOString,l=e.default,c={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:t.encode,encodeValuesOnly:!1,format:l,formatter:e.formatters[l],indices:!1,serializeDate:function(p){return u.call(p)},skipNulls:!1,strictNullHandling:!1},f=function(p){return typeof p=="string"||typeof p=="number"||typeof p=="boolean"||typeof p=="symbol"||typeof p=="bigint"},m=function g(p,_,y,T,E,C,R,I,D,O,w,P,L,M){var j=p;if(typeof R=="function"?j=R(_,j):j instanceof Date?j=O(j):y==="comma"&&n(j)&&(j=t.maybeMap(j,function(ge){return ge instanceof Date?O(ge):ge})),j===null){if(T)return C&&!L?C(_,c.encoder,M,"key",w):_;j=""}if(f(j)||t.isBuffer(j)){if(C){var Q=L?_:C(_,c.encoder,M,"key",w);if(y==="comma"&&L){for(var Z=s.call(String(j),","),J="",H=0;H<Z.length;++H)J+=(H===0?"":",")+P(C(Z[H],c.encoder,M,"value",w));return[P(Q)+"="+J]}return[P(Q)+"="+P(C(j,c.encoder,M,"value",w))]}return[P(_)+"="+P(String(j))]}var W=[];if(typeof j>"u")return W;var G;if(y==="comma"&&n(j))G=[{value:j.length>0?j.join(",")||null:void 0}];else if(n(R))G=R;else{var Y=Object.keys(j);G=I?Y.sort(I):Y}for(var ie=0;ie<G.length;++ie){var me=G[ie],Te=typeof me=="object"&&typeof me.value<"u"?me.value:j[me];if(!(E&&Te===null)){var Ce=n(j)?typeof y=="function"?y(_,me):_:_+(D?"."+me:"["+me+"]");o(W,g(Te,Ce,y,T,E,C,R,I,D,O,w,P,L,M))}}return W},h=function(p){if(!p)return c;if(p.encoder!==null&&typeof p.encoder<"u"&&typeof p.encoder!="function")throw new TypeError("Encoder has to be a function.");var _=p.charset||c.charset;if(typeof p.charset<"u"&&p.charset!=="utf-8"&&p.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var y=e.default;if(typeof p.format<"u"){if(!i.call(e.formatters,p.format))throw new TypeError("Unknown format option provided.");y=p.format}var T=e.formatters[y],E=c.filter;return(typeof p.filter=="function"||n(p.filter))&&(E=p.filter),{addQueryPrefix:typeof p.addQueryPrefix=="boolean"?p.addQueryPrefix:c.addQueryPrefix,allowDots:typeof p.allowDots>"u"?c.allowDots:!!p.allowDots,charset:_,charsetSentinel:typeof p.charsetSentinel=="boolean"?p.charsetSentinel:c.charsetSentinel,delimiter:typeof p.delimiter>"u"?c.delimiter:p.delimiter,encode:typeof p.encode=="boolean"?p.encode:c.encode,encoder:typeof p.encoder=="function"?p.encoder:c.encoder,encodeValuesOnly:typeof p.encodeValuesOnly=="boolean"?p.encodeValuesOnly:c.encodeValuesOnly,filter:E,format:y,formatter:T,serializeDate:typeof p.serializeDate=="function"?p.serializeDate:c.serializeDate,skipNulls:typeof p.skipNulls=="boolean"?p.skipNulls:c.skipNulls,sort:typeof p.sort=="function"?p.sort:null,strictNullHandling:typeof p.strictNullHandling=="boolean"?p.strictNullHandling:c.strictNullHandling}};return Sp=function(g,p){var _=g,y=h(p),T,E;typeof y.filter=="function"?(E=y.filter,_=E("",_)):n(y.filter)&&(E=y.filter,T=E);var C=[];if(typeof _!="object"||_===null)return"";var R;p&&p.arrayFormat in r?R=p.arrayFormat:p&&"indices"in p?R=p.indices?"indices":"repeat":R="indices";var I=r[R];T||(T=Object.keys(_)),y.sort&&T.sort(y.sort);for(var D=0;D<T.length;++D){var O=T[D];y.skipNulls&&_[O]===null||o(C,m(_[O],O,I,y.strictNullHandling,y.skipNulls,y.encode?y.encoder:null,y.filter,y.sort,y.allowDots,y.serializeDate,y.format,y.formatter,y.encodeValuesOnly,y.charset))}var w=C.join(y.delimiter),P=y.addQueryPrefix===!0?"?":"";return y.charsetSentinel&&(y.charset==="iso-8859-1"?P+="utf8=%26%2310003%3B&":P+="utf8=%E2%9C%93&"),w.length>0?P+w:""},Sp}var Tp,YS;function xH(){if(YS)return Tp;YS=1;var t=pC(),e=Object.prototype.hasOwnProperty,i=Array.isArray,r={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:t.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},n=function(m){return m.replace(/&#(\d+);/g,function(h,g){return String.fromCharCode(parseInt(g,10))})},s=function(m,h){return m&&typeof m=="string"&&h.comma&&m.indexOf(",")>-1?m.split(","):m},a="utf8=%26%2310003%3B",o="utf8=%E2%9C%93",u=function(h,g){var p={},_=g.ignoreQueryPrefix?h.replace(/^\?/,""):h,y=g.parameterLimit===1/0?void 0:g.parameterLimit,T=_.split(g.delimiter,y),E=-1,C,R=g.charset;if(g.charsetSentinel)for(C=0;C<T.length;++C)T[C].indexOf("utf8=")===0&&(T[C]===o?R="utf-8":T[C]===a&&(R="iso-8859-1"),E=C,C=T.length);for(C=0;C<T.length;++C)if(C!==E){var I=T[C],D=I.indexOf("]="),O=D===-1?I.indexOf("="):D+1,w,P;O===-1?(w=g.decoder(I,r.decoder,R,"key"),P=g.strictNullHandling?null:""):(w=g.decoder(I.slice(0,O),r.decoder,R,"key"),P=t.maybeMap(s(I.slice(O+1),g),function(L){return g.decoder(L,r.decoder,R,"value")})),P&&g.interpretNumericEntities&&R==="iso-8859-1"&&(P=n(P)),I.indexOf("[]=")>-1&&(P=i(P)?[P]:P),e.call(p,w)?p[w]=t.combine(p[w],P):p[w]=P}return p},l=function(m,h,g,p){for(var _=p?h:s(h,g),y=m.length-1;y>=0;--y){var T,E=m[y];if(E==="[]"&&g.parseArrays)T=[].concat(_);else{T=g.plainObjects?Object.create(null):{};var C=E.charAt(0)==="["&&E.charAt(E.length-1)==="]"?E.slice(1,-1):E,R=parseInt(C,10);!g.parseArrays&&C===""?T={0:_}:!isNaN(R)&&E!==C&&String(R)===C&&R>=0&&g.parseArrays&&R<=g.arrayLimit?(T=[],T[R]=_):C!=="__proto__"&&(T[C]=_)}_=T}return _},c=function(h,g,p,_){if(h){var y=p.allowDots?h.replace(/\.([^.[]+)/g,"[$1]"):h,T=/(\[[^[\]]*])/,E=/(\[[^[\]]*])/g,C=p.depth>0&&T.exec(y),R=C?y.slice(0,C.index):y,I=[];if(R){if(!p.plainObjects&&e.call(Object.prototype,R)&&!p.allowPrototypes)return;I.push(R)}for(var D=0;p.depth>0&&(C=E.exec(y))!==null&&D<p.depth;){if(D+=1,!p.plainObjects&&e.call(Object.prototype,C[1].slice(1,-1))&&!p.allowPrototypes)return;I.push(C[1])}return C&&I.push("["+y.slice(C.index)+"]"),l(I,g,p,_)}},f=function(h){if(!h)return r;if(h.decoder!==null&&h.decoder!==void 0&&typeof h.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof h.charset<"u"&&h.charset!=="utf-8"&&h.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var g=typeof h.charset>"u"?r.charset:h.charset;return{allowDots:typeof h.allowDots>"u"?r.allowDots:!!h.allowDots,allowPrototypes:typeof h.allowPrototypes=="boolean"?h.allowPrototypes:r.allowPrototypes,arrayLimit:typeof h.arrayLimit=="number"?h.arrayLimit:r.arrayLimit,charset:g,charsetSentinel:typeof h.charsetSentinel=="boolean"?h.charsetSentinel:r.charsetSentinel,comma:typeof h.comma=="boolean"?h.comma:r.comma,decoder:typeof h.decoder=="function"?h.decoder:r.decoder,delimiter:typeof h.delimiter=="string"||t.isRegExp(h.delimiter)?h.delimiter:r.delimiter,depth:typeof h.depth=="number"||h.depth===!1?+h.depth:r.depth,ignoreQueryPrefix:h.ignoreQueryPrefix===!0,interpretNumericEntities:typeof h.interpretNumericEntities=="boolean"?h.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:typeof h.parameterLimit=="number"?h.parameterLimit:r.parameterLimit,parseArrays:h.parseArrays!==!1,plainObjects:typeof h.plainObjects=="boolean"?h.plainObjects:r.plainObjects,strictNullHandling:typeof h.strictNullHandling=="boolean"?h.strictNullHandling:r.strictNullHandling}};return Tp=function(m,h){var g=f(h);if(m===""||m===null||typeof m>"u")return g.plainObjects?Object.create(null):{};for(var p=typeof m=="string"?u(m,g):m,_=g.plainObjects?Object.create(null):{},y=Object.keys(p),T=0;T<y.length;++T){var E=y[T],C=c(E,p[E],g,typeof m=="string");_=t.merge(_,C,g)}return t.compact(_)},Tp}var Ep,JS;function wH(){if(JS)return Ep;JS=1;var t=EH(),e=xH(),i=my();return Ep={formats:i,parse:e,stringify:t},Ep}var CH=wH();const ZS=os(CH);function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function AH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PH(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mC(r.key),r)}}function OH(t,e,i){return e&&PH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vi(t,e,i){return e=mC(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function mC(t){var e=RH(t,"string");return pl(e)=="symbol"?e:String(e)}function RH(t,e){if(pl(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eT=function(e){e&&(window.document.title=e)},DH=function(){function t(e){var i=this,r=e.windowTitle,n=e.writeDelay,s=n===void 0?400:n,a=e.createURL,o=e.parseURL,u=e.getLocation,l=e.start,c=e.dispose,f=e.push,m=e.cleanUrlOnDispose;AH(this,t),vi(this,"$$type","ais.browser"),vi(this,"windowTitle",void 0),vi(this,"writeDelay",void 0),vi(this,"_createURL",void 0),vi(this,"parseURL",void 0),vi(this,"getLocation",void 0),vi(this,"writeTimer",void 0),vi(this,"_onPopState",void 0),vi(this,"inPopState",!1),vi(this,"isDisposed",!1),vi(this,"latestAcknowledgedHistory",0),vi(this,"_start",void 0),vi(this,"_dispose",void 0),vi(this,"_push",void 0),vi(this,"_cleanUrlOnDispose",void 0),this.windowTitle=r,this.writeTimer=void 0,this.writeDelay=s,this._createURL=a,this.parseURL=o,this.getLocation=u,this._start=l,this._dispose=c,this._push=f,this._cleanUrlOnDispose=typeof m>"u"?!0:m,Ur(function(h){var g=h.window,p=i.windowTitle&&i.windowTitle(i.read());eT(p),i.latestAcknowledgedHistory=g.history.length})}return OH(t,[{key:"read",value:function(){return this.parseURL({qsModule:ZS,location:this.getLocation()})}},{key:"write",value:function(i){var r=this;Ur(function(n){var s=n.window,a=r.createURL(i),o=r.windowTitle&&r.windowTitle(i);r.writeTimer&&clearTimeout(r.writeTimer),r.writeTimer=setTimeout(function(){eT(o),r.shouldWrite(a)&&(r._push?r._push(a):s.history.pushState(i,o||"",a),r.latestAcknowledgedHistory=s.history.length),r.inPopState=!1,r.writeTimer=void 0},r.writeDelay)})}},{key:"onUpdate",value:function(i){var r=this;this._start&&this._start(function(){i(r.read())}),this._onPopState=function(){r.writeTimer&&(clearTimeout(r.writeTimer),r.writeTimer=void 0),r.inPopState=!0,i(r.read())},Ur(function(n){var s=n.window;s.addEventListener("popstate",r._onPopState)})}},{key:"createURL",value:function(i){var r=this._createURL({qsModule:ZS,routeState:i,location:this.getLocation()});return r}},{key:"dispose",value:function(){var i=this;this._dispose&&this._dispose(),this.isDisposed=!0,Ur(function(r){var n=r.window;i._onPopState&&n.removeEventListener("popstate",i._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this._cleanUrlOnDispose&&this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(i){var r=this;return Ur(function(n){var s=n.window;if(r.isDisposed&&!r._cleanUrlOnDispose)return!1;var a=!(r.isDisposed&&r.latestAcknowledgedHistory!==s.history.length);return!r.inPopState&&a&&i!==s.location.href})}}]),t}();function IH(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.createURL,i=e===void 0?function(g){var p=g.qsModule,_=g.routeState,y=g.location,T=y.protocol,E=y.hostname,C=y.port,R=C===void 0?"":C,I=y.pathname,D=y.hash,O=p.stringify(_),w=R===""?"":":".concat(R);return O?"".concat(T,"//").concat(E).concat(w).concat(I,"?").concat(O).concat(D):"".concat(T,"//").concat(E).concat(w).concat(I).concat(D)}:e,r=t.parseURL,n=r===void 0?function(g){var p=g.qsModule,_=g.location;return p.parse(_.search.slice(1),{arrayLimit:99})}:r,s=t.writeDelay,a=s===void 0?400:s,o=t.windowTitle,u=t.getLocation,l=u===void 0?function(){return Ur(function(g){var p=g.window;return p.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:u,c=t.start,f=t.dispose,m=t.push,h=t.cleanUrlOnDispose;return new DH({createURL:i,parseURL:n,writeDelay:a,windowTitle:o,getLocation:l,start:c,dispose:f,push:m,cleanUrlOnDispose:h})}function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}var kH=["configure"];function tT(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Sc(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?tT(Object(i),!0).forEach(function(r){Vm(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):tT(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Vm(t,e,i){return e=LH(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function LH(t){var e=NH(t,"string");return ml(e)=="symbol"?e:String(e)}function NH(t,e){if(ml(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FH(t,e){if(t==null)return{};var i=MH(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function MH(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function iT(t){t.configure;var e=FH(t,kH);return e}function $H(){return{$$type:"ais.simple",stateToRoute:function(e){return Object.keys(e).reduce(function(i,r){return Sc(Sc({},i),{},Vm({},r,iT(e[r])))},{})},routeToState:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(i,r){return Sc(Sc({},i),{},Vm({},r,iT(e[r])))},{})}}}function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function rT(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Tc(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?rT(Object(i),!0).forEach(function(r){gC(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):rT(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function gC(t,e,i){return e=jH(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function jH(t){var e=BH(t,"string");return gl(e)=="symbol"?e:String(e)}function BH(t,e){if(gl(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UH=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=e.router,r=i===void 0?IH():i,n=e.stateMapping,s=n===void 0?$H():n,a=e.$$internal,o=a===void 0?!1:a;return function(u){var l=u.instantSearchInstance;function c(h){var g=l.mainIndex.getWidgets().length===0?l._initialUiState:l.mainIndex.getWidgetUiState({}),p=Object.keys(h).reduce(function(y,T){return Tc(Tc({},y),{},gC({},T,h[T]))},g),_=s.stateToRoute(p);return r.createURL(_)}l._createURL=c;var f=void 0,m=l._initialUiState;return{$$type:"ais.router({router:".concat(r.$$type||"__unknown__",", stateMapping:").concat(s.$$type||"__unknown__","})"),$$internal:o,onStateChange:function(g){var p=g.uiState,_=s.stateToRoute(p);(f===void 0||!Al(f,_))&&(r.write(_),f=_)},subscribe:function(){l._initialUiState=Tc(Tc({},m),s.routeToState(r.read())),r.onUpdate(function(g){l.mainIndex.getWidgets().length>0&&l.setUiState(s.routeToState(g))})},started:function(){var g;(g=r.start)===null||g===void 0||g.call(r)},unsubscribe:function(){r.dispose()}}}};function HH(t,e){return t.toLocaleString(e)}function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function nT(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function dn(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?nT(Object(i),!0).forEach(function(r){qH(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):nT(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function qH(t,e,i){return e=VH(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function VH(t){var e=WH(t,"string");return yl(e)=="symbol"?e:String(e)}function WH(t,e){if(yl(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zH(t){var e=t.numberLocale;return{formatNumber:function(r,n){return HH(Number(n(r)),e)},highlight:function(r,n){try{var s=JSON.parse(r);return n(aC(dn(dn({},s),{},{hit:this})))}catch{throw new Error(`
The highlight helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseHighlight:function(r,n){try{var s=JSON.parse(r);return n(oC(dn(dn({},s),{},{hit:this})))}catch{throw new Error(`
  The reverseHighlight helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},snippet:function(r,n){try{var s=JSON.parse(r);return n(uC(dn(dn({},s),{},{hit:this})))}catch{throw new Error(`
The snippet helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseSnippet:function(r,n){try{var s=JSON.parse(r);return n(lC(dn(dn({},s),{},{hit:this})))}catch{throw new Error(`
  The reverseSnippet helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},insights:function(r,n){try{var s=JSON.parse(r),a=s.method,o=s.payload;return n(Rw(a,dn({objectIDs:[this.objectID]},o)))}catch{throw new Error(`
The insights helper expects a JSON object of the format:
{ "method": "method-name", "payload": { "eventName": "name of the event" } }`)}}}}const yC="4.78.3";function za(t){"@babel/helpers - typeof";return za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},za(t)}function sT(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function xp(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?sT(Object(i),!0).forEach(function(r){at(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):sT(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function GH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KH(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vC(r.key),r)}}function QH(t,e,i){return e&&KH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wm(t,e)}function Wm(t,e){return Wm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Wm(t,e)}function YH(t){var e=ZH();return function(){var r=wd(t),n;if(e){var s=wd(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return JH(this,n)}}function JH(t,e){if(e&&(za(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nt(t)}function nt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wd(t){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},wd(t)}function at(t,e,i){return e=vC(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function vC(t){var e=e9(t,"string");return za(e)=="symbol"?e:String(e)}function e9(t,e){if(za(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(za(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _r=bt({name:"instantsearch"});function t9(){return"#"}var _C={preserveSharedStateOnUnmount:!1,persistHierarchicalRootCount:!1},i9=function(t){XH(i,t);var e=YH(i);function i(r){var n;GH(this,i),n=e.call(this),at(nt(n),"client",void 0),at(nt(n),"indexName",void 0),at(nt(n),"compositionID",void 0),at(nt(n),"insightsClient",void 0),at(nt(n),"onStateChange",null),at(nt(n),"future",void 0),at(nt(n),"helper",void 0),at(nt(n),"mainHelper",void 0),at(nt(n),"mainIndex",void 0),at(nt(n),"started",void 0),at(nt(n),"templatesConfig",void 0),at(nt(n),"renderState",{}),at(nt(n),"_stalledSearchDelay",void 0),at(nt(n),"_searchStalledTimer",void 0),at(nt(n),"_initialUiState",void 0),at(nt(n),"_initialResults",void 0),at(nt(n),"_createURL",void 0),at(nt(n),"_searchFunction",void 0),at(nt(n),"_mainHelperSearch",void 0),at(nt(n),"_hasSearchWidget",!1),at(nt(n),"_hasRecommendWidget",!1),at(nt(n),"_insights",void 0),at(nt(n),"middleware",[]),at(nt(n),"sendEventToInsights",void 0),at(nt(n),"status","idle"),at(nt(n),"error",void 0),at(nt(n),"scheduleSearch",Uo(function(){n.started&&n.mainHelper.search()})),at(nt(n),"scheduleRender",Uo(function(){var M,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(M=n.mainHelper)!==null&&M!==void 0&&M.hasPendingRequests()||(clearTimeout(n._searchStalledTimer),n._searchStalledTimer=null,j&&(n.status="idle",n.error=void 0)),n.mainIndex.render({instantSearchInstance:nt(n)}),n.emit("render")})),at(nt(n),"onInternalStateChange",Uo(function(){var M=n.mainIndex.getWidgetUiState({});n.middleware.forEach(function(j){var Q=j.instance;Q.onStateChange({uiState:M})})})),n.setMaxListeners(100);var s=r.indexName,a=s===void 0?"":s,o=r.compositionID,u=r.numberLocale,l=r.initialUiState,c=l===void 0?{}:l,f=r.routing,m=f===void 0?null:f,h=r.insights,g=h===void 0?void 0:h,p=r.searchFunction,_=r.stalledSearchDelay,y=_===void 0?200:_,T=r.searchClient,E=T===void 0?null:T,C=r.insightsClient,R=C===void 0?null:C,I=r.onStateChange,D=I===void 0?null:I,O=r.future,w=O===void 0?xp(xp({},_C),r.future||{}):O;if(E===null)throw new Error(_r("The `searchClient` option is required."));if(typeof E.search!="function")throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if(typeof E.addAlgoliaAgent=="function"&&E.addAlgoliaAgent("instantsearch.js (".concat(yC,")")),R&&typeof R!="function")throw new Error(_r("The `insightsClient` option should be a function."));if(n.client=E,n.future=w,n.insightsClient=R,n.indexName=a,n.compositionID=o,n.helper=null,n.mainHelper=null,n.mainIndex=sC({indexName:n.compositionID||n.indexName}),n.onStateChange=D,n.started=!1,n.templatesConfig={helpers:zH({numberLocale:u}),compileOptions:{}},n._stalledSearchDelay=y,n._searchStalledTimer=null,n._createURL=t9,n._initialUiState=c,n._initialResults=null,n._insights=g,p&&(n._searchFunction=p),n.sendEventToInsights=tt,m){var P=typeof m=="boolean"?{}:m;P.$$internal=!0,n.use(UH(P))}if(g){var L=typeof g=="boolean"?{}:g;L.$$internal=!0,n.use(WS(L))}return SH()&&n.use(TH({$$internal:!0})),n}return QH(i,[{key:"_isSearchStalled",get:function(){return this.status==="stalled"}},{key:"use",value:function(){for(var n=this,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];var u=a.map(function(l){var c=xp({$$type:"__unknown__",$$internal:!1,subscribe:tt,started:tt,unsubscribe:tt,onStateChange:tt},l({instantSearchInstance:n}));return n.middleware.push({creator:l,instance:c}),c});return this.started&&u.forEach(function(l){l.subscribe(),l.started()}),this}},{key:"unuse",value:function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return this.middleware.filter(function(o){return s.includes(o.creator)}).forEach(function(o){return o.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(o){return!s.includes(o.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(n){return this.addWidgets([n])}},{key:"addWidgets",value:function(n){if(!Array.isArray(n))throw new Error(_r("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(n.some(function(s){return typeof s.init!="function"&&typeof s.render!="function"}))throw new Error(_r("The widget definition expects a `render` and/or an `init` method."));if(this.compositionID&&n.some(Bi))throw new Error(_r("The `index` widget cannot be used with a composition-based InstantSearch implementation."));return this.mainIndex.addWidgets(n),this}},{key:"removeWidget",value:function(n){return this.removeWidgets([n])}},{key:"removeWidgets",value:function(n){if(!Array.isArray(n))throw new Error(_r("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(n.some(function(s){return typeof s.dispose!="function"}))throw new Error(_r("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(n),this}},{key:"start",value:function(){var n=this;if(this.started)throw new Error(_r("The `start` method has already been called once."));var s=this.mainHelper||ai(this.client,this.indexName,void 0,{persistHierarchicalRootCount:this.future.persistHierarchicalRootCount});if(this.compositionID&&(s.searchForFacetValues=s.searchForCompositionFacetValues.bind(s)),s.search=function(){return n.status="loading",n.scheduleRender(!1),n._hasSearchWidget&&(n.compositionID?s.searchWithComposition():s.searchOnlyWithDerivedHelpers()),n._hasRecommendWidget&&s.recommend(),s},this._searchFunction){var a={search:function(){return new Promise(tt)}};this._mainHelperSearch=s.search.bind(s),s.search=function(){var u=n.mainIndex.getHelper(),l=ai(a,u.state.index,u.state);return l.once("search",function(c){var f=c.state;u.overrideStateWithoutTriggeringChangeEvent(f),n._mainHelperSearch()}),l.on("change",function(c){var f=c.state;u.setState(f)}),n._searchFunction(l),s}}if(s.on("error",function(u){var l=u.error;if(!(l instanceof Error)){var c=l;l=Object.keys(c).reduce(function(f,m){return f[m]=c[m],f},new Error(c.message))}l.error=l,n.error=l,n.status="error",n.scheduleRender(!1),n.emit("error",l)}),this.mainHelper=s,this.middleware.forEach(function(u){var l=u.instance;l.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){xj(this.client,this._initialResults),gj(this.mainHelper,this._initialResults);var o=this.scheduleSearch;this.scheduleSearch=Uo(tt),Uo(function(){n.scheduleSearch=o})()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(u){var l=u.instance;l.started()}),typeof this._insights>"u"&&s.derivedHelpers[0].once("result",function(){var u=n.mainIndex.getScopedResults().some(function(l){var c=l.results;return c==null?void 0:c._automaticInsights});u&&n.use(WS({$$internal:!0,$$automatic:!0}))})}},{key:"dispose",value:function(){var n;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),(n=this.mainHelper)===null||n===void 0||n.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(s){var a=s.instance;a.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var n=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){n.status="stalled",n.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(n){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.mainHelper)throw new Error(_r("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var o=typeof n=="function"?n(this.mainIndex.getWidgetUiState({})):n;this.onStateChange&&a?this.onStateChange({uiState:o,setUiState:function(l){Dm(typeof l=="function"?l(o):l,s.mainIndex),s.scheduleSearch(),s.onInternalStateChange()}}):(Dm(o,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.started)throw new Error(_r("The `start` method needs to be called before `createURL`."));return this._createURL(n)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(_r("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),i}(aH),lr=function(e){return new i9(e)};lr.version=yC;lr.createInfiniteHitsSessionStorageCache=uo(nH);lr.highlight=uo(aC);lr.reverseHighlight=uo(oC);lr.snippet=uo(uC);lr.reverseSnippet=uo(lC);lr.insights=Rw;lr.getInsightsAnonymousUserToken=eH;Object.defineProperty(lr,"widgets",{get:function(){throw new ReferenceError(`"instantsearch.widgets" are not available from the ES build.

To import the widgets:

import { searchBox } from 'instantsearch.js/es/widgets'`)}});Object.defineProperty(lr,"connectors",{get:function(){throw new ReferenceError(`"instantsearch.connectors" are not available from the ES build.

To import the connectors:

import { connectSearchBox } from 'instantsearch.js/es/connectors'`)}});Object.defineProperty(lr,"templates",{get:function(){throw new ReferenceError(`"instantsearch.templates" are not available from the ES build.

To import the templates:

import { carousel } from 'instantsearch.js/es/templates'`)}});var r9="4.20.8",bC=function(t){var e;return Iu(((e={mixins:[it({name:"InstantSearch"})],provide:function(){return{$_ais_instantSearchInstance:this.instantSearchInstance}},watch:{searchClient:function(i){Pa(!1),this.instantSearchInstance.helper.setClient(i).search()},indexName:function(i){this.instantSearchInstance.helper.setIndex(i||"").search()},compositionID:function(i){this.instantSearchInstance.helper.setIndex(i||"").search()},stalledSearchDelay:function(i){this.instantSearchInstance._stalledSearchDelay=i},routing:function(){throw new Error(`routing configuration can not be changed dynamically at this point.

Please open a new issue: https://github.com/algolia/instantsearch/discussions/new?category=ideas&labels=triage%2cLibrary%3A+Vue+InstantSearch&title=Feature%20request%3A%20dynamic%20props`)},onStateChange:function(){throw new Error(`onStateChange configuration can not be changed dynamically at this point.

Please open a new issue: https://github.com/algolia/instantsearch/discussions/new?category=ideas&labels=triage%2cLibrary%3A+Vue+InstantSearch&title=Feature%20request%3A%20dynamic%20props`)},searchFunction:function(i){this.instantSearchInstance._searchFunction=i},middlewares:{immediate:!0,handler:function(i,r){var n=this;(r||[]).filter(function(s){return(i||[]).indexOf(s)===-1}).forEach(function(s){n.instantSearchInstance.unuse(s)}),(i||[]).filter(function(s){return(r||[]).indexOf(s)===-1}).forEach(function(s){n.instantSearchInstance.use(s)})}},future:function(i){this.instantSearchInstance.future=Object.assign(_C,i)}},created:function(){var i=this.instantSearchInstance.client;typeof i.addAlgoliaAgent=="function"&&(i.addAlgoliaAgent("Vue ("+J1+")"),i.addAlgoliaAgent("Vue InstantSearch ("+r9+")"))},mounted:function(){var i=this;this.$nextTick(function(){i.instantSearchInstance.started||i.instantSearchInstance.start()})}}).beforeUnmount=function(){this.instantSearchInstance.started&&this.instantSearchInstance.dispose(),this.instantSearchInstance.__initialSearchResults=void 0},e),t)},aT=`Vue InstantSearch: You used the prop api-key or app-id.
These have been replaced by search-client.

See more info here: https://www.algolia.com/doc/api-reference/widgets/instantsearch/vue/#widget-param-search-client`;const n9=bC({name:"AisInstantSearch",props:{searchClient:{type:Object,required:!0},insightsClient:{type:Function,default:void 0},indexName:{type:String,required:!1},compositionID:{type:String,required:!1},routing:{default:void 0,validator:function(t){return!(typeof t=="boolean"||!t.router&&!t.stateMapping)||(Pa("The `routing` option expects an object with `router` and/or `stateMapping`.\n\nSee https://www.algolia.com/doc/api-reference/widgets/instantsearch/vue/#widget-param-routing"),!1)}},insights:{default:void 0,validator:function(t){return t===void 0||typeof t=="boolean"||typeof t=="object"}},stalledSearchDelay:{type:Number,default:void 0},searchFunction:{type:Function,default:void 0},onStateChange:{type:Function,default:void 0},initialUiState:{type:Object,default:void 0},apiKey:{type:String,default:void 0,validator:function(t){return t&&Pa(aT),!1}},appId:{type:String,default:void 0,validator:function(t){return t&&Pa(aT),!1}},middlewares:{type:Array,default:null},future:{type:Object,default:void 0}},data:function(){return{instantSearchInstance:lr({searchClient:this.searchClient,insightsClient:this.insightsClient,insights:this.insights,indexName:this.indexName,compositionID:this.compositionID,routing:this.routing,stalledSearchDelay:this.stalledSearchDelay,searchFunction:this.searchFunction,onStateChange:this.onStateChange,initialUiState:this.initialUiState,future:this.future})}},render:oo(function(t){var e;return t("div",{class:(e={},e[this.suit()]=!0,e[this.suit("","ssr")]=!1,e)},fh(this))})}),s9=bC({name:"AisInstantSearchSsr",inject:{$_ais_ssrInstantSearchInstance:{default:function(){throw new Error("`createServerRootMixin` is required when using SSR.")}}},data:function(){return{instantSearchInstance:this.$_ais_ssrInstantSearchInstance}},render:oo(function(t){var e;return t("div",{class:(e={},e[this.suit()]=!0,e[this.suit("","ssr")]=!0,e)},fh(this))})}),SC={name:"AisInfiniteHits",mixins:[pt({connector:VB},{$$widgetType:"ais.infiniteHits"}),it({name:"InfiniteHits"})],props:{showBanner:{type:Boolean,default:!0},showPrevious:{type:Boolean,default:!1},escapeHTML:{type:Boolean,default:!0},transformItems:{type:Function,default:void 0},cache:{type:Object,default:void 0}},computed:{widgetParams:function(){return{showBanner:this.showBanner,showPrevious:this.showPrevious,escapeHTML:this.escapeHTML,transformItems:this.transformItems,cache:this.cache}}},methods:{refinePrevious:function(){this.state.showPrevious()},refineNext:function(){this.state.showMore()}}};var a9=["disabled"],o9=["href","target"],u9=["src","alt"],l9=["src","alt"],c9=["onClick","onAuxclick"],d9=["disabled"];function h9(t,e,i,r,n,s){return t.state?(ne(),ae("div",{key:0,class:ue(t.suit())},[i.showPrevious?Re(t.$slots,"loadPrevious",{key:0,refinePrevious:s.refinePrevious,page:t.state.results.page,isFirstPage:t.state.isFirstPage},function(){return[X("button",{class:ue([t.suit("loadPrevious"),t.state.isFirstPage&&t.suit("loadPrevious","disabled")]),disabled:t.state.isFirstPage,onClick:e[0]||(e[0]=function(a){return s.refinePrevious()})}," Show previous results ",10,a9)]}):Le("",!0),Re(t.$slots,"default",{items:t.state.items,results:t.state.results,banner:t.state.banner,isLastPage:t.state.isLastPage,refinePrevious:s.refinePrevious,refineNext:s.refineNext,refine:s.refineNext,insights:t.state.insights,sendEvent:t.state.sendEvent},function(){return[i.showBanner&&t.state.banner&&t.state.banner.image.urls[0].url?Re(t.$slots,"banner",{key:0,banner:t.state.banner},function(){return[X("aside",{class:ue(t.suit("banner"))},[t.state.banner.link?(ne(),ae("a",{key:0,href:t.state.banner.link.url,target:t.state.banner.link.target,class:ue(t.suit("banner-link"))},[X("img",{src:t.state.banner.image.urls[0].url,alt:t.state.banner.image.title,class:ue(t.suit("banner-image"))},null,10,u9)],10,o9)):(ne(),ae("img",{key:1,src:t.state.banner.image.urls[0].url,alt:t.state.banner.image.title,class:ue(t.suit("banner-image"))},null,10,l9))],2)]}):Le("",!0),X("ol",{class:ue(t.suit("list"))},[(ne(!0),ae(We,null,Pt(t.state.items,function(a,o){return ne(),ae("li",{class:ue(t.suit("item")),key:a.objectID,onClick:function(u){return t.state.sendEvent("click:internal",a,"Hit Clicked")},onAuxclick:function(u){return t.state.sendEvent("click:internal",a,"Hit Clicked")}},[Re(t.$slots,"item",{item:a,index:o,insights:t.state.insights,sendEvent:t.state.sendEvent},function(){return[Rt(" objectID: "+je(a.objectID)+", index: "+je(o),1)]})],42,c9)}),128))],2),Re(t.$slots,"loadMore",{refineNext:s.refineNext,refine:s.refineNext,page:t.state.results.page,isLastPage:t.state.isLastPage},function(){return[X("button",{class:ue([t.suit("loadMore"),t.state.isLastPage&&t.suit("loadMore","disabled")]),disabled:t.state.isLastPage,onClick:e[1]||(e[1]=function(a){return s.refineNext()})}," Show more results ",10,d9)]})]})],2)):Le("",!0)}SC.render=h9;const TC={name:"AisMenu",mixins:[it({name:"Menu"}),pt({connector:kw},{$$widgetType:"ais.menu"}),Li()],props:{attribute:{type:String,required:!0},limit:{type:Number,default:void 0},showMoreLimit:{type:Number,default:void 0},showMore:{type:Boolean,default:!1},sortBy:{type:[Array,Function],default:void 0},transformItems:{type:Function,default:void 0}},computed:{widgetParams:function(){return{attribute:this.attribute,limit:this.limit,showMore:this.showMore,showMoreLimit:this.showMoreLimit,sortBy:this.sortBy,transformItems:this.transformItems}},showShowMoreButton:function(){return this.state.canRefine&&this.showMore}}};var f9=["href","onClick"],p9=["disabled"];function m9(t,e,i,r,n,s){return t.state?(ne(),ae("div",{key:0,class:ue([t.suit(),!t.state.canRefine&&t.suit("","noRefinement")])},[Re(t.$slots,"default",{items:t.state.items,canRefine:t.state.canRefine,canToggleShowMore:t.state.canToggleShowMore,isShowingMore:t.state.isShowingMore,refine:t.state.refine,createURL:t.state.createURL,toggleShowMore:t.state.toggleShowMore,sendEvent:t.state.sendEvent},function(){return[X("ul",{class:ue(t.suit("list"))},[(ne(!0),ae(We,null,Pt(t.state.items,function(a){return ne(),ae("li",{key:a.value,class:ue([t.suit("item"),a.isRefined&&t.suit("item","selected")])},[X("a",{href:t.state.createURL(a.value),class:ue(t.suit("link")),onClick:Kt(function(o){return t.state.refine(a.value)},["exact","left","prevent"])},[X("span",{class:ue(t.suit("label"))},je(a.label),3),X("span",{class:ue(t.suit("count"))},je(a.count),3)],10,f9)],2)}),128))],2),s.showShowMoreButton?(ne(),ae("button",{key:0,class:ue([t.suit("showMore"),!t.state.canToggleShowMore&&t.suit("showMore","disabled")]),disabled:!t.state.canToggleShowMore,onClick:e[0]||(e[0]=Kt(function(){for(var a,o=[],u=arguments.length;u--;)o[u]=arguments[u];return t.state.toggleShowMore&&(a=t.state).toggleShowMore.apply(a,o)},["prevent"]))},[Re(t.$slots,"showMoreLabel",{isShowingMore:t.state.isShowingMore},function(){return[Rt(je(t.state.isShowingMore?"Show less":"Show more"),1)]})],10,p9)):Le("",!0)]})],2)):Le("",!0)}TC.render=m9;const EC={name:"AisMenuSelect",mixins:[it({name:"MenuSelect"}),pt({connector:kw},{$$widgetType:"ais.menuSelect"}),Li()],props:{attribute:{type:String,required:!0},limit:{type:Number,default:10},sortBy:{type:[Array,Function],default:void 0},transformItems:{type:Function,default:function(t){return t}}},computed:{widgetParams:function(){return{attribute:this.attribute,limit:this.limit,sortBy:this.sortBy,transformItems:this.transformItems}}},methods:{refine:function(t){this.state.refine(t)}}};var g9=["value","selected"];function y9(t,e,i,r,n,s){return t.state?(ne(),ae("div",{key:0,class:ue([t.suit(),!t.state.canRefine&&t.suit("","noRefinement")])},[Re(t.$slots,"default",{items:t.state.items,canRefine:t.state.canRefine,refine:s.refine,createURL:t.state.createURL,sendEvent:t.state.sendEvent},function(){return[X("select",{class:ue(t.suit("select")),onChange:e[0]||(e[0]=function(a){return s.refine(a.currentTarget.value)})},[X("option",{class:ue(t.suit("option")),value:""},[Re(t.$slots,"defaultOption",{},function(){return[Rt(" See all ")]})],2),(ne(!0),ae(We,null,Pt(t.state.items,function(a){return ne(),ae("option",{key:a.value,class:ue(t.suit("option")),value:a.value,selected:a.isRefined},[Re(t.$slots,"item",{item:a},function(){return[Rt(je(a.label)+" ("+je(a.count)+") ",1)]})],10,g9)}),128))],34)]})],2)):Le("",!0)}EC.render=y9;const xC={name:"AisNumericMenu",mixins:[pt({connector:c6},{$$widgetType:"ais.numericMenu"}),it({name:"NumericMenu"}),Li()],props:{attribute:{type:String,required:!0},items:{type:Array,required:!0},transformItems:{type:Function,default:void 0}},computed:{widgetParams:function(){return{attribute:this.attribute,transformItems:this.transformItems,items:this.items}}}};var v9=["name","value","checked"];function _9(t,e,i,r,n,s){return t.state?(ne(),ae("div",{key:0,class:ue([t.suit(),!t.state.canRefine&&t.suit("","noRefinement")])},[Re(t.$slots,"default",{items:t.state.items,canRefine:t.state.canRefine,refine:t.state.refine,createURL:t.state.createURL,sendEvent:t.state.sendEvent},function(){return[X("ul",{class:ue([t.suit("list")])},[(ne(!0),ae(We,null,Pt(t.state.items,function(a){return ne(),ae("li",{key:a.label,class:ue([t.suit("item"),a.isRefined&&t.suit("item","selected")])},[X("label",{class:ue(t.suit("label"))},[X("input",{type:"radio",class:ue(t.suit("radio")),name:i.attribute,value:a.value,checked:a.isRefined,onChange:e[0]||(e[0]=function(o){return t.state.refine(o.target.value)})},null,42,v9),X("span",{class:ue(t.suit("labelText"))},je(a.label),3)],2)],2)}),128))],2)]})],2)):Le("",!0)}xC.render=_9;const wC={name:"AisPagination",mixins:[it({name:"Pagination"}),pt({connector:S6},{$$widgetType:"ais.pagination"}),Li()],props:{padding:{type:Number,default:void 0,validator:function(t){return t>0}},totalPages:{type:Number,default:void 0,validator:function(t){return t>0}},showFirst:{type:Boolean,default:!0},showLast:{type:Boolean,default:!0},showNext:{type:Boolean,default:!0},showPrevious:{type:Boolean,default:!0}},computed:{widgetParams:function(){return{padding:this.padding,totalPages:this.totalPages}}},emits:["page-change"],methods:{refine:function(t){var e=Math.min(Math.max(t,0),this.state.nbPages-1);this.state.refine(e),this.$emit("page-change",e)}}};var b9=["href"],S9=["href"],T9=["href","aria-label","onClick"],E9=["href"],x9=["aria-label","href"],w9=["aria-label"];function C9(t,e,i,r,n,s){var a;return t.state?(ne(),ae("div",{key:0,class:ue((a={},a[t.suit()]=!0,a[t.suit("","noRefinement")]=t.state.nbPages<=1,a))},[Re(t.$slots,"default",{refine:s.refine,createURL:t.state.createURL,currentRefinement:t.state.currentRefinement,nbHits:t.state.nbHits,nbPages:t.state.nbPages,pages:t.state.pages,isFirstPage:t.state.isFirstPage,isLastPage:t.state.isLastPage},function(){var o,u,l,c;return[X("ul",{class:ue(t.suit("list"))},[i.showFirst?(ne(),ae("li",{key:0,class:ue((o={},o[t.suit("item")]=!0,o[t.suit("item","disabled")]=t.state.isFirstPage,o[t.suit("item","firstPage")]=!0,o))},[Re(t.$slots,"first",{createURL:function(){return t.state.createURL(0)},isFirstPage:t.state.isFirstPage,refine:function(){return s.refine(0)}},function(){return[t.state.isFirstPage?(ne(),ae("span",{key:1,class:ue(t.suit("link")),"aria-label":"First Page"},"",2)):(ne(),ae("a",{key:0,class:ue(t.suit("link")),"aria-label":"First Page",href:t.state.createURL(0),onClick:e[0]||(e[0]=Kt(function(f){return s.refine(0)},["exact","left","prevent"]))},"",10,b9))]})],2)):Le("",!0),i.showPrevious?(ne(),ae("li",{key:1,class:ue((u={},u[t.suit("item")]=!0,u[t.suit("item","disabled")]=t.state.isFirstPage,u[t.suit("item","previousPage")]=!0,u))},[Re(t.$slots,"previous",{createURL:function(){return t.state.createURL(t.state.currentRefinement-1)},isFirstPage:t.state.isFirstPage,refine:function(){return s.refine(t.state.currentRefinement-1)}},function(){return[t.state.isFirstPage?(ne(),ae("span",{key:1,class:ue(t.suit("link")),"aria-label":"Previous Page"},"",2)):(ne(),ae("a",{key:0,class:ue(t.suit("link")),"aria-label":"Previous Page",href:t.state.createURL(t.state.currentRefinement-1),onClick:e[1]||(e[1]=Kt(function(f){return s.refine(t.state.currentRefinement-1)},["exact","left","prevent"]))},"",10,S9))]})],2)):Le("",!0),(ne(!0),ae(We,null,Pt(t.state.pages,function(f){var m;return ne(),ae("li",{class:ue((m={},m[t.suit("item")]=!0,m[t.suit("item","page")]=!0,m[t.suit("item","selected")]=t.state.currentRefinement===f,m)),key:f},[Re(t.$slots,"item",{page:f,createURL:function(){return t.state.createURL(f)},isFirstPage:t.state.isFirstPage,isLastPage:t.state.isLastPage,refine:function(){return s.refine(f)}},function(){return[X("a",{class:ue(t.suit("link")),href:t.state.createURL(f),"aria-label":"Page "+(f+1),onClick:Kt(function(h){return s.refine(f)},["exact","left","prevent"])},je(f+1),11,T9)]})],2)}),128)),i.showNext?(ne(),ae("li",{key:2,class:ue((l={},l[t.suit("item")]=!0,l[t.suit("item","disabled")]=t.state.isLastPage,l[t.suit("item","nextPage")]=!0,l))},[Re(t.$slots,"next",{createURL:function(){return t.state.createURL(t.state.currentRefinement+1)},isLastPage:t.state.isLastPage,refine:function(){return s.refine(t.state.currentRefinement+1)}},function(){return[t.state.isLastPage?(ne(),ae("span",{key:1,class:ue(t.suit("link")),"aria-label":"Next Page"},"",2)):(ne(),ae("a",{key:0,class:ue(t.suit("link")),"aria-label":"Next Page",href:t.state.createURL(t.state.currentRefinement+1),onClick:e[2]||(e[2]=Kt(function(f){return s.refine(t.state.currentRefinement+1)},["exact","left","prevent"]))},"",10,E9))]})],2)):Le("",!0),i.showLast?(ne(),ae("li",{key:3,class:ue((c={},c[t.suit("item")]=!0,c[t.suit("item","disabled")]=t.state.isLastPage,c[t.suit("item","lastPage")]=!0,c))},[Re(t.$slots,"last",{createURL:function(){return t.state.createURL(t.state.nbPages-1)},isLastPage:t.state.isLastPage,refine:function(){return s.refine(t.state.nbPages-1)}},function(){return[t.state.isLastPage?(ne(),ae("span",{key:1,class:ue(t.suit("link")),"aria-label":"Last Page, Page "+t.state.nbPages},"  ",10,w9)):(ne(),ae("a",{key:0,class:ue(t.suit("link")),"aria-label":"Last Page, Page "+t.state.nbPages,href:t.state.createURL(t.state.nbPages-1),onClick:e[3]||(e[3]=Kt(function(f){return s.refine(t.state.nbPages-1)},["exact","left","prevent"]))},"",10,x9))]})],2)):Le("",!0)],2)]})],2)):Le("",!0)}wC.render=C9;const CC={name:"AisPanel",mixins:[it({name:"Panel"}),l7()],methods:{getSlot:function(t){return this.$slots[t]}}};function A9(t,e,i,r,n,s){return ne(),ae("div",{class:ue([t.suit(),!t.canRefine&&t.suit("","noRefinement")])},[s.getSlot("header")?(ne(),ae("div",{key:0,class:ue(t.suit("header"))},[Re(t.$slots,"header",{hasRefinements:t.canRefine})],2)):Le("",!0),X("div",{class:ue(t.suit("body"))},[Re(t.$slots,"default",{hasRefinements:t.canRefine})],2),s.getSlot("footer")?(ne(),ae("div",{key:1,class:ue(t.suit("footer"))},[Re(t.$slots,"footer",{hasRefinements:t.canRefine})],2)):Le("",!0)],2)}CC.render=A9;const AC={name:"AisPoweredBy",mixins:[it({name:"PoweredBy"})],props:{theme:{default:"light",validator:function(t){return["light","dark"].indexOf(t)!==-1}}},computed:{algoliaUrl:function(){return"https://www.algolia.com/?utm_source=vue-instantsearch&utm_medium=website&utm_content="+(location?location.hostname:"")+"&utm_campaign=poweredby"}}};var P9=["href"],O9=["fill"],R9=["fill"];function D9(t,e,i,r,n,s){return ne(),ae("div",{class:ue([t.suit(),t.suit("",i.theme)])},[X("a",{class:ue(t.suit("link")),href:s.algoliaUrl,target:"_blank",rel:"noopener","aria-label":"search by Algolia"},[(ne(),ae("svg",{style:{height:"1.2em",width:"auto"},class:ue([t.suit("logo"),t.suit("",i.theme)]),viewBox:"0 0 572 64"},[X("path",{fill:i.theme==="dark"?"#FFF":"#36395A",d:"M16 48.3c-3.4 0-6.3-.6-8.7-1.7A12.4 12.4 0 0 1 1.9 42C.6 40 0 38 0 35.4h6.5a6.7 6.7 0 0 0 3.9 6c1.4.7 3.3 1.1 5.6 1.1 2.2 0 4-.3 5.4-1a7 7 0 0 0 3-2.4 6 6 0 0 0 1-3.4c0-1.5-.6-2.8-1.9-3.7-1.3-1-3.3-1.6-5.9-1.8l-4-.4c-3.7-.3-6.6-1.4-8.8-3.4a10 10 0 0 1-3.3-7.9c0-2.4.6-4.6 1.8-6.4a12 12 0 0 1 5-4.3c2.2-1 4.7-1.6 7.5-1.6s5.5.5 7.6 1.6a12 12 0 0 1 5 4.4c1.2 1.8 1.8 4 1.8 6.7h-6.5a6.4 6.4 0 0 0-3.5-5.9c-1-.6-2.6-1-4.4-1s-3.2.3-4.4 1c-1.1.6-2 1.4-2.6 2.4-.5 1-.8 2-.8 3.1a5 5 0 0 0 1.5 3.6c1 1 2.6 1.7 4.7 1.9l4 .3c2.8.2 5.2.8 7.2 1.8 2.1 1 3.7 2.2 4.9 3.8a9.7 9.7 0 0 1 1.7 5.8c0 2.5-.7 4.7-2 6.6a13 13 0 0 1-5.6 4.4c-2.4 1-5.2 1.6-8.4 1.6Zm35.6 0c-2.6 0-4.8-.4-6.7-1.3a13 13 0 0 1-4.7-3.5 17.1 17.1 0 0 1-3.6-10.4v-1c0-2 .3-3.8 1-5.6a13 13 0 0 1 7.3-8.3 15 15 0 0 1 6.3-1.4A13.2 13.2 0 0 1 64 24.3c1 2.2 1.6 4.6 1.6 7.2V34H39.4v-4.3h21.8l-1.8 2.2c0-2-.3-3.7-.9-5.1a7.3 7.3 0 0 0-2.7-3.4c-1.2-.7-2.7-1.1-4.6-1.1s-3.4.4-4.7 1.3a8 8 0 0 0-2.9 3.6c-.6 1.5-.9 3.3-.9 5.4 0 2 .3 3.7 1 5.3a7.9 7.9 0 0 0 2.8 3.7c1.3.8 3 1.3 5 1.3s3.8-.5 5.1-1.3c1.3-1 2.1-2 2.4-3.2h6a11.8 11.8 0 0 1-7 8.7 16 16 0 0 1-6.4 1.2ZM80 48c-2.2 0-4-.3-5.7-1a8.4 8.4 0 0 1-3.7-3.3 9.7 9.7 0 0 1-1.3-5.2c0-2 .5-3.8 1.5-5.2a9 9 0 0 1 4.3-3.1c1.8-.7 4-1 6.7-1H89v4.1h-7.5c-2 0-3.4.5-4.4 1.4-1 1-1.6 2.1-1.6 3.6s.5 2.7 1.6 3.6c1 1 2.5 1.4 4.4 1.4 1.1 0 2.2-.2 3.2-.7 1-.4 1.9-1 2.6-2 .6-1 1-2.4 1-4.2l1.7 2.1c-.2 2-.7 3.8-1.5 5.2a9 9 0 0 1-3.4 3.3 12 12 0 0 1-5.3 1Zm9.5-.7v-8.8h-1v-10c0-1.8-.5-3.2-1.4-4.1-1-1-2.4-1.4-4.2-1.4a142.9 142.9 0 0 0-10.2.4v-5.6a74.8 74.8 0 0 1 8.6-.4c3 0 5.5.4 7.5 1.2s3.4 2 4.4 3.6c1 1.7 1.4 4 1.4 6.7v18.4h-5Zm12.9 0V17.8h5v12.3h-.2c0-4.2 1-7.4 2.8-9.5a11 11 0 0 1 8.3-3.1h1v5.6h-2a9 9 0 0 0-6.3 2.2c-1.5 1.5-2.2 3.6-2.2 6.4v15.6h-6.4Zm34.4 1a15 15 0 0 1-6.6-1.3c-1.9-.9-3.4-2-4.7-3.5a15.5 15.5 0 0 1-2.7-5c-.6-1.7-1-3.6-1-5.4v-1c0-2 .4-3.8 1-5.6a15 15 0 0 1 2.8-4.9c1.3-1.5 2.8-2.6 4.6-3.5a16.4 16.4 0 0 1 13.3.2c2 1 3.5 2.3 4.8 4a12 12 0 0 1 2 6H144c-.2-1.6-1-3-2.2-4.1a7.5 7.5 0 0 0-5.2-1.7 8 8 0 0 0-4.7 1.3 8 8 0 0 0-2.8 3.6 13.8 13.8 0 0 0 0 10.3c.6 1.5 1.5 2.7 2.8 3.6s2.8 1.3 4.8 1.3c1.5 0 2.7-.2 3.8-.8a7 7 0 0 0 2.6-2c.7-1 1-2 1.2-3.2h6.2a11 11 0 0 1-2 6.2 15.1 15.1 0 0 1-11.8 5.5Zm19.7-1v-40h6.4V31h-1.3c0-3 .4-5.5 1.1-7.6a9.7 9.7 0 0 1 3.5-4.8A9.9 9.9 0 0 1 172 17h.3c3.5 0 6 1.1 7.9 3.5 1.7 2.3 2.6 5.7 2.6 10v16.8h-6.4V29.6c0-2.1-.6-3.8-1.8-5a6.4 6.4 0 0 0-4.8-1.8c-2 0-3.7.7-5 2a7.8 7.8 0 0 0-1.9 5.5v17h-6.4Zm63.8 1a12.2 12.2 0 0 1-10.9-6.2 19 19 0 0 1-1.8-7.3h1.4v12.5h-5.1v-40h6.4v19.8l-2 3.5c.2-3.1.8-5.7 1.9-7.7a11 11 0 0 1 4.4-4.5c1.8-1 3.9-1.5 6.1-1.5a13.4 13.4 0 0 1 12.8 9.1c.7 1.9 1 3.8 1 6v1c0 2.2-.3 4.1-1 6a13.6 13.6 0 0 1-13.2 9.4Zm-1.2-5.5a8.4 8.4 0 0 0 7.9-5c.7-1.5 1.1-3.3 1.1-5.3s-.4-3.8-1.1-5.3a8.7 8.7 0 0 0-3.2-3.6 9.6 9.6 0 0 0-9.2-.2 8.5 8.5 0 0 0-3.3 3.2c-.8 1.4-1.3 3-1.3 5v2.3a9 9 0 0 0 1.3 4.8 9 9 0 0 0 3.4 3c1.4.7 2.8 1 4.4 1Zm27.3 3.9-10-28.9h6.5l9.5 28.9h-6Zm-7.5 12.2v-5.7h4.9c1 0 2-.1 2.9-.4a4 4 0 0 0 2-1.4c.4-.7.9-1.6 1.2-2.7l8.6-30.9h6.2l-9.3 32.4a14 14 0 0 1-2.5 5 8.9 8.9 0 0 1-4 2.8c-1.5.6-3.4.9-5.6.9h-4.4Zm9-12.2v-5.2h6.4v5.2H248Z"},null,8,O9),X("path",{fill:i.theme==="dark"?"#FFF":"#003DFF",d:"M534.4 9.1H528a.8.8 0 0 1-.7-.7V1.8c0-.4.2-.7.6-.8l6.5-1c.4 0 .8.2.9.6v7.8c0 .4-.4.7-.8.7zM428 35.2V.8c0-.5-.3-.8-.7-.8h-.2l-6.4 1c-.4 0-.7.4-.7.8v35c0 1.6 0 11.8 12.3 12.2.5 0 .8-.4.8-.8V43c0-.4-.3-.7-.6-.8-4.5-.5-4.5-6-4.5-7zm106.5-21.8H528c-.4 0-.7.4-.7.8v34c0 .4.3.8.7.8h6.5c.4 0 .8-.4.8-.8v-34c0-.5-.4-.8-.8-.8zm-17.7 21.8V.8c0-.5-.3-.8-.8-.8l-6.5 1c-.4 0-.7.4-.7.8v35c0 1.6 0 11.8 12.3 12.2.4 0 .8-.4.8-.8V43c0-.4-.3-.7-.7-.8-4.4-.5-4.4-6-4.4-7zm-22.2-20.6a16.5 16.5 0 0 1 8.6 9.3c.8 2.2 1.3 4.8 1.3 7.5a19.4 19.4 0 0 1-4.6 12.6 14.8 14.8 0 0 1-5.2 3.6c-2 .9-5.2 1.4-6.8 1.4a21 21 0 0 1-6.7-1.4 15.4 15.4 0 0 1-8.6-9.3 21.3 21.3 0 0 1 0-14.4 15.2 15.2 0 0 1 8.6-9.3c2-.8 4.3-1.2 6.7-1.2s4.6.4 6.7 1.2zm-6.7 27.6c2.7 0 4.7-1 6.2-3s2.2-4.3 2.2-7.8-.7-6.3-2.2-8.3-3.5-3-6.2-3-4.7 1-6.1 3c-1.5 2-2.2 4.8-2.2 8.3s.7 5.8 2.2 7.8 3.5 3 6.2 3zm-88.8-28.8c-6.2 0-11.7 3.3-14.8 8.2a18.6 18.6 0 0 0 4.8 25.2c1.8 1.2 4 1.8 6.2 1.7s.1 0 .1 0h.9c4.2-.7 8-4 9.1-8.1v7.4c0 .4.3.7.8.7h6.4a.7.7 0 0 0 .7-.7V14.2c0-.5-.3-.8-.7-.8h-13.5zm6.3 26.5a9.8 9.8 0 0 1-5.7 2h-.5a10 10 0 0 1-9.2-14c1.4-3.7 5-6.3 9-6.3h6.4v18.3zm152.3-26.5h13.5c.5 0 .8.3.8.7v33.7c0 .4-.3.7-.8.7h-6.4a.7.7 0 0 1-.8-.7v-7.4c-1.2 4-4.8 7.4-9 8h-.1a4.2 4.2 0 0 1-.5.1h-.9a10.3 10.3 0 0 1-7-2.6c-4-3.3-6.5-8.4-6.5-14.2 0-3.7 1-7.2 3-10 3-5 8.5-8.3 14.7-8.3zm.6 28.4c2.2-.1 4.2-.6 5.7-2V21.7h-6.3a9.8 9.8 0 0 0-9 6.4 10.2 10.2 0 0 0 9.1 13.9h.5zM452.8 13.4c-6.2 0-11.7 3.3-14.8 8.2a18.5 18.5 0 0 0 3.6 24.3 10.4 10.4 0 0 0 13 .6c2.2-1.5 3.8-3.7 4.5-6.1v7.8c0 2.8-.8 5-2.2 6.3-1.5 1.5-4 2.2-7.5 2.2l-6-.3c-.3 0-.7.2-.8.5l-1.6 5.5c-.1.4.1.8.5 1h.1c2.8.4 5.5.6 7 .6 6.3 0 11-1.4 14-4.1 2.7-2.5 4.2-6.3 4.5-11.4V14.2c0-.5-.4-.8-.8-.8h-13.5zm6.3 8.2v18.3a9.6 9.6 0 0 1-5.6 2h-1a10.3 10.3 0 0 1-8.8-14c1.4-3.7 5-6.3 9-6.3h6.4zM291 31.5A32 32 0 0 1 322.8 0h30.8c.6 0 1.2.5 1.2 1.2v61.5c0 1.1-1.3 1.7-2.2 1l-19.2-17a18 18 0 0 1-11 3.4 18.1 18.1 0 1 1 18.2-14.8c-.1.4-.5.7-.9.6-.1 0-.3 0-.4-.2l-3.8-3.4c-.4-.3-.6-.8-.7-1.4a12 12 0 1 0-2.4 8.3c.4-.4 1-.5 1.6-.2l14.7 13.1v-46H323a26 26 0 1 0 10 49.7c.8-.4 1.6-.2 2.3.3l3 2.7c.3.2.3.7 0 1l-.2.2a32 32 0 0 1-47.2-28.6z"},null,8,R9)],2))],10,P9)],2)}AC.render=D9;const I9={name:"AisQueryRuleContext",mixins:[it({name:"QueryRuleContext"}),pt({connector:qw},{$$widgetType:"ais.queryRuleContext"})],props:{trackedFilters:{type:Object,required:!0},transformRuleContexts:{type:Function,required:!1,default:void 0}},computed:{widgetParams:function(){return{trackedFilters:this.trackedFilters,transformRuleContexts:this.transformRuleContexts}}},render:function(){return null}},PC={name:"AisQueryRuleCustomData",mixins:[it({name:"QueryRuleCustomData"}),pt({connector:qw},{$$widgetType:"ais.queryRuleCustomData"})],props:{transformItems:{type:Function,required:!1,default:void 0}},computed:{widgetParams:function(){return{transformItems:this.transformItems}}}};function k9(t,e,i,r,n,s){return t.state?(ne(),ae("div",{key:0,class:ue(t.suit())},[Re(t.$slots,"default",{items:t.state.items},function(){return[(ne(!0),ae(We,null,Pt(t.state.items,function(a,o){return ne(),ae("div",{key:o},[Re(t.$slots,"item",{item:a},function(){return[X("pre",null,je(a),1)]})])}),128))]})],2)):Le("",!0)}PC.render=k9;const OC={name:"AisRangeInput",mixins:[it({name:"RangeInput"}),pt({connector:O6},{$$widgetType:"ais.rangeInput"}),Li()],props:{attribute:{type:String,required:!0},min:{type:Number,required:!1,default:void 0},max:{type:Number,required:!1,default:void 0},precision:{type:Number,required:!1,default:0}},data:function(){return{minInput:void 0,maxInput:void 0}},updated:function(){this.minInput=void 0,this.maxInput=void 0},computed:{widgetParams:function(){return{attribute:this.attribute,min:this.min,max:this.max,precision:this.precision}},step:function(){return 1/Math.pow(10,this.precision)},values:function(){var t=this.state.start,e=t[0],i=t[1],r=this.state.range,n=r.min,s=r.max;return{min:e!==-1/0&&e!==n?e:void 0,max:i!==1/0&&i!==s?i:void 0}}},methods:{pick:function(t,e){return t??e},refine:function(t){var e=t.min,i=t.max;this.state.refine([e,i])}}};var L9=["step","min","max","placeholder","value"],N9=["step","min","max","placeholder","value"];function F9(t,e,i,r,n,s){return t.state?(ne(),ae("div",{key:0,class:ue([t.suit(),!t.state.canRefine&&t.suit("","noRefinement")])},[Re(t.$slots,"default",{currentRefinement:s.values,refine:s.refine,canRefine:t.state.canRefine,range:t.state.range,sendEvent:t.state.sendEvent},function(){return[X("form",{class:ue(t.suit("form")),onSubmit:e[2]||(e[2]=Kt(function(a){return s.refine({min:s.pick(n.minInput,s.values.min),max:s.pick(n.maxInput,s.values.max)})},["prevent"]))},[X("label",{class:ue(t.suit("label"))},[Re(t.$slots,"minLabel"),X("input",{type:"number",class:ue([t.suit("input"),t.suit("input","min")]),step:s.step,min:t.state.range.min,max:t.state.range.max,placeholder:t.state.range.min,value:s.values.min,onChange:e[0]||(e[0]=function(a){return n.minInput=a.currentTarget.value})},null,42,L9)],2),X("span",{class:ue(t.suit("separator"))},[Re(t.$slots,"separator",{},function(){return[Rt("to")]})],2),X("label",{class:ue(t.suit("label"))},[Re(t.$slots,"maxLabel"),X("input",{class:ue([t.suit("input"),t.suit("input","max")]),type:"number",step:s.step,min:t.state.range.min,max:t.state.range.max,placeholder:t.state.range.max,value:s.values.max,onChange:e[1]||(e[1]=function(a){return n.maxInput=a.currentTarget.value})},null,42,N9)],2),X("button",{class:ue(t.suit("submit")),type:"submit"},[Re(t.$slots,"submitLabel",{},function(){return[Rt(" Go ")]})],2)],34)]})],2)):Le("",!0)}OC.render=F9;const RC={name:"AisRatingMenu",mixins:[it({name:"RatingMenu"}),pt({connector:rU},{$$widgetType:"ais.ratingMenu"}),Li()],props:{attribute:{type:String,required:!0},max:{type:Number,default:void 0}},computed:{widgetParams:function(){return{attribute:this.attribute,max:this.max}}}};var M9={style:{display:"none"}},$9=[X("symbol",{id:"ais-RatingMenu-starSymbol",viewBox:"0 0 24 24"},[X("path",{d:"M12 .288l2.833 8.718h9.167l-7.417 5.389 2.833 8.718-7.416-5.388-7.417 5.388 2.833-8.718-7.416-5.389h9.167z"})],-1),X("symbol",{id:"ais-RatingMenu-starEmptySymbol",viewBox:"0 0 24 24"},[X("path",{d:"M12 6.76l1.379 4.246h4.465l-3.612 2.625 1.379 4.246-3.611-2.625-3.612 2.625 1.379-4.246-3.612-2.625h4.465l1.38-4.246zm0-6.472l-2.833 8.718h-9.167l7.416 5.389-2.833 8.718 7.417-5.388 7.416 5.388-2.833-8.718 7.417-5.389h-9.167l-2.833-8.718z"})],-1)],j9=["href","aria-label","onClick"],B9=[X("use",{"xlink:href":"#ais-RatingMenu-starSymbol"},null,-1)],U9=[X("use",{"xlink:href":"#ais-RatingMenu-starEmptySymbol"},null,-1)];function H9(t,e,i,r,n,s){return t.state?(ne(),ae("div",{key:0,class:ue(t.suit())},[Re(t.$slots,"default",{items:t.state.items,refine:t.state.refine,createURL:t.state.createURL,sendEvent:t.state.sendEvent,canRefine:t.state.canRefine},function(){return[(ne(),ae("svg",M9,$9)),X("ul",{class:ue(t.suit("list"))},[(ne(!0),ae(We,null,Pt(t.state.items,function(a,o){return ne(),ae("li",{key:o,class:ue([t.suit("item"),a.isRefined&&t.suit("item","selected")])},[X("div",null,[X("a",{href:t.state.createURL(a.value),"aria-label":a.value+" & up",class:ue(t.suit("link")),onClick:Kt(function(u){return t.state.refine(a.value)},["exact","left","prevent"])},[(ne(!0),ae(We,null,Pt(a.stars,function(u,l){return ne(),ae(We,null,[u?(ne(),ae("svg",{"aria-hidden":"true",width:"24",height:"24",class:ue([t.suit("starIcon"),t.suit("starIcon--full")]),key:l+"-full"},B9,2)):(ne(),ae("svg",{class:ue([t.suit("starIcon"),t.suit("starIcon--empty")]),"aria-hidden":"true",width:"24",height:"24",key:l+"-empty"},U9,2))],64)}),256)),X("span",{class:ue(t.suit("label")),"aria-hidden":"true"},[Re(t.$slots,"andUp",{},function(){return[Rt("& Up")]})],2),X("span",{class:ue(t.suit("count"))},je(a.count),3)],10,j9)])],2)}),128))],2)]})],2)):Le("",!0)}RC.render=H9;const gy={name:"SearchInput",mixins:[it({name:"SearchBox"})],props:{placeholder:{type:String,default:"Search here"},autofocus:{type:Boolean,default:!1},showLoadingIndicator:{type:Boolean,default:!1},shouldShowLoadingIndicator:{type:Boolean,default:!1},ignoreCompositionEvents:{type:Boolean,default:!1},submitTitle:{type:String,default:"Search"},resetTitle:{type:String,default:"Clear"},value:{type:String,required:!1,default:void 0},modelValue:{type:String,required:!1,default:void 0}},emits:["input","update:modelValue","blur","focus","reset"],data:function(){return{query:""}},methods:{isFocused:function(){return document.activeElement===this.$refs.input},onInput:function(t){this.ignoreCompositionEvents&&t.isComposing||(this.$emit("input",t.target.value),this.$emit("update:modelValue",t.target.value))},onFormSubmit:function(){this.$refs.input.blur()},onFormReset:function(){this.$emit("input",""),this.$emit("update:modelValue",""),this.$emit("reset")}}};var q9=["placeholder","autofocus","value"],V9=["title","hidden"],W9=[X("path",{d:"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"},null,-1)],z9=["title","hidden"],G9=[X("path",{d:"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"},null,-1)],K9=["hidden"],Q9=["aria-hidden"],X9=[Q1('<g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".5" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"></animateTransform></path></g></g>',1)];function Y9(t,e,i,r,n,s){return ne(),ae("form",{action:"",role:"search",novalidate:"",class:ue(t.suit("form")),onSubmit:e[4]||(e[4]=Kt(function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];return s.onFormSubmit&&s.onFormSubmit.apply(s,a)},["prevent"])),onReset:e[5]||(e[5]=Kt(function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];return s.onFormReset&&s.onFormReset.apply(s,a)},["prevent"]))},[X("input",{type:"search",autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false",maxlength:"512","aria-label":"Search",placeholder:i.placeholder,autofocus:i.autofocus,class:ue(t.suit("input")),value:i.value||i.modelValue,onFocus:e[0]||(e[0]=function(a){return t.$emit("focus",a)}),onBlur:e[1]||(e[1]=function(a){return t.$emit("blur",a)}),onInput:e[2]||(e[2]=function(a){return s.onInput(a)}),onCompositionend:e[3]||(e[3]=function(a){return s.onInput(a)}),ref:"input"},null,42,q9),X("button",{type:"submit",title:i.submitTitle,class:ue(t.suit("submit")),hidden:i.showLoadingIndicator&&i.shouldShowLoadingIndicator},[Re(t.$slots,"submit-icon",{},function(){return[(ne(),ae("svg",{"aria-hidden":"true",width:"10",height:"10",viewBox:"0 0 40 40",class:ue(t.suit("submitIcon"))},W9,2))]})],10,V9),X("button",{type:"reset",title:i.resetTitle,class:ue(t.suit("reset")),hidden:!i.value&&!i.modelValue||i.showLoadingIndicator&&i.shouldShowLoadingIndicator},[Re(t.$slots,"reset-icon",{},function(){return[(ne(),ae("svg",{"aria-hidden":"true",height:"10",viewBox:"0 0 20 20",class:ue(t.suit("resetIcon")),width:"10"},G9,2))]})],10,z9),i.showLoadingIndicator?(ne(),ae("span",{key:0,hidden:!i.shouldShowLoadingIndicator,class:ue(t.suit("loadingIndicator"))},[Re(t.$slots,"loading-indicator",{},function(){return[(ne(),ae("svg",{"aria-hidden":!i.shouldShowLoadingIndicator,"aria-label":"Results are loading",width:"16",height:"16",stroke:"#444",viewBox:"0 0 38 38",class:ue(t.suit("loadingIcon"))},X9,10,Q9))]})],10,K9)):Le("",!0)],34)}gy.render=Y9;var J9=function(){};const DC={name:"AisRefinementList",components:{SearchInput:gy,AisHighlight:py},mixins:[it({name:"RefinementList"}),pt({connector:N6},{$$widgetType:"ais.refinementList"}),Li()],props:{attribute:{type:String,required:!0},searchable:{type:Boolean,default:void 0},searchablePlaceholder:{type:String,required:!1,default:"Search here"},operator:{default:"or",validator:function(t){return t==="and"||t==="or"},required:!1},limit:{type:Number,required:!1,default:void 0},showMoreLimit:{type:Number,required:!1,default:void 0},showMore:{type:Boolean,required:!1,default:!1},sortBy:{type:[Array,Function],required:!1,default:void 0},transformItems:{type:Function,required:!1,default:void 0}},data:function(){return{searchForFacetValuesQuery:""}},computed:{searchForFacetValues:{get:function(){return this.searchForFacetValuesQuery},set:function(t){this.state.searchForItems(t),this.searchForFacetValuesQuery=t}},toggleShowMore:function(){return this.state.toggleShowMore||J9},items:function(){return this.state.items.map(function(t){return Object.assign({},t,{_highlightResult:{item:{value:t.highlighted}}})})},widgetParams:function(){return{attribute:this.attribute,operator:this.operator,limit:this.limit,showMore:this.showMore,showMoreLimit:this.showMoreLimit,sortBy:this.sortBy,escapeFacetValues:!0,transformItems:this.transformItems}}},methods:{refine:function(t){this.state.refine(t),this.searchForFacetValuesQuery=""}}};var Z9=["value","checked","onChange"],eq=["disabled"];function tq(t,e,i,r,n,s){var a=Jr("search-input"),o=Jr("ais-highlight");return t.state?(ne(),ae("div",{key:0,class:ue([t.suit(),s.items.length===0&&t.suit("","noRefinement")])},[Re(t.$slots,"default",{items:s.items,refine:s.refine,searchForItems:t.state.searchForItems,searchForItemsQuery:n.searchForFacetValuesQuery,toggleShowMore:s.toggleShowMore,canToggleShowMore:t.state.canToggleShowMore,isShowingMore:t.state.isShowingMore,createURL:t.state.createURL,isFromSearch:t.state.isFromSearch,canRefine:t.state.canRefine,sendEvent:t.state.sendEvent},function(){var u;return[i.searchable?(ne(),ae("div",{key:0,class:ue(t.suit("searchBox"))},[rt(a,{modelValue:s.searchForFacetValues,"onUpdate:modelValue":e[0]||(e[0]=function(l){return s.searchForFacetValues=l}),"show-loading-indicator":!0,placeholder:i.searchablePlaceholder,"class-names":t.classNames},null,8,["modelValue","placeholder","class-names"])],2)):Le("",!0),t.state.isFromSearch&&s.items.length===0?Re(t.$slots,"noResults",{key:1,query:s.searchForFacetValues},function(){return[X("div",{class:ue(t.suit("noResults"))},"No results.",2)]}):Le("",!0),s.items.length>0?(ne(),ae("ul",{key:2,class:ue(t.suit("list"))},[(ne(!0),ae(We,null,Pt(s.items,function(l){return ne(),ae("li",{class:ue([t.suit("item"),l.isRefined&&t.suit("item","selected")]),key:l.value},[Re(t.$slots,"item",{item:l,refine:s.refine,createURL:t.state.createURL},function(){return[X("label",{class:ue(t.suit("label"))},[X("input",{class:ue(t.suit("checkbox")),type:"checkbox",value:l.value,checked:l.isRefined,onChange:function(c){return s.refine(l.value)}},null,42,Z9),i.searchable?(ne(),ae("span",{key:0,class:ue(t.suit("labelText"))},[rt(o,{attribute:"item",hit:l},null,8,["hit"])],2)):(ne(),ae("span",{key:1,class:ue(t.suit("labelText"))},je(l.label),3)),X("span",{class:ue(t.suit("count"))},je(l.count),3)],2)]})],2)}),128))],2)):Le("",!0),i.showMore?(ne(),ae("button",{key:3,class:ue([t.suit("showMore"),(u={},u[t.suit("showMore","disabled")]=!t.state.canToggleShowMore,u)]),onClick:e[1]||(e[1]=function(){for(var l=[],c=arguments.length;c--;)l[c]=arguments[c];return s.toggleShowMore&&s.toggleShowMore.apply(s,l)}),disabled:!t.state.canToggleShowMore},[Re(t.$slots,"showMoreLabel",{isShowingMore:t.state.isShowingMore},function(){return[Rt(" Show "+je(t.state.isShowingMore?"less":"more"),1)]})],10,eq)):Le("",!0)]})],2)):Le("",!0)}DC.render=tq;var Ec;const IC=((Ec={name:"AisStateResults",mixins:[pt({connector:!0}),it({name:"StateResults"})],props:{catchError:{type:Boolean,default:!1}},data:function(){var t=this;return{renderFn:function(){var e=t.instantSearchInstance,i=e.status,r=e.error,n=t.getParentIndex().getResults(),s=t.getParentIndex().getHelper(),a=s?s.state:null;t.state={results:n,state:a,status:i,error:r}}}},created:function(){this.instantSearchInstance.addListener("render",this.renderFn),this.renderFn()}}).beforeUnmount=function(){this.widget&&(this.instantSearchInstance.removeListener("render",this.renderFn),this.errorFn&&this.instantSearchInstance.removeListener("error",this.errorFn))},Ec.watch={catchError:{immediate:!0,handler:function(t){t?(this.errorFn=function(){},this.instantSearchInstance.addListener("error",this.errorFn)):this.errorFn&&(this.instantSearchInstance.removeListener("error",this.errorFn),this.errorFn=void 0)}}},Ec.computed={stateResults:function(){var t=this.state,e=t.results,i=t.state,r=t.status,n=t.error;return Iu({},e,{results:e,state:i,status:r,error:n})}},Ec);var iq=X("p",null," Use this component to have a different layout based on a certain state. ",-1),rq=X("p",null,"Fill in the slot, and get access to the following things:",-1);function nq(t,e,i,r,n,s){return t.state&&t.state.state&&t.state.results?(ne(),ae("div",{key:0,class:ue(t.suit())},[Re(t.$slots,"default",ta(ou(s.stateResults)),function(){return[iq,rq,X("pre",null,"results: "+je(Object.keys(t.state.results)),1),X("pre",null,"state: "+je(Object.keys(t.state.state)),1),X("pre",null,"status: "+je(t.state.status),1),X("pre",null,"error: "+je(t.state.error),1)]})],2)):Le("",!0)}IC.render=nq;const kC={name:"AisSearchBox",mixins:[pt({connector:H6},{$$widgetType:"ais.searchBox"}),it({name:"SearchBox"})],components:{SearchInput:gy},props:{placeholder:{type:String,default:""},autofocus:{type:Boolean,default:!1},showLoadingIndicator:{type:Boolean,default:!0},ignoreCompositionEvents:{type:Boolean,default:!1},submitTitle:{type:String,default:"Submit the search query"},resetTitle:{type:String,default:"Clear the search query"},value:{type:String,default:void 0},modelValue:{type:String,default:void 0},queryHook:{type:Function,default:void 0}},data:function(){return{localValue:"",isVue2:_8,isVue3:b8}},computed:{widgetParams:function(){return{queryHook:this.queryHook}},isControlled:function(){return this.value!==void 0||this.modelValue!==void 0},model:function(){return this.value||this.modelValue},currentRefinement:{get:function(){this.isControlled&&this.model!==this.localValue&&(this.localValue=this.model,this.$emit("input",this.model),this.$emit("update:modelValue",this.model),this.state.refine(this.model));var t=this.$refs.searchInput;return t&&t.isFocused()?this.localValue:this.model||this.state.query||""},set:function(t){this.localValue=t,this.state.refine(t),this.isControlled&&(this.$emit("input",t),this.$emit("update:modelValue",t))}}}};function sq(t,e,i,r,n,s){var a=Jr("search-input");return t.state?(ne(),ae("div",{key:0,class:ue(t.suit())},[Re(t.$slots,"default",{currentRefinement:s.currentRefinement,isSearchStalled:t.state.isSearchStalled,refine:t.state.refine},function(){return[rt(a,{onFocus:e[0]||(e[0]=function(o){return t.$emit("focus",o)}),onBlur:e[1]||(e[1]=function(o){return t.$emit("blur",o)}),onReset:e[2]||(e[2]=function(o){return t.$emit("reset")}),placeholder:i.placeholder,autofocus:i.autofocus,"show-loading-indicator":i.showLoadingIndicator,"should-show-loading-indicator":t.state.isSearchStalled,"ignore-composition-events":i.ignoreCompositionEvents,"submit-title":i.submitTitle,"reset-title":i.resetTitle,"class-names":t.classNames,modelValue:s.currentRefinement,"onUpdate:modelValue":e[3]||(e[3]=function(o){return s.currentRefinement=o}),ref:"searchInput"},zp({default:Ut(function(){return[n.isVue2?Re(t.$slots,"loading-indicator",{key:0,slot:"loading-indicator"}):Le("",!0),n.isVue2?Re(t.$slots,"submit-icon",{key:1,slot:"submit-icon"}):Le("",!0),n.isVue2?Re(t.$slots,"reset-icon",{key:2,slot:"reset-icon"}):Le("",!0)]}),_:2},[n.isVue3?{name:"loading-indicator",fn:Ut(function(){return[Re(t.$slots,"loading-indicator")]}),key:"0"}:void 0,n.isVue3?{name:"submit-icon",fn:Ut(function(){return[Re(t.$slots,"submit-icon")]}),key:"1"}:void 0,n.isVue3?{name:"reset-icon",fn:Ut(function(){return[Re(t.$slots,"reset-icon")]}),key:"2"}:void 0]),1032,["placeholder","autofocus","show-loading-indicator","should-show-loading-indicator","ignore-composition-events","submit-title","reset-title","class-names","modelValue"])]})],2)):Le("",!0)}kC.render=sq;const LC={name:"AisSnippet",mixins:[it({name:"Snippet"})],components:{AisHighlighter:Jw},props:{hit:{type:Object,required:!0},attribute:{type:String,required:!0},highlightedTagName:{type:String,default:"mark"}}};function aq(t,e,i,r,n,s){var a=Jr("ais-highlighter");return ne(),Xt(a,{hit:i.hit,attribute:i.attribute,"highlighted-tag-name":i.highlightedTagName,suit:t.suit,"highlight-property":"_snippetResult","pre-tag":"<mark>","post-tag":"</mark>"},null,8,["hit","attribute","highlighted-tag-name","suit"])}LC.render=aq;const NC={name:"AisSortBy",mixins:[it({name:"SortBy"}),pt({connector:z6},{$$widgetType:"ais.sortBy"}),Li()],props:{items:{type:Array,required:!0},transformItems:{type:Function,default:void 0}},computed:{widgetParams:function(){return{items:this.items,transformItems:this.transformItems}}}};var oq=["value","selected"];function uq(t,e,i,r,n,s){return t.state?(ne(),ae("div",{key:0,class:ue(t.suit())},[Re(t.$slots,"default",{items:t.state.options,hasNoResults:t.state.hasNoResults,refine:t.state.refine,currentRefinement:t.state.currentRefinement,canRefine:t.state.canRefine},function(){return[X("select",{class:ue(t.suit("select")),onChange:e[0]||(e[0]=function(a){return t.state.refine(a.currentTarget.value)}),"aria-label":"Sort results by"},[(ne(!0),ae(We,null,Pt(t.state.options,function(a){return ne(),ae("option",{key:a.value,class:ue(t.suit("option")),value:a.value,selected:a.value===t.state.currentRefinement},je(a.label),11,oq)}),128))],34)]})],2)):Le("",!0)}NC.render=uq;const FC={name:"AisStats",mixins:[pt({connector:lU},{$$widgetType:"ais.stats"}),it({name:"Stats"})],computed:{sortedResultsSentence:function(){var t=this.state,e=t.nbHits,i=t.nbSortedHits,r="sorted out of "+e.toLocaleString();return i===0?"No relevant results "+r:i===1?"1 relevant result "+r:i>1?(i||0).toLocaleString()+" relevant results "+r:""},resultsSentence:function(){var t=this.state.nbHits;return t===0?"No results":t===1?"1 result":t>1?t.toLocaleString()+" results":""},widgetParams:function(){return{}}}};function lq(t,e,i,r,n,s){return t.state?(ne(),ae("div",{key:0,class:ue(t.suit())},[Re(t.$slots,"default",Ra(t.state,{results:t.state.instantSearchInstance.helper.lastResults}),function(){return[X("span",{class:ue(t.suit("text"))},[t.state.areHitsSorted?(ne(),ae(We,{key:0},[Rt(je(s.sortedResultsSentence),1)],64)):(ne(),ae(We,{key:1},[Rt(je(s.resultsSentence),1)],64)),Rt(" found in "+je(t.state.processingTimeMS.toLocaleString())+"ms",1)],2)]})],2)):Le("",!0)}FC.render=lq;const MC={name:"AisToggleRefinement",mixins:[it({name:"ToggleRefinement"}),pt({connector:vU},{$$widgetType:"ais.toggleRefinement"}),Li()],props:{attribute:{type:String,required:!0},on:{type:[String,Number,Boolean,Array],required:!1,default:!0},off:{type:[String,Number,Boolean,Array],required:!1,default:void 0},label:{type:String,default:void 0}},computed:{widgetParams:function(){return{attribute:this.attribute,on:this.on,off:this.off}}}};var cq=["name","value","checked"];function dq(t,e,i,r,n,s){return t.state?(ne(),ae("div",{key:0,class:ue([t.suit(),!t.state.canRefine&&t.suit("","noRefinement")])},[Re(t.$slots,"default",{value:t.state.value,canRefine:t.state.canRefine,refine:t.state.refine,createURL:t.state.createURL,sendEvent:t.state.sendEvent},function(){return[X("label",{class:ue(t.suit("label"))},[X("input",{class:ue(t.suit("checkbox")),type:"checkbox",name:t.state.value.name,value:i.on,checked:t.state.value.isRefined,onChange:e[0]||(e[0]=function(a){return t.state.refine(t.state.value)})},null,42,cq),X("span",{class:ue(t.suit("labelText"))},je(i.label||t.state.value.name),3),t.state.value.count!==null?(ne(),ae("span",{key:0,class:ue(t.suit("count"))},je(t.state.value.count.toLocaleString()),3)):Le("",!0)],2)]})],2)):Le("",!0)}MC.render=dq;const $C={name:"AisVoiceSearch",mixins:[pt({connector:YU},{$$widgetType:"ais.voiceSearch"}),it({name:"VoiceSearch"})],props:{searchAsYouSpeak:{type:Boolean,required:!1,default:void 0},language:{type:String,default:void 0},additionalQueryParameters:{type:Object,default:void 0},buttonTitle:{type:String,required:!1,default:"Search by voice"},disabledButtonTitle:{type:String,required:!1,default:"Search by voice (not supported on this browser)"}},data:function(){return{buttonSvgAttrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}}},computed:{widgetParams:function(){return{searchAsYouSpeak:this.searchAsYouSpeak,language:this.language,additionalQueryParameters:this.additionalQueryParameters}},errorNotAllowed:function(){return this.state.voiceListeningState.status==="error"&&this.state.voiceListeningState.errorCode==="not-allowed"},rootSlotProps:function(){return{isBrowserSupported:this.state.isBrowserSupported,isListening:this.state.isListening,toggleListening:this.state.toggleListening,voiceListeningState:this.state.voiceListeningState}},innerSlotProps:function(){return{status:this.state.voiceListeningState.status,errorCode:this.state.voiceListeningState.errorCode,isListening:this.state.isListening,transcript:this.state.voiceListeningState.transcript,isSpeechFinal:this.state.voiceListeningState.isSpeechFinal,isBrowserSupported:this.state.isBrowserSupported}}},methods:{handleClick:function(t){t.currentTarget.blur(),this.state.toggleListening()}}};var hq=["title","disabled"],fq=[Q1('<line x1="1" y1="1" x2="23" y2="23"></line><path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"></path><path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',5)],pq=["fill"],mq=X("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"},null,-1),gq=X("line",{x1:"12",y1:"19",x2:"12",y2:"23"},null,-1),yq=X("line",{x1:"8",y1:"23",x2:"16",y2:"23"},null,-1);function vq(t,e,i,r,n,s){return t.state?(ne(),ae("div",{key:0,class:ue(t.suit())},[Re(t.$slots,"default",ta(ou(s.rootSlotProps)),function(){return[X("button",{type:"button",class:ue(t.suit("button")),title:t.state.isBrowserSupported?i.buttonTitle:i.disabledButtonTitle,disabled:!t.state.isBrowserSupported,onClick:e[0]||(e[0]=function(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];return s.handleClick&&s.handleClick.apply(s,a)})},[Re(t.$slots,"buttonText",ta(ou(s.innerSlotProps)),function(){return[s.errorNotAllowed?(ne(),ae("svg",ta(Ra({key:0},n.buttonSvgAttrs)),fq,16)):(ne(),ae("svg",ta(Ra({key:1},n.buttonSvgAttrs)),[X("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z",fill:t.state.isListening?"currentColor":"none"},null,8,pq),mq,gq,yq],16))]})],10,hq),X("div",{class:ue(t.suit("status"))},[Re(t.$slots,"status",ta(ou(s.innerSlotProps)),function(){return[X("p",null,je(t.state.voiceListeningState.transcript),1)]})],2)]})],2)):Le("",!0)}$C.render=vq;const jC={name:"AisRelevantSort",mixins:[it({name:"RelevantSort"}),pt({connector:t7},{$$widgetType:"ais.relevantSort"})],methods:{refine:function(){this.state.isRelevantSorted?this.state.refine(0):this.state.refine(void 0)}}};function _q(t,e,i,r,n,s){return t.state&&t.state.isVirtualReplica?(ne(),ae("div",{key:0,class:ue(t.suit())},[Re(t.$slots,"default",{isRelevantSorted:t.state.isRelevantSorted,refine:t.state.refine},function(){return[X("div",{class:ue(t.suit("text"))},[Re(t.$slots,"text",{isRelevantSorted:t.state.isRelevantSorted})],2),X("button",{type:"button",class:ue(t.suit("button")),onClick:e[0]||(e[0]=function(a){return s.refine()})},[Re(t.$slots,"button",{isRelevantSorted:t.state.isRelevantSorted},function(){return[Rt(je(t.state.isRelevantSorted?"See all results":"See relevant results"),1)]})],2)]})],2)):Le("",!0)}jC.render=_q;const BC={name:"AisDynamicWidgets",mixins:[pt({connector:A5},{$$widgetType:"ais.dynamicWidgets"}),it({name:"DynamicWidgets"})],props:{transformItems:{type:Function,default:void 0},facets:{type:Array,default:void 0},maxValuesPerFacet:{type:Number,default:void 0}},render:oo(function(t){var e=this,i=new Map;if((fh(this)||[]).forEach(function(n){var s=function a(o){var u,l=o.props;if(l){if(l.attribute)return l.attribute;if(Array.isArray(l.attributes))return l.attributes[0]}if(u=o.children&&o.children.default&&o.children.default(),Array.isArray(u))return u.reduce(function(c,f){return c||a(f)},void 0)}(n);s&&i.set(s,t("div",{key:s,class:[e.suit("widget")]},[n]))}),!this.state){var r=[];return i.forEach(function(n){return r.push(n)}),t("div",Iu({class:[this.suit()]},{attrs:{hidden:!0}}),r)}return t("div",{class:[this.suit()]},this.state.attributesToRender.map(function(n){return i.get(n)}))}),computed:{widgetParams:function(){return{transformItems:this.transformItems,facets:this.facets,maxValuesPerFacet:this.maxValuesPerFacet,widgets:[]}}}},bq=Object.assign({},BC,{name:"AisExperimentalDynamicWidgets",mounted:function(){Pa("Use AisDynamicWidgets instead of AisExperimentalDynamicWidgets.")}}),wp=Object.freeze(Object.defineProperty({__proto__:null,AisAutocomplete:Vw,AisBreadcrumb:Ww,AisClearRefinements:zw,AisConfigure:g7,AisCurrentRefinements:Gw,AisDynamicWidgets:BC,AisExperimentalConfigureRelatedItems:y7,AisExperimentalDynamicWidgets:bq,AisHierarchicalMenu:Qw,AisHighlight:py,AisHits:L7,AisHitsPerPage:Zw,AisIndex:z7,AisInfiniteHits:SC,AisInstantSearch:n9,AisInstantSearchSsr:s9,AisMenu:TC,AisMenuSelect:EC,AisNumericMenu:xC,AisPagination:wC,AisPanel:CC,AisPoweredBy:AC,AisQueryRuleContext:I9,AisQueryRuleCustomData:PC,AisRangeInput:OC,AisRatingMenu:RC,AisRefinementList:DC,AisRelevantSort:jC,AisSearchBox:kC,AisSnippet:LC,AisSortBy:NC,AisStateResults:IC,AisStats:FC,AisToggleRefinement:MC,AisVoiceSearch:$C},Symbol.toStringTag,{value:"Module"}));var Sq={install:function(t){Object.keys(wp).forEach(function(e){t.component(wp[e].name,wp[e])})}};const Tq={};function Eq(t,e){const i=Jr("RouterView");return ne(),Xt(i)}const xq=Zx(Tq,[["render",Eq]]);var Ei="top",Vi="bottom",Wi="right",xi="left",mh="auto",co=[Ei,Vi,Wi,xi],Ms="start",Ga="end",UC="clippingParents",yy="viewport",na="popper",HC="reference",zm=co.reduce(function(t,e){return t.concat([e+"-"+Ms,e+"-"+Ga])},[]),vy=[].concat(co,[mh]).reduce(function(t,e){return t.concat([e,e+"-"+Ms,e+"-"+Ga])},[]),qC="beforeRead",VC="read",WC="afterRead",zC="beforeMain",GC="main",KC="afterMain",QC="beforeWrite",XC="write",YC="afterWrite",JC=[qC,VC,WC,zC,GC,KC,QC,XC,YC];function sn(t){return t?(t.nodeName||"").toLowerCase():null}function zi(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function $s(t){var e=zi(t).Element;return t instanceof e||t instanceof Element}function ir(t){var e=zi(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function _y(t){if(typeof ShadowRoot>"u")return!1;var e=zi(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function wq(t){var e=t.state;Object.keys(e.elements).forEach(function(i){var r=e.styles[i]||{},n=e.attributes[i]||{},s=e.elements[i];!ir(s)||!sn(s)||(Object.assign(s.style,r),Object.keys(n).forEach(function(a){var o=n[a];o===!1?s.removeAttribute(a):s.setAttribute(a,o===!0?"":o)}))})}function Cq(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach(function(r){var n=e.elements[r],s=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:i[r]),o=a.reduce(function(u,l){return u[l]="",u},{});!ir(n)||!sn(n)||(Object.assign(n.style,o),Object.keys(s).forEach(function(u){n.removeAttribute(u)}))})}}const by={name:"applyStyles",enabled:!0,phase:"write",fn:wq,effect:Cq,requires:["computeStyles"]};function Qr(t){return t.split("-")[0]}var Ns=Math.max,Cd=Math.min,Ka=Math.round;function Gm(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function ZC(){return!/^((?!chrome|android).)*safari/i.test(Gm())}function Qa(t,e,i){e===void 0&&(e=!1),i===void 0&&(i=!1);var r=t.getBoundingClientRect(),n=1,s=1;e&&ir(t)&&(n=t.offsetWidth>0&&Ka(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Ka(r.height)/t.offsetHeight||1);var a=$s(t)?zi(t):window,o=a.visualViewport,u=!ZC()&&i,l=(r.left+(u&&o?o.offsetLeft:0))/n,c=(r.top+(u&&o?o.offsetTop:0))/s,f=r.width/n,m=r.height/s;return{width:f,height:m,top:c,right:l+f,bottom:c+m,left:l,x:l,y:c}}function Sy(t){var e=Qa(t),i=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:r}}function eA(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&_y(i)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Pn(t){return zi(t).getComputedStyle(t)}function Aq(t){return["table","td","th"].indexOf(sn(t))>=0}function ls(t){return(($s(t)?t.ownerDocument:t.document)||window.document).documentElement}function gh(t){return sn(t)==="html"?t:t.assignedSlot||t.parentNode||(_y(t)?t.host:null)||ls(t)}function oT(t){return!ir(t)||Pn(t).position==="fixed"?null:t.offsetParent}function Pq(t){var e=/firefox/i.test(Gm()),i=/Trident/i.test(Gm());if(i&&ir(t)){var r=Pn(t);if(r.position==="fixed")return null}var n=gh(t);for(_y(n)&&(n=n.host);ir(n)&&["html","body"].indexOf(sn(n))<0;){var s=Pn(n);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return n;n=n.parentNode}return null}function Ol(t){for(var e=zi(t),i=oT(t);i&&Aq(i)&&Pn(i).position==="static";)i=oT(i);return i&&(sn(i)==="html"||sn(i)==="body"&&Pn(i).position==="static")?e:i||Pq(t)||e}function Ty(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function yu(t,e,i){return Ns(t,Cd(e,i))}function Oq(t,e,i){var r=yu(t,e,i);return r>i?i:r}function tA(){return{top:0,right:0,bottom:0,left:0}}function iA(t){return Object.assign({},tA(),t)}function rA(t,e){return e.reduce(function(i,r){return i[r]=t,i},{})}var Rq=function(e,i){return e=typeof e=="function"?e(Object.assign({},i.rects,{placement:i.placement})):e,iA(typeof e!="number"?e:rA(e,co))};function Dq(t){var e,i=t.state,r=t.name,n=t.options,s=i.elements.arrow,a=i.modifiersData.popperOffsets,o=Qr(i.placement),u=Ty(o),l=[xi,Wi].indexOf(o)>=0,c=l?"height":"width";if(!(!s||!a)){var f=Rq(n.padding,i),m=Sy(s),h=u==="y"?Ei:xi,g=u==="y"?Vi:Wi,p=i.rects.reference[c]+i.rects.reference[u]-a[u]-i.rects.popper[c],_=a[u]-i.rects.reference[u],y=Ol(s),T=y?u==="y"?y.clientHeight||0:y.clientWidth||0:0,E=p/2-_/2,C=f[h],R=T-m[c]-f[g],I=T/2-m[c]/2+E,D=yu(C,I,R),O=u;i.modifiersData[r]=(e={},e[O]=D,e.centerOffset=D-I,e)}}function Iq(t){var e=t.state,i=t.options,r=i.element,n=r===void 0?"[data-popper-arrow]":r;n!=null&&(typeof n=="string"&&(n=e.elements.popper.querySelector(n),!n)||eA(e.elements.popper,n)&&(e.elements.arrow=n))}const nA={name:"arrow",enabled:!0,phase:"main",fn:Dq,effect:Iq,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xa(t){return t.split("-")[1]}var kq={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Lq(t,e){var i=t.x,r=t.y,n=e.devicePixelRatio||1;return{x:Ka(i*n)/n||0,y:Ka(r*n)/n||0}}function uT(t){var e,i=t.popper,r=t.popperRect,n=t.placement,s=t.variation,a=t.offsets,o=t.position,u=t.gpuAcceleration,l=t.adaptive,c=t.roundOffsets,f=t.isFixed,m=a.x,h=m===void 0?0:m,g=a.y,p=g===void 0?0:g,_=typeof c=="function"?c({x:h,y:p}):{x:h,y:p};h=_.x,p=_.y;var y=a.hasOwnProperty("x"),T=a.hasOwnProperty("y"),E=xi,C=Ei,R=window;if(l){var I=Ol(i),D="clientHeight",O="clientWidth";if(I===zi(i)&&(I=ls(i),Pn(I).position!=="static"&&o==="absolute"&&(D="scrollHeight",O="scrollWidth")),I=I,n===Ei||(n===xi||n===Wi)&&s===Ga){C=Vi;var w=f&&I===R&&R.visualViewport?R.visualViewport.height:I[D];p-=w-r.height,p*=u?1:-1}if(n===xi||(n===Ei||n===Vi)&&s===Ga){E=Wi;var P=f&&I===R&&R.visualViewport?R.visualViewport.width:I[O];h-=P-r.width,h*=u?1:-1}}var L=Object.assign({position:o},l&&kq),M=c===!0?Lq({x:h,y:p},zi(i)):{x:h,y:p};if(h=M.x,p=M.y,u){var j;return Object.assign({},L,(j={},j[C]=T?"0":"",j[E]=y?"0":"",j.transform=(R.devicePixelRatio||1)<=1?"translate("+h+"px, "+p+"px)":"translate3d("+h+"px, "+p+"px, 0)",j))}return Object.assign({},L,(e={},e[C]=T?p+"px":"",e[E]=y?h+"px":"",e.transform="",e))}function Nq(t){var e=t.state,i=t.options,r=i.gpuAcceleration,n=r===void 0?!0:r,s=i.adaptive,a=s===void 0?!0:s,o=i.roundOffsets,u=o===void 0?!0:o,l={placement:Qr(e.placement),variation:Xa(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,uT(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,uT(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Ey={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Nq,data:{}};var xc={passive:!0};function Fq(t){var e=t.state,i=t.instance,r=t.options,n=r.scroll,s=n===void 0?!0:n,a=r.resize,o=a===void 0?!0:a,u=zi(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&l.forEach(function(c){c.addEventListener("scroll",i.update,xc)}),o&&u.addEventListener("resize",i.update,xc),function(){s&&l.forEach(function(c){c.removeEventListener("scroll",i.update,xc)}),o&&u.removeEventListener("resize",i.update,xc)}}const xy={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Fq,data:{}};var Mq={left:"right",right:"left",bottom:"top",top:"bottom"};function Vc(t){return t.replace(/left|right|bottom|top/g,function(e){return Mq[e]})}var $q={start:"end",end:"start"};function lT(t){return t.replace(/start|end/g,function(e){return $q[e]})}function wy(t){var e=zi(t),i=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:i,scrollTop:r}}function Cy(t){return Qa(ls(t)).left+wy(t).scrollLeft}function jq(t,e){var i=zi(t),r=ls(t),n=i.visualViewport,s=r.clientWidth,a=r.clientHeight,o=0,u=0;if(n){s=n.width,a=n.height;var l=ZC();(l||!l&&e==="fixed")&&(o=n.offsetLeft,u=n.offsetTop)}return{width:s,height:a,x:o+Cy(t),y:u}}function Bq(t){var e,i=ls(t),r=wy(t),n=(e=t.ownerDocument)==null?void 0:e.body,s=Ns(i.scrollWidth,i.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),a=Ns(i.scrollHeight,i.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),o=-r.scrollLeft+Cy(t),u=-r.scrollTop;return Pn(n||i).direction==="rtl"&&(o+=Ns(i.clientWidth,n?n.clientWidth:0)-s),{width:s,height:a,x:o,y:u}}function Ay(t){var e=Pn(t),i=e.overflow,r=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+n+r)}function sA(t){return["html","body","#document"].indexOf(sn(t))>=0?t.ownerDocument.body:ir(t)&&Ay(t)?t:sA(gh(t))}function vu(t,e){var i;e===void 0&&(e=[]);var r=sA(t),n=r===((i=t.ownerDocument)==null?void 0:i.body),s=zi(r),a=n?[s].concat(s.visualViewport||[],Ay(r)?r:[]):r,o=e.concat(a);return n?o:o.concat(vu(gh(a)))}function Km(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Uq(t,e){var i=Qa(t,!1,e==="fixed");return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}function cT(t,e,i){return e===yy?Km(jq(t,i)):$s(e)?Uq(e,i):Km(Bq(ls(t)))}function Hq(t){var e=vu(gh(t)),i=["absolute","fixed"].indexOf(Pn(t).position)>=0,r=i&&ir(t)?Ol(t):t;return $s(r)?e.filter(function(n){return $s(n)&&eA(n,r)&&sn(n)!=="body"}):[]}function qq(t,e,i,r){var n=e==="clippingParents"?Hq(t):[].concat(e),s=[].concat(n,[i]),a=s[0],o=s.reduce(function(u,l){var c=cT(t,l,r);return u.top=Ns(c.top,u.top),u.right=Cd(c.right,u.right),u.bottom=Cd(c.bottom,u.bottom),u.left=Ns(c.left,u.left),u},cT(t,a,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function aA(t){var e=t.reference,i=t.element,r=t.placement,n=r?Qr(r):null,s=r?Xa(r):null,a=e.x+e.width/2-i.width/2,o=e.y+e.height/2-i.height/2,u;switch(n){case Ei:u={x:a,y:e.y-i.height};break;case Vi:u={x:a,y:e.y+e.height};break;case Wi:u={x:e.x+e.width,y:o};break;case xi:u={x:e.x-i.width,y:o};break;default:u={x:e.x,y:e.y}}var l=n?Ty(n):null;if(l!=null){var c=l==="y"?"height":"width";switch(s){case Ms:u[l]=u[l]-(e[c]/2-i[c]/2);break;case Ga:u[l]=u[l]+(e[c]/2-i[c]/2);break}}return u}function Ya(t,e){e===void 0&&(e={});var i=e,r=i.placement,n=r===void 0?t.placement:r,s=i.strategy,a=s===void 0?t.strategy:s,o=i.boundary,u=o===void 0?UC:o,l=i.rootBoundary,c=l===void 0?yy:l,f=i.elementContext,m=f===void 0?na:f,h=i.altBoundary,g=h===void 0?!1:h,p=i.padding,_=p===void 0?0:p,y=iA(typeof _!="number"?_:rA(_,co)),T=m===na?HC:na,E=t.rects.popper,C=t.elements[g?T:m],R=qq($s(C)?C:C.contextElement||ls(t.elements.popper),u,c,a),I=Qa(t.elements.reference),D=aA({reference:I,element:E,placement:n}),O=Km(Object.assign({},E,D)),w=m===na?O:I,P={top:R.top-w.top+y.top,bottom:w.bottom-R.bottom+y.bottom,left:R.left-w.left+y.left,right:w.right-R.right+y.right},L=t.modifiersData.offset;if(m===na&&L){var M=L[n];Object.keys(P).forEach(function(j){var Q=[Wi,Vi].indexOf(j)>=0?1:-1,Z=[Ei,Vi].indexOf(j)>=0?"y":"x";P[j]+=M[Z]*Q})}return P}function Vq(t,e){e===void 0&&(e={});var i=e,r=i.placement,n=i.boundary,s=i.rootBoundary,a=i.padding,o=i.flipVariations,u=i.allowedAutoPlacements,l=u===void 0?vy:u,c=Xa(r),f=c?o?zm:zm.filter(function(g){return Xa(g)===c}):co,m=f.filter(function(g){return l.indexOf(g)>=0});m.length===0&&(m=f);var h=m.reduce(function(g,p){return g[p]=Ya(t,{placement:p,boundary:n,rootBoundary:s,padding:a})[Qr(p)],g},{});return Object.keys(h).sort(function(g,p){return h[g]-h[p]})}function Wq(t){if(Qr(t)===mh)return[];var e=Vc(t);return[lT(t),e,lT(e)]}function zq(t){var e=t.state,i=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var n=i.mainAxis,s=n===void 0?!0:n,a=i.altAxis,o=a===void 0?!0:a,u=i.fallbackPlacements,l=i.padding,c=i.boundary,f=i.rootBoundary,m=i.altBoundary,h=i.flipVariations,g=h===void 0?!0:h,p=i.allowedAutoPlacements,_=e.options.placement,y=Qr(_),T=y===_,E=u||(T||!g?[Vc(_)]:Wq(_)),C=[_].concat(E).reduce(function(Ce,ge){return Ce.concat(Qr(ge)===mh?Vq(e,{placement:ge,boundary:c,rootBoundary:f,padding:l,flipVariations:g,allowedAutoPlacements:p}):ge)},[]),R=e.rects.reference,I=e.rects.popper,D=new Map,O=!0,w=C[0],P=0;P<C.length;P++){var L=C[P],M=Qr(L),j=Xa(L)===Ms,Q=[Ei,Vi].indexOf(M)>=0,Z=Q?"width":"height",J=Ya(e,{placement:L,boundary:c,rootBoundary:f,altBoundary:m,padding:l}),H=Q?j?Wi:xi:j?Vi:Ei;R[Z]>I[Z]&&(H=Vc(H));var W=Vc(H),G=[];if(s&&G.push(J[M]<=0),o&&G.push(J[H]<=0,J[W]<=0),G.every(function(Ce){return Ce})){w=L,O=!1;break}D.set(L,G)}if(O)for(var Y=g?3:1,ie=function(ge){var Oe=C.find(function(re){var ce=D.get(re);if(ce)return ce.slice(0,ge).every(function(_e){return _e})});if(Oe)return w=Oe,"break"},me=Y;me>0;me--){var Te=ie(me);if(Te==="break")break}e.placement!==w&&(e.modifiersData[r]._skip=!0,e.placement=w,e.reset=!0)}}const oA={name:"flip",enabled:!0,phase:"main",fn:zq,requiresIfExists:["offset"],data:{_skip:!1}};function dT(t,e,i){return i===void 0&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function hT(t){return[Ei,Wi,Vi,xi].some(function(e){return t[e]>=0})}function Gq(t){var e=t.state,i=t.name,r=e.rects.reference,n=e.rects.popper,s=e.modifiersData.preventOverflow,a=Ya(e,{elementContext:"reference"}),o=Ya(e,{altBoundary:!0}),u=dT(a,r),l=dT(o,n,s),c=hT(u),f=hT(l);e.modifiersData[i]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}const uA={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Gq};function Kq(t,e,i){var r=Qr(t),n=[xi,Ei].indexOf(r)>=0?-1:1,s=typeof i=="function"?i(Object.assign({},e,{placement:t})):i,a=s[0],o=s[1];return a=a||0,o=(o||0)*n,[xi,Wi].indexOf(r)>=0?{x:o,y:a}:{x:a,y:o}}function Qq(t){var e=t.state,i=t.options,r=t.name,n=i.offset,s=n===void 0?[0,0]:n,a=vy.reduce(function(c,f){return c[f]=Kq(f,e.rects,s),c},{}),o=a[e.placement],u=o.x,l=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=a}const lA={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Qq};function Xq(t){var e=t.state,i=t.name;e.modifiersData[i]=aA({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Py={name:"popperOffsets",enabled:!0,phase:"read",fn:Xq,data:{}};function Yq(t){return t==="x"?"y":"x"}function Jq(t){var e=t.state,i=t.options,r=t.name,n=i.mainAxis,s=n===void 0?!0:n,a=i.altAxis,o=a===void 0?!1:a,u=i.boundary,l=i.rootBoundary,c=i.altBoundary,f=i.padding,m=i.tether,h=m===void 0?!0:m,g=i.tetherOffset,p=g===void 0?0:g,_=Ya(e,{boundary:u,rootBoundary:l,padding:f,altBoundary:c}),y=Qr(e.placement),T=Xa(e.placement),E=!T,C=Ty(y),R=Yq(C),I=e.modifiersData.popperOffsets,D=e.rects.reference,O=e.rects.popper,w=typeof p=="function"?p(Object.assign({},e.rects,{placement:e.placement})):p,P=typeof w=="number"?{mainAxis:w,altAxis:w}:Object.assign({mainAxis:0,altAxis:0},w),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(I){if(s){var j,Q=C==="y"?Ei:xi,Z=C==="y"?Vi:Wi,J=C==="y"?"height":"width",H=I[C],W=H+_[Q],G=H-_[Z],Y=h?-O[J]/2:0,ie=T===Ms?D[J]:O[J],me=T===Ms?-O[J]:-D[J],Te=e.elements.arrow,Ce=h&&Te?Sy(Te):{width:0,height:0},ge=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:tA(),Oe=ge[Q],re=ge[Z],ce=yu(0,D[J],Ce[J]),_e=E?D[J]/2-Y-ce-Oe-P.mainAxis:ie-ce-Oe-P.mainAxis,Ee=E?-D[J]/2+Y+ce+re+P.mainAxis:me+ce+re+P.mainAxis,Fe=e.elements.arrow&&Ol(e.elements.arrow),B=Fe?C==="y"?Fe.clientTop||0:Fe.clientLeft||0:0,z=(j=L==null?void 0:L[C])!=null?j:0,te=H+_e-z-B,pe=H+Ee-z,he=yu(h?Cd(W,te):W,H,h?Ns(G,pe):G);I[C]=he,M[C]=he-H}if(o){var be,Ae=C==="x"?Ei:xi,xe=C==="x"?Vi:Wi,ye=I[R],fe=R==="y"?"height":"width",ke=ye+_[Ae],Pe=ye-_[xe],Me=[Ei,xi].indexOf(y)!==-1,$e=(be=L==null?void 0:L[R])!=null?be:0,Ge=Me?ke:ye-D[fe]-O[fe]-$e+P.altAxis,Je=Me?ye+D[fe]+O[fe]-$e-P.altAxis:Pe,Ze=h&&Me?Oq(Ge,ye,Je):yu(h?Ge:ke,ye,h?Je:Pe);I[R]=Ze,M[R]=Ze-ye}e.modifiersData[r]=M}}const cA={name:"preventOverflow",enabled:!0,phase:"main",fn:Jq,requiresIfExists:["offset"]};function Zq(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function eV(t){return t===zi(t)||!ir(t)?wy(t):Zq(t)}function tV(t){var e=t.getBoundingClientRect(),i=Ka(e.width)/t.offsetWidth||1,r=Ka(e.height)/t.offsetHeight||1;return i!==1||r!==1}function iV(t,e,i){i===void 0&&(i=!1);var r=ir(e),n=ir(e)&&tV(e),s=ls(e),a=Qa(t,n,i),o={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!i)&&((sn(e)!=="body"||Ay(s))&&(o=eV(e)),ir(e)?(u=Qa(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):s&&(u.x=Cy(s))),{x:a.left+o.scrollLeft-u.x,y:a.top+o.scrollTop-u.y,width:a.width,height:a.height}}function rV(t){var e=new Map,i=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function n(s){i.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!i.has(o)){var u=e.get(o);u&&n(u)}}),r.push(s)}return t.forEach(function(s){i.has(s.name)||n(s)}),r}function nV(t){var e=rV(t);return JC.reduce(function(i,r){return i.concat(e.filter(function(n){return n.phase===r}))},[])}function sV(t){var e;return function(){return e||(e=new Promise(function(i){Promise.resolve().then(function(){e=void 0,i(t())})})),e}}function aV(t){var e=t.reduce(function(i,r){var n=i[r.name];return i[r.name]=n?Object.assign({},n,r,{options:Object.assign({},n.options,r.options),data:Object.assign({},n.data,r.data)}):r,i},{});return Object.keys(e).map(function(i){return e[i]})}var fT={placement:"bottom",modifiers:[],strategy:"absolute"};function pT(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function yh(t){t===void 0&&(t={});var e=t,i=e.defaultModifiers,r=i===void 0?[]:i,n=e.defaultOptions,s=n===void 0?fT:n;return function(o,u,l){l===void 0&&(l=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},fT,s),modifiersData:{},elements:{reference:o,popper:u},attributes:{},styles:{}},f=[],m=!1,h={state:c,setOptions:function(y){var T=typeof y=="function"?y(c.options):y;p(),c.options=Object.assign({},s,c.options,T),c.scrollParents={reference:$s(o)?vu(o):o.contextElement?vu(o.contextElement):[],popper:vu(u)};var E=nV(aV([].concat(r,c.options.modifiers)));return c.orderedModifiers=E.filter(function(C){return C.enabled}),g(),h.update()},forceUpdate:function(){if(!m){var y=c.elements,T=y.reference,E=y.popper;if(pT(T,E)){c.rects={reference:iV(T,Ol(E),c.options.strategy==="fixed"),popper:Sy(E)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(P){return c.modifiersData[P.name]=Object.assign({},P.data)});for(var C=0;C<c.orderedModifiers.length;C++){if(c.reset===!0){c.reset=!1,C=-1;continue}var R=c.orderedModifiers[C],I=R.fn,D=R.options,O=D===void 0?{}:D,w=R.name;typeof I=="function"&&(c=I({state:c,options:O,name:w,instance:h})||c)}}}},update:sV(function(){return new Promise(function(_){h.forceUpdate(),_(c)})}),destroy:function(){p(),m=!0}};if(!pT(o,u))return h;h.setOptions(l).then(function(_){!m&&l.onFirstUpdate&&l.onFirstUpdate(_)});function g(){c.orderedModifiers.forEach(function(_){var y=_.name,T=_.options,E=T===void 0?{}:T,C=_.effect;if(typeof C=="function"){var R=C({state:c,name:y,instance:h,options:E}),I=function(){};f.push(R||I)}})}function p(){f.forEach(function(_){return _()}),f=[]}return h}}var oV=yh(),uV=[xy,Py,Ey,by],lV=yh({defaultModifiers:uV}),cV=[xy,Py,Ey,by,lA,oA,cA,nA,uA],Oy=yh({defaultModifiers:cV});const dA=Object.freeze(Object.defineProperty({__proto__:null,afterMain:KC,afterRead:WC,afterWrite:YC,applyStyles:by,arrow:nA,auto:mh,basePlacements:co,beforeMain:zC,beforeRead:qC,beforeWrite:QC,bottom:Vi,clippingParents:UC,computeStyles:Ey,createPopper:Oy,createPopperBase:oV,createPopperLite:lV,detectOverflow:Ya,end:Ga,eventListeners:xy,flip:oA,hide:uA,left:xi,main:GC,modifierPhases:JC,offset:lA,placements:vy,popper:na,popperGenerator:yh,popperOffsets:Py,preventOverflow:cA,read:VC,reference:HC,right:Wi,start:Ms,top:Ei,variationPlacements:zm,viewport:yy,write:XC},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Vn=new Map,Cp={set(t,e,i){Vn.has(t)||Vn.set(t,new Map);const r=Vn.get(t);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,i)},get(t,e){return Vn.has(t)&&Vn.get(t).get(e)||null},remove(t,e){if(!Vn.has(t))return;const i=Vn.get(t);i.delete(e),i.size===0&&Vn.delete(t)}},dV=1e6,hV=1e3,Qm="transitionend",hA=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,i)=>`#${CSS.escape(i)}`)),t),fV=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),pV=t=>{do t+=Math.floor(Math.random()*dV);while(document.getElementById(t));return t},mV=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:i}=window.getComputedStyle(t);const r=Number.parseFloat(e),n=Number.parseFloat(i);return!r&&!n?0:(e=e.split(",")[0],i=i.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(i))*hV)},fA=t=>{t.dispatchEvent(new Event(Qm))},Sn=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),rs=t=>Sn(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(hA(t)):null,ho=t=>{if(!Sn(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",i=t.closest("details:not([open])");if(!i)return e;if(i!==t){const r=t.closest("summary");if(r&&r.parentNode!==i||r===null)return!1}return e},ns=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",pA=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?pA(t.parentNode):null},Ad=()=>{},Rl=t=>{t.offsetHeight},mA=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Ap=[],gV=t=>{document.readyState==="loading"?(Ap.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Ap)e()}),Ap.push(t)):t()},ar=()=>document.documentElement.dir==="rtl",cr=t=>{gV(()=>{const e=mA();if(e){const i=t.NAME,r=e.fn[i];e.fn[i]=t.jQueryInterface,e.fn[i].Constructor=t,e.fn[i].noConflict=()=>(e.fn[i]=r,t.jQueryInterface)}})},Ii=(t,e=[],i=t)=>typeof t=="function"?t.call(...e):i,gA=(t,e,i=!0)=>{if(!i){Ii(t);return}const n=mV(e)+5;let s=!1;const a=({target:o})=>{o===e&&(s=!0,e.removeEventListener(Qm,a),Ii(t))};e.addEventListener(Qm,a),setTimeout(()=>{s||fA(e)},n)},Ry=(t,e,i,r)=>{const n=t.length;let s=t.indexOf(e);return s===-1?!i&&r?t[n-1]:t[0]:(s+=i?1:-1,r&&(s=(s+n)%n),t[Math.max(0,Math.min(s,n-1))])},yV=/[^.]*(?=\..*)\.|.*/,vV=/\..*/,_V=/::\d+$/,Pp={};let mT=1;const yA={mouseenter:"mouseover",mouseleave:"mouseout"},bV=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function vA(t,e){return e&&`${e}::${mT++}`||t.uidEvent||mT++}function _A(t){const e=vA(t);return t.uidEvent=e,Pp[e]=Pp[e]||{},Pp[e]}function SV(t,e){return function i(r){return Dy(r,{delegateTarget:t}),i.oneOff&&Se.off(t,r.type,e),e.apply(t,[r])}}function TV(t,e,i){return function r(n){const s=t.querySelectorAll(e);for(let{target:a}=n;a&&a!==this;a=a.parentNode)for(const o of s)if(o===a)return Dy(n,{delegateTarget:a}),r.oneOff&&Se.off(t,n.type,e,i),i.apply(a,[n])}}function bA(t,e,i=null){return Object.values(t).find(r=>r.callable===e&&r.delegationSelector===i)}function SA(t,e,i){const r=typeof e=="string",n=r?i:e||i;let s=TA(t);return bV.has(s)||(s=t),[r,n,s]}function gT(t,e,i,r,n){if(typeof e!="string"||!t)return;let[s,a,o]=SA(e,i,r);e in yA&&(a=(g=>function(p){if(!p.relatedTarget||p.relatedTarget!==p.delegateTarget&&!p.delegateTarget.contains(p.relatedTarget))return g.call(this,p)})(a));const u=_A(t),l=u[o]||(u[o]={}),c=bA(l,a,s?i:null);if(c){c.oneOff=c.oneOff&&n;return}const f=vA(a,e.replace(yV,"")),m=s?TV(t,i,a):SV(t,a);m.delegationSelector=s?i:null,m.callable=a,m.oneOff=n,m.uidEvent=f,l[f]=m,t.addEventListener(o,m,s)}function Xm(t,e,i,r,n){const s=bA(e[i],r,n);s&&(t.removeEventListener(i,s,!!n),delete e[i][s.uidEvent])}function EV(t,e,i,r){const n=e[i]||{};for(const[s,a]of Object.entries(n))s.includes(r)&&Xm(t,e,i,a.callable,a.delegationSelector)}function TA(t){return t=t.replace(vV,""),yA[t]||t}const Se={on(t,e,i,r){gT(t,e,i,r,!1)},one(t,e,i,r){gT(t,e,i,r,!0)},off(t,e,i,r){if(typeof e!="string"||!t)return;const[n,s,a]=SA(e,i,r),o=a!==e,u=_A(t),l=u[a]||{},c=e.startsWith(".");if(typeof s<"u"){if(!Object.keys(l).length)return;Xm(t,u,a,s,n?i:null);return}if(c)for(const f of Object.keys(u))EV(t,u,f,e.slice(1));for(const[f,m]of Object.entries(l)){const h=f.replace(_V,"");(!o||e.includes(h))&&Xm(t,u,a,m.callable,m.delegationSelector)}},trigger(t,e,i){if(typeof e!="string"||!t)return null;const r=mA(),n=TA(e),s=e!==n;let a=null,o=!0,u=!0,l=!1;s&&r&&(a=r.Event(e,i),r(t).trigger(a),o=!a.isPropagationStopped(),u=!a.isImmediatePropagationStopped(),l=a.isDefaultPrevented());const c=Dy(new Event(e,{bubbles:o,cancelable:!0}),i);return l&&c.preventDefault(),u&&t.dispatchEvent(c),c.defaultPrevented&&a&&a.preventDefault(),c}};function Dy(t,e={}){for(const[i,r]of Object.entries(e))try{t[i]=r}catch{Object.defineProperty(t,i,{configurable:!0,get(){return r}})}return t}function yT(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Op(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Tn={setDataAttribute(t,e,i){t.setAttribute(`data-bs-${Op(e)}`,i)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${Op(e)}`)},getDataAttributes(t){if(!t)return{};const e={},i=Object.keys(t.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of i){let n=r.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1),e[n]=yT(t.dataset[r])}return e},getDataAttribute(t,e){return yT(t.getAttribute(`data-bs-${Op(e)}`))}};class Dl{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,i){const r=Sn(i)?Tn.getDataAttribute(i,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...Sn(i)?Tn.getDataAttributes(i):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,i=this.constructor.DefaultType){for(const[r,n]of Object.entries(i)){const s=e[r],a=Sn(s)?"element":fV(s);if(!new RegExp(n).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${a}" but expected type "${n}".`)}}}const xV="5.3.6";class Cr extends Dl{constructor(e,i){super(),e=rs(e),e&&(this._element=e,this._config=this._getConfig(i),Cp.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Cp.remove(this._element,this.constructor.DATA_KEY),Se.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,i,r=!0){gA(e,i,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Cp.get(rs(e),this.DATA_KEY)}static getOrCreateInstance(e,i={}){return this.getInstance(e)||new this(e,typeof i=="object"?i:null)}static get VERSION(){return xV}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Rp=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let i=t.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),e=i&&i!=="#"?i.trim():null}return e?e.split(",").map(i=>hA(i)).join(","):null},He={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(i=>i.matches(e))},parents(t,e){const i=[];let r=t.parentNode.closest(e);for(;r;)i.push(r),r=r.parentNode.closest(e);return i},prev(t,e){let i=t.previousElementSibling;for(;i;){if(i.matches(e))return[i];i=i.previousElementSibling}return[]},next(t,e){let i=t.nextElementSibling;for(;i;){if(i.matches(e))return[i];i=i.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(i=>`${i}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(i=>!ns(i)&&ho(i))},getSelectorFromElement(t){const e=Rp(t);return e&&He.findOne(e)?e:null},getElementFromSelector(t){const e=Rp(t);return e?He.findOne(e):null},getMultipleElementsFromSelector(t){const e=Rp(t);return e?He.find(e):[]}},vh=(t,e="hide")=>{const i=`click.dismiss${t.EVENT_KEY}`,r=t.NAME;Se.on(document,i,`[data-bs-dismiss="${r}"]`,function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),ns(this))return;const s=He.getElementFromSelector(this)||this.closest(`.${r}`);t.getOrCreateInstance(s)[e]()})},wV="alert",CV="bs.alert",EA=`.${CV}`,AV=`close${EA}`,PV=`closed${EA}`,OV="fade",RV="show";class _h extends Cr{static get NAME(){return wV}close(){if(Se.trigger(this._element,AV).defaultPrevented)return;this._element.classList.remove(RV);const i=this._element.classList.contains(OV);this._queueCallback(()=>this._destroyElement(),this._element,i)}_destroyElement(){this._element.remove(),Se.trigger(this._element,PV),this.dispose()}static jQueryInterface(e){return this.each(function(){const i=_h.getOrCreateInstance(this);if(typeof e=="string"){if(i[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);i[e](this)}})}}vh(_h,"close");cr(_h);const DV="button",IV="bs.button",kV=`.${IV}`,LV=".data-api",NV="active",vT='[data-bs-toggle="button"]',FV=`click${kV}${LV}`;class bh extends Cr{static get NAME(){return DV}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(NV))}static jQueryInterface(e){return this.each(function(){const i=bh.getOrCreateInstance(this);e==="toggle"&&i[e]()})}}Se.on(document,FV,vT,t=>{t.preventDefault();const e=t.target.closest(vT);bh.getOrCreateInstance(e).toggle()});cr(bh);const MV="swipe",fo=".bs.swipe",$V=`touchstart${fo}`,jV=`touchmove${fo}`,BV=`touchend${fo}`,UV=`pointerdown${fo}`,HV=`pointerup${fo}`,qV="touch",VV="pen",WV="pointer-event",zV=40,GV={endCallback:null,leftCallback:null,rightCallback:null},KV={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Pd extends Dl{constructor(e,i){super(),this._element=e,!(!e||!Pd.isSupported())&&(this._config=this._getConfig(i),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return GV}static get DefaultType(){return KV}static get NAME(){return MV}dispose(){Se.off(this._element,fo)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Ii(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=zV)return;const i=e/this._deltaX;this._deltaX=0,i&&Ii(i>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Se.on(this._element,UV,e=>this._start(e)),Se.on(this._element,HV,e=>this._end(e)),this._element.classList.add(WV)):(Se.on(this._element,$V,e=>this._start(e)),Se.on(this._element,jV,e=>this._move(e)),Se.on(this._element,BV,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===VV||e.pointerType===qV)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const QV="carousel",XV="bs.carousel",cs=`.${XV}`,xA=".data-api",YV="ArrowLeft",JV="ArrowRight",ZV=500,zo="next",Zs="prev",sa="left",Wc="right",eW=`slide${cs}`,Dp=`slid${cs}`,tW=`keydown${cs}`,iW=`mouseenter${cs}`,rW=`mouseleave${cs}`,nW=`dragstart${cs}`,sW=`load${cs}${xA}`,aW=`click${cs}${xA}`,wA="carousel",wc="active",oW="slide",uW="carousel-item-end",lW="carousel-item-start",cW="carousel-item-next",dW="carousel-item-prev",CA=".active",AA=".carousel-item",hW=CA+AA,fW=".carousel-item img",pW=".carousel-indicators",mW="[data-bs-slide], [data-bs-slide-to]",gW='[data-bs-ride="carousel"]',yW={[YV]:Wc,[JV]:sa},vW={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},_W={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Il extends Cr{constructor(e,i){super(e,i),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=He.findOne(pW,this._element),this._addEventListeners(),this._config.ride===wA&&this.cycle()}static get Default(){return vW}static get DefaultType(){return _W}static get NAME(){return QV}next(){this._slide(zo)}nextWhenVisible(){!document.hidden&&ho(this._element)&&this.next()}prev(){this._slide(Zs)}pause(){this._isSliding&&fA(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){Se.one(this._element,Dp,()=>this.cycle());return}this.cycle()}}to(e){const i=this._getItems();if(e>i.length-1||e<0)return;if(this._isSliding){Se.one(this._element,Dp,()=>this.to(e));return}const r=this._getItemIndex(this._getActive());if(r===e)return;const n=e>r?zo:Zs;this._slide(n,i[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&Se.on(this._element,tW,e=>this._keydown(e)),this._config.pause==="hover"&&(Se.on(this._element,iW,()=>this.pause()),Se.on(this._element,rW,()=>this._maybeEnableCycle())),this._config.touch&&Pd.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of He.find(fW,this._element))Se.on(r,nW,n=>n.preventDefault());const i={leftCallback:()=>this._slide(this._directionToOrder(sa)),rightCallback:()=>this._slide(this._directionToOrder(Wc)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),ZV+this._config.interval))}};this._swipeHelper=new Pd(this._element,i)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const i=yW[e.key];i&&(e.preventDefault(),this._slide(this._directionToOrder(i)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const i=He.findOne(CA,this._indicatorsElement);i.classList.remove(wc),i.removeAttribute("aria-current");const r=He.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(wc),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const i=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=i||this._config.defaultInterval}_slide(e,i=null){if(this._isSliding)return;const r=this._getActive(),n=e===zo,s=i||Ry(this._getItems(),r,n,this._config.wrap);if(s===r)return;const a=this._getItemIndex(s),o=h=>Se.trigger(this._element,h,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:a});if(o(eW).defaultPrevented||!r||!s)return;const l=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=s;const c=n?lW:uW,f=n?cW:dW;s.classList.add(f),Rl(s),r.classList.add(c),s.classList.add(c);const m=()=>{s.classList.remove(c,f),s.classList.add(wc),r.classList.remove(wc,f,c),this._isSliding=!1,o(Dp)};this._queueCallback(m,r,this._isAnimated()),l&&this.cycle()}_isAnimated(){return this._element.classList.contains(oW)}_getActive(){return He.findOne(hW,this._element)}_getItems(){return He.find(AA,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return ar()?e===sa?Zs:zo:e===sa?zo:Zs}_orderToDirection(e){return ar()?e===Zs?sa:Wc:e===Zs?Wc:sa}static jQueryInterface(e){return this.each(function(){const i=Il.getOrCreateInstance(this,e);if(typeof e=="number"){i.to(e);return}if(typeof e=="string"){if(i[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);i[e]()}})}}Se.on(document,aW,mW,function(t){const e=He.getElementFromSelector(this);if(!e||!e.classList.contains(wA))return;t.preventDefault();const i=Il.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){i.to(r),i._maybeEnableCycle();return}if(Tn.getDataAttribute(this,"slide")==="next"){i.next(),i._maybeEnableCycle();return}i.prev(),i._maybeEnableCycle()});Se.on(window,sW,()=>{const t=He.find(gW);for(const e of t)Il.getOrCreateInstance(e)});cr(Il);const bW="collapse",SW="bs.collapse",kl=`.${SW}`,TW=".data-api",EW=`show${kl}`,xW=`shown${kl}`,wW=`hide${kl}`,CW=`hidden${kl}`,AW=`click${kl}${TW}`,Ip="show",ha="collapse",Cc="collapsing",PW="collapsed",OW=`:scope .${ha} .${ha}`,RW="collapse-horizontal",DW="width",IW="height",kW=".collapse.show, .collapse.collapsing",Ym='[data-bs-toggle="collapse"]',LW={parent:null,toggle:!0},NW={parent:"(null|element)",toggle:"boolean"};class vl extends Cr{constructor(e,i){super(e,i),this._isTransitioning=!1,this._triggerArray=[];const r=He.find(Ym);for(const n of r){const s=He.getSelectorFromElement(n),a=He.find(s).filter(o=>o===this._element);s!==null&&a.length&&this._triggerArray.push(n)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return LW}static get DefaultType(){return NW}static get NAME(){return bW}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(kW).filter(o=>o!==this._element).map(o=>vl.getOrCreateInstance(o,{toggle:!1}))),e.length&&e[0]._isTransitioning||Se.trigger(this._element,EW).defaultPrevented)return;for(const o of e)o.hide();const r=this._getDimension();this._element.classList.remove(ha),this._element.classList.add(Cc),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(Cc),this._element.classList.add(ha,Ip),this._element.style[r]="",Se.trigger(this._element,xW)},a=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(n,this._element,!0),this._element.style[r]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||Se.trigger(this._element,wW).defaultPrevented)return;const i=this._getDimension();this._element.style[i]=`${this._element.getBoundingClientRect()[i]}px`,Rl(this._element),this._element.classList.add(Cc),this._element.classList.remove(ha,Ip);for(const n of this._triggerArray){const s=He.getElementFromSelector(n);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([n],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Cc),this._element.classList.add(ha),Se.trigger(this._element,CW)};this._element.style[i]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Ip)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=rs(e.parent),e}_getDimension(){return this._element.classList.contains(RW)?DW:IW}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Ym);for(const i of e){const r=He.getElementFromSelector(i);r&&this._addAriaAndCollapsedClass([i],this._isShown(r))}}_getFirstLevelChildren(e){const i=He.find(OW,this._config.parent);return He.find(e,this._config.parent).filter(r=>!i.includes(r))}_addAriaAndCollapsedClass(e,i){if(e.length)for(const r of e)r.classList.toggle(PW,!i),r.setAttribute("aria-expanded",i)}static jQueryInterface(e){const i={};return typeof e=="string"&&/show|hide/.test(e)&&(i.toggle=!1),this.each(function(){const r=vl.getOrCreateInstance(this,i);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}Se.on(document,AW,Ym,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of He.getMultipleElementsFromSelector(this))vl.getOrCreateInstance(e,{toggle:!1}).toggle()});cr(vl);const _T="dropdown",FW="bs.dropdown",js=`.${FW}`,Iy=".data-api",MW="Escape",bT="Tab",$W="ArrowUp",ST="ArrowDown",jW=2,BW=`hide${js}`,UW=`hidden${js}`,HW=`show${js}`,qW=`shown${js}`,PA=`click${js}${Iy}`,OA=`keydown${js}${Iy}`,VW=`keyup${js}${Iy}`,aa="show",WW="dropup",zW="dropend",GW="dropstart",KW="dropup-center",QW="dropdown-center",Cs='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',XW=`${Cs}.${aa}`,zc=".dropdown-menu",YW=".navbar",JW=".navbar-nav",ZW=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",ez=ar()?"top-end":"top-start",tz=ar()?"top-start":"top-end",iz=ar()?"bottom-end":"bottom-start",rz=ar()?"bottom-start":"bottom-end",nz=ar()?"left-start":"right-start",sz=ar()?"right-start":"left-start",az="top",oz="bottom",uz={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},lz={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Xr extends Cr{constructor(e,i){super(e,i),this._popper=null,this._parent=this._element.parentNode,this._menu=He.next(this._element,zc)[0]||He.prev(this._element,zc)[0]||He.findOne(zc,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return uz}static get DefaultType(){return lz}static get NAME(){return _T}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ns(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!Se.trigger(this._element,HW,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(JW))for(const r of[].concat(...document.body.children))Se.on(r,"mouseover",Ad);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(aa),this._element.classList.add(aa),Se.trigger(this._element,qW,e)}}hide(){if(ns(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!Se.trigger(this._element,BW,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))Se.off(r,"mouseover",Ad);this._popper&&this._popper.destroy(),this._menu.classList.remove(aa),this._element.classList.remove(aa),this._element.setAttribute("aria-expanded","false"),Tn.removeDataAttribute(this._menu,"popper"),Se.trigger(this._element,UW,e),this._element.focus()}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Sn(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${_T.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof dA>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;this._config.reference==="parent"?e=this._parent:Sn(this._config.reference)?e=rs(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const i=this._getPopperConfig();this._popper=Oy(e,this._menu,i)}_isShown(){return this._menu.classList.contains(aa)}_getPlacement(){const e=this._parent;if(e.classList.contains(zW))return nz;if(e.classList.contains(GW))return sz;if(e.classList.contains(KW))return az;if(e.classList.contains(QW))return oz;const i=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(WW)?i?tz:ez:i?rz:iz}_detectNavbar(){return this._element.closest(YW)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(i=>Number.parseInt(i,10)):typeof e=="function"?i=>e(i,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Tn.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Ii(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:i}){const r=He.find(ZW,this._menu).filter(n=>ho(n));r.length&&Ry(r,i,e===ST,!r.includes(i)).focus()}static jQueryInterface(e){return this.each(function(){const i=Xr.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}static clearMenus(e){if(e.button===jW||e.type==="keyup"&&e.key!==bT)return;const i=He.find(XW);for(const r of i){const n=Xr.getInstance(r);if(!n||n._config.autoClose===!1)continue;const s=e.composedPath(),a=s.includes(n._menu);if(s.includes(n._element)||n._config.autoClose==="inside"&&!a||n._config.autoClose==="outside"&&a||n._menu.contains(e.target)&&(e.type==="keyup"&&e.key===bT||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const o={relatedTarget:n._element};e.type==="click"&&(o.clickEvent=e),n._completeHide(o)}}static dataApiKeydownHandler(e){const i=/input|textarea/i.test(e.target.tagName),r=e.key===MW,n=[$W,ST].includes(e.key);if(!n&&!r||i&&!r)return;e.preventDefault();const s=this.matches(Cs)?this:He.prev(this,Cs)[0]||He.next(this,Cs)[0]||He.findOne(Cs,e.delegateTarget.parentNode),a=Xr.getOrCreateInstance(s);if(n){e.stopPropagation(),a.show(),a._selectMenuItem(e);return}a._isShown()&&(e.stopPropagation(),a.hide(),s.focus())}}Se.on(document,OA,Cs,Xr.dataApiKeydownHandler);Se.on(document,OA,zc,Xr.dataApiKeydownHandler);Se.on(document,PA,Xr.clearMenus);Se.on(document,VW,Xr.clearMenus);Se.on(document,PA,Cs,function(t){t.preventDefault(),Xr.getOrCreateInstance(this).toggle()});cr(Xr);const RA="backdrop",cz="fade",TT="show",ET=`mousedown.bs.${RA}`,dz={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},hz={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class DA extends Dl{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return dz}static get DefaultType(){return hz}static get NAME(){return RA}show(e){if(!this._config.isVisible){Ii(e);return}this._append();const i=this._getElement();this._config.isAnimated&&Rl(i),i.classList.add(TT),this._emulateAnimation(()=>{Ii(e)})}hide(e){if(!this._config.isVisible){Ii(e);return}this._getElement().classList.remove(TT),this._emulateAnimation(()=>{this.dispose(),Ii(e)})}dispose(){this._isAppended&&(Se.off(this._element,ET),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(cz),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=rs(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),Se.on(e,ET,()=>{Ii(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){gA(e,this._getElement(),this._config.isAnimated)}}const fz="focustrap",pz="bs.focustrap",Od=`.${pz}`,mz=`focusin${Od}`,gz=`keydown.tab${Od}`,yz="Tab",vz="forward",xT="backward",_z={autofocus:!0,trapElement:null},bz={autofocus:"boolean",trapElement:"element"};class IA extends Dl{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return _z}static get DefaultType(){return bz}static get NAME(){return fz}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Se.off(document,Od),Se.on(document,mz,e=>this._handleFocusin(e)),Se.on(document,gz,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Se.off(document,Od))}_handleFocusin(e){const{trapElement:i}=this._config;if(e.target===document||e.target===i||i.contains(e.target))return;const r=He.focusableChildren(i);r.length===0?i.focus():this._lastTabNavDirection===xT?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===yz&&(this._lastTabNavDirection=e.shiftKey?xT:vz)}}const wT=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",CT=".sticky-top",Ac="padding-right",AT="margin-right";class Jm{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ac,i=>i+e),this._setElementAttributes(wT,Ac,i=>i+e),this._setElementAttributes(CT,AT,i=>i-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ac),this._resetElementAttributes(wT,Ac),this._resetElementAttributes(CT,AT)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,i,r){const n=this.getWidth(),s=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+n)return;this._saveInitialAttribute(a,i);const o=window.getComputedStyle(a).getPropertyValue(i);a.style.setProperty(i,`${r(Number.parseFloat(o))}px`)};this._applyManipulationCallback(e,s)}_saveInitialAttribute(e,i){const r=e.style.getPropertyValue(i);r&&Tn.setDataAttribute(e,i,r)}_resetElementAttributes(e,i){const r=n=>{const s=Tn.getDataAttribute(n,i);if(s===null){n.style.removeProperty(i);return}Tn.removeDataAttribute(n,i),n.style.setProperty(i,s)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,i){if(Sn(e)){i(e);return}for(const r of He.find(e,this._element))i(r)}}const Sz="modal",Tz="bs.modal",or=`.${Tz}`,Ez=".data-api",xz="Escape",wz=`hide${or}`,Cz=`hidePrevented${or}`,kA=`hidden${or}`,LA=`show${or}`,Az=`shown${or}`,Pz=`resize${or}`,Oz=`click.dismiss${or}`,Rz=`mousedown.dismiss${or}`,Dz=`keydown.dismiss${or}`,Iz=`click${or}${Ez}`,PT="modal-open",kz="fade",OT="show",kp="modal-static",Lz=".modal.show",Nz=".modal-dialog",Fz=".modal-body",Mz='[data-bs-toggle="modal"]',$z={backdrop:!0,focus:!0,keyboard:!0},jz={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ja extends Cr{constructor(e,i){super(e,i),this._dialog=He.findOne(Nz,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Jm,this._addEventListeners()}static get Default(){return $z}static get DefaultType(){return jz}static get NAME(){return Sz}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||Se.trigger(this._element,LA,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(PT),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||Se.trigger(this._element,wz).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(OT),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Se.off(window,or),Se.off(this._dialog,or),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new DA({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new IA({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const i=He.findOne(Fz,this._dialog);i&&(i.scrollTop=0),Rl(this._element),this._element.classList.add(OT);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Se.trigger(this._element,Az,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){Se.on(this._element,Dz,e=>{if(e.key===xz){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),Se.on(window,Pz,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Se.on(this._element,Rz,e=>{Se.one(this._element,Oz,i=>{if(!(this._element!==e.target||this._element!==i.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(PT),this._resetAdjustments(),this._scrollBar.reset(),Se.trigger(this._element,kA)})}_isAnimated(){return this._element.classList.contains(kz)}_triggerBackdropTransition(){if(Se.trigger(this._element,Cz).defaultPrevented)return;const i=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(kp)||(i||(this._element.style.overflowY="hidden"),this._element.classList.add(kp),this._queueCallback(()=>{this._element.classList.remove(kp),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,i=this._scrollBar.getWidth(),r=i>0;if(r&&!e){const n=ar()?"paddingLeft":"paddingRight";this._element.style[n]=`${i}px`}if(!r&&e){const n=ar()?"paddingRight":"paddingLeft";this._element.style[n]=`${i}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,i){return this.each(function(){const r=Ja.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](i)}})}}Se.on(document,Iz,Mz,function(t){const e=He.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),Se.one(e,LA,n=>{n.defaultPrevented||Se.one(e,kA,()=>{ho(this)&&this.focus()})});const i=He.findOne(Lz);i&&Ja.getInstance(i).hide(),Ja.getOrCreateInstance(e).toggle(this)});vh(Ja);cr(Ja);const Bz="offcanvas",Uz="bs.offcanvas",Dn=`.${Uz}`,NA=".data-api",Hz=`load${Dn}${NA}`,qz="Escape",RT="show",DT="showing",IT="hiding",Vz="offcanvas-backdrop",FA=".offcanvas.show",Wz=`show${Dn}`,zz=`shown${Dn}`,Gz=`hide${Dn}`,kT=`hidePrevented${Dn}`,MA=`hidden${Dn}`,Kz=`resize${Dn}`,Qz=`click${Dn}${NA}`,Xz=`keydown.dismiss${Dn}`,Yz='[data-bs-toggle="offcanvas"]',Jz={backdrop:!0,keyboard:!0,scroll:!1},Zz={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ss extends Cr{constructor(e,i){super(e,i),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Jz}static get DefaultType(){return Zz}static get NAME(){return Bz}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||Se.trigger(this._element,Wz,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Jm().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(DT);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(RT),this._element.classList.remove(DT),Se.trigger(this._element,zz,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||Se.trigger(this._element,Gz).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(IT),this._backdrop.hide();const i=()=>{this._element.classList.remove(RT,IT),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Jm().reset(),Se.trigger(this._element,MA)};this._queueCallback(i,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){Se.trigger(this._element,kT);return}this.hide()},i=!!this._config.backdrop;return new DA({className:Vz,isVisible:i,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:i?e:null})}_initializeFocusTrap(){return new IA({trapElement:this._element})}_addEventListeners(){Se.on(this._element,Xz,e=>{if(e.key===qz){if(this._config.keyboard){this.hide();return}Se.trigger(this._element,kT)}})}static jQueryInterface(e){return this.each(function(){const i=ss.getOrCreateInstance(this,e);if(typeof e=="string"){if(i[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);i[e](this)}})}}Se.on(document,Qz,Yz,function(t){const e=He.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),ns(this))return;Se.one(e,MA,()=>{ho(this)&&this.focus()});const i=He.findOne(FA);i&&i!==e&&ss.getInstance(i).hide(),ss.getOrCreateInstance(e).toggle(this)});Se.on(window,Hz,()=>{for(const t of He.find(FA))ss.getOrCreateInstance(t).show()});Se.on(window,Kz,()=>{for(const t of He.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&ss.getOrCreateInstance(t).hide()});vh(ss);cr(ss);const eG=/^aria-[\w-]*$/i,$A={"*":["class","dir","id","lang","role",eG],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},tG=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),iG=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,rG=(t,e)=>{const i=t.nodeName.toLowerCase();return e.includes(i)?tG.has(i)?!!iG.test(t.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(i))};function nG(t,e,i){if(!t.length)return t;if(i&&typeof i=="function")return i(t);const n=new window.DOMParser().parseFromString(t,"text/html"),s=[].concat(...n.body.querySelectorAll("*"));for(const a of s){const o=a.nodeName.toLowerCase();if(!Object.keys(e).includes(o)){a.remove();continue}const u=[].concat(...a.attributes),l=[].concat(e["*"]||[],e[o]||[]);for(const c of u)rG(c,l)||a.removeAttribute(c.nodeName)}return n.body.innerHTML}const sG="TemplateFactory",aG={allowList:$A,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},oG={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},uG={entry:"(string|element|function|null)",selector:"(string|element)"};class lG extends Dl{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return aG}static get DefaultType(){return oG}static get NAME(){return sG}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[n,s]of Object.entries(this._config.content))this._setContent(e,s,n);const i=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&i.classList.add(...r.split(" ")),i}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[i,r]of Object.entries(e))super._typeCheckConfig({selector:i,entry:r},uG)}_setContent(e,i,r){const n=He.findOne(r,e);if(n){if(i=this._resolvePossibleFunction(i),!i){n.remove();return}if(Sn(i)){this._putElementInTemplate(rs(i),n);return}if(this._config.html){n.innerHTML=this._maybeSanitize(i);return}n.textContent=i}}_maybeSanitize(e){return this._config.sanitize?nG(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Ii(e,[void 0,this])}_putElementInTemplate(e,i){if(this._config.html){i.innerHTML="",i.append(e);return}i.textContent=e.textContent}}const cG="tooltip",dG=new Set(["sanitize","allowList","sanitizeFn"]),Lp="fade",hG="modal",Pc="show",fG=".tooltip-inner",LT=`.${hG}`,NT="hide.bs.modal",Go="hover",Np="focus",pG="click",mG="manual",gG="hide",yG="hidden",vG="show",_G="shown",bG="inserted",SG="click",TG="focusin",EG="focusout",xG="mouseenter",wG="mouseleave",CG={AUTO:"auto",TOP:"top",RIGHT:ar()?"left":"right",BOTTOM:"bottom",LEFT:ar()?"right":"left"},AG={allowList:$A,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},PG={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class po extends Cr{constructor(e,i){if(typeof dA>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,i),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return AG}static get DefaultType(){return PG}static get NAME(){return cG}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Se.off(this._element.closest(LT),NT,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=Se.trigger(this._element,this.constructor.eventName(vG)),r=(pA(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(n),Se.trigger(this._element,this.constructor.eventName(bG))),this._popper=this._createPopper(n),n.classList.add(Pc),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))Se.on(o,"mouseover",Ad);const a=()=>{Se.trigger(this._element,this.constructor.eventName(_G)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(a,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Se.trigger(this._element,this.constructor.eventName(gG)).defaultPrevented)return;if(this._getTipElement().classList.remove(Pc),"ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))Se.off(n,"mouseover",Ad);this._activeTrigger[pG]=!1,this._activeTrigger[Np]=!1,this._activeTrigger[Go]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Se.trigger(this._element,this.constructor.eventName(yG)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const i=this._getTemplateFactory(e).toHtml();if(!i)return null;i.classList.remove(Lp,Pc),i.classList.add(`bs-${this.constructor.NAME}-auto`);const r=pV(this.constructor.NAME).toString();return i.setAttribute("id",r),this._isAnimated()&&i.classList.add(Lp),i}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new lG({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[fG]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Lp)}_isShown(){return this.tip&&this.tip.classList.contains(Pc)}_createPopper(e){const i=Ii(this._config.placement,[this,e,this._element]),r=CG[i.toUpperCase()];return Oy(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(i=>Number.parseInt(i,10)):typeof e=="function"?i=>e(i,this._element):e}_resolvePossibleFunction(e){return Ii(e,[this._element,this._element])}_getPopperConfig(e){const i={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...i,...Ii(this._config.popperConfig,[void 0,i])}}_setListeners(){const e=this._config.trigger.split(" ");for(const i of e)if(i==="click")Se.on(this._element,this.constructor.eventName(SG),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(i!==mG){const r=i===Go?this.constructor.eventName(xG):this.constructor.eventName(TG),n=i===Go?this.constructor.eventName(wG):this.constructor.eventName(EG);Se.on(this._element,r,this._config.selector,s=>{const a=this._initializeOnDelegatedTarget(s);a._activeTrigger[s.type==="focusin"?Np:Go]=!0,a._enter()}),Se.on(this._element,n,this._config.selector,s=>{const a=this._initializeOnDelegatedTarget(s);a._activeTrigger[s.type==="focusout"?Np:Go]=a._element.contains(s.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Se.on(this._element.closest(LT),NT,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,i){clearTimeout(this._timeout),this._timeout=setTimeout(e,i)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const i=Tn.getDataAttributes(this._element);for(const r of Object.keys(i))dG.has(r)&&delete i[r];return e={...i,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:rs(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[i,r]of Object.entries(this._config))this.constructor.Default[i]!==r&&(e[i]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const i=po.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}}cr(po);const OG="popover",RG=".popover-header",DG=".popover-body",IG={...po.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},kG={...po.DefaultType,content:"(null|string|element|function)"};class ky extends po{static get Default(){return IG}static get DefaultType(){return kG}static get NAME(){return OG}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[RG]:this._getTitle(),[DG]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const i=ky.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}}cr(ky);const LG="scrollspy",NG="bs.scrollspy",Ly=`.${NG}`,FG=".data-api",MG=`activate${Ly}`,FT=`click${Ly}`,$G=`load${Ly}${FG}`,jG="dropdown-item",ea="active",BG='[data-bs-spy="scroll"]',Fp="[href]",UG=".nav, .list-group",MT=".nav-link",HG=".nav-item",qG=".list-group-item",VG=`${MT}, ${HG} > ${MT}, ${qG}`,WG=".dropdown",zG=".dropdown-toggle",GG={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},KG={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Sh extends Cr{constructor(e,i){super(e,i),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return GG}static get DefaultType(){return KG}static get NAME(){return LG}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=rs(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(i=>Number.parseFloat(i))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Se.off(this._config.target,FT),Se.on(this._config.target,FT,Fp,e=>{const i=this._observableSections.get(e.target.hash);if(i){e.preventDefault();const r=this._rootElement||window,n=i.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:n,behavior:"smooth"});return}r.scrollTop=n}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(i=>this._observerCallback(i),e)}_observerCallback(e){const i=a=>this._targetLinks.get(`#${a.target.id}`),r=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(i(a))},n=(this._rootElement||document.documentElement).scrollTop,s=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(const a of e){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(i(a));continue}const o=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&o){if(r(a),!n)return;continue}!s&&!o&&r(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=He.find(Fp,this._config.target);for(const i of e){if(!i.hash||ns(i))continue;const r=He.findOne(decodeURI(i.hash),this._element);ho(r)&&(this._targetLinks.set(decodeURI(i.hash),i),this._observableSections.set(i.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(ea),this._activateParents(e),Se.trigger(this._element,MG,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(jG)){He.findOne(zG,e.closest(WG)).classList.add(ea);return}for(const i of He.parents(e,UG))for(const r of He.prev(i,VG))r.classList.add(ea)}_clearActiveClass(e){e.classList.remove(ea);const i=He.find(`${Fp}.${ea}`,e);for(const r of i)r.classList.remove(ea)}static jQueryInterface(e){return this.each(function(){const i=Sh.getOrCreateInstance(this,e);if(typeof e=="string"){if(i[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);i[e]()}})}}Se.on(window,$G,()=>{for(const t of He.find(BG))Sh.getOrCreateInstance(t)});cr(Sh);const QG="tab",XG="bs.tab",Bs=`.${XG}`,YG=`hide${Bs}`,JG=`hidden${Bs}`,ZG=`show${Bs}`,eK=`shown${Bs}`,tK=`click${Bs}`,iK=`keydown${Bs}`,rK=`load${Bs}`,nK="ArrowLeft",$T="ArrowRight",sK="ArrowUp",jT="ArrowDown",Mp="Home",BT="End",As="active",UT="fade",$p="show",aK="dropdown",jA=".dropdown-toggle",oK=".dropdown-menu",jp=`:not(${jA})`,uK='.list-group, .nav, [role="tablist"]',lK=".nav-item, .list-group-item",cK=`.nav-link${jp}, .list-group-item${jp}, [role="tab"]${jp}`,BA='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Bp=`${cK}, ${BA}`,dK=`.${As}[data-bs-toggle="tab"], .${As}[data-bs-toggle="pill"], .${As}[data-bs-toggle="list"]`;class Za extends Cr{constructor(e){super(e),this._parent=this._element.closest(uK),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Se.on(this._element,iK,i=>this._keydown(i)))}static get NAME(){return QG}show(){const e=this._element;if(this._elemIsActive(e))return;const i=this._getActiveElem(),r=i?Se.trigger(i,YG,{relatedTarget:e}):null;Se.trigger(e,ZG,{relatedTarget:i}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(i,e),this._activate(e,i))}_activate(e,i){if(!e)return;e.classList.add(As),this._activate(He.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add($p);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),Se.trigger(e,eK,{relatedTarget:i})};this._queueCallback(r,e,e.classList.contains(UT))}_deactivate(e,i){if(!e)return;e.classList.remove(As),e.blur(),this._deactivate(He.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove($p);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),Se.trigger(e,JG,{relatedTarget:i})};this._queueCallback(r,e,e.classList.contains(UT))}_keydown(e){if(![nK,$T,sK,jT,Mp,BT].includes(e.key))return;e.stopPropagation(),e.preventDefault();const i=this._getChildren().filter(n=>!ns(n));let r;if([Mp,BT].includes(e.key))r=i[e.key===Mp?0:i.length-1];else{const n=[$T,jT].includes(e.key);r=Ry(i,e.target,n,!0)}r&&(r.focus({preventScroll:!0}),Za.getOrCreateInstance(r).show())}_getChildren(){return He.find(Bp,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,i){this._setAttributeIfNotExists(e,"role","tablist");for(const r of i)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const i=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",i),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),i||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const i=He.getElementFromSelector(e);i&&(this._setAttributeIfNotExists(i,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(i,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,i){const r=this._getOuterElement(e);if(!r.classList.contains(aK))return;const n=(s,a)=>{const o=He.findOne(s,r);o&&o.classList.toggle(a,i)};n(jA,As),n(oK,$p),r.setAttribute("aria-expanded",i)}_setAttributeIfNotExists(e,i,r){e.hasAttribute(i)||e.setAttribute(i,r)}_elemIsActive(e){return e.classList.contains(As)}_getInnerElement(e){return e.matches(Bp)?e:He.findOne(Bp,e)}_getOuterElement(e){return e.closest(lK)||e}static jQueryInterface(e){return this.each(function(){const i=Za.getOrCreateInstance(this);if(typeof e=="string"){if(i[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);i[e]()}})}}Se.on(document,tK,BA,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!ns(this)&&Za.getOrCreateInstance(this).show()});Se.on(window,rK,()=>{for(const t of He.find(dK))Za.getOrCreateInstance(t)});cr(Za);const hK="toast",fK="bs.toast",ds=`.${fK}`,pK=`mouseover${ds}`,mK=`mouseout${ds}`,gK=`focusin${ds}`,yK=`focusout${ds}`,vK=`hide${ds}`,_K=`hidden${ds}`,bK=`show${ds}`,SK=`shown${ds}`,TK="fade",HT="hide",Oc="show",Rc="showing",EK={animation:"boolean",autohide:"boolean",delay:"number"},xK={animation:!0,autohide:!0,delay:5e3};class Th extends Cr{constructor(e,i){super(e,i),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return xK}static get DefaultType(){return EK}static get NAME(){return hK}show(){if(Se.trigger(this._element,bK).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(TK);const i=()=>{this._element.classList.remove(Rc),Se.trigger(this._element,SK),this._maybeScheduleHide()};this._element.classList.remove(HT),Rl(this._element),this._element.classList.add(Oc,Rc),this._queueCallback(i,this._element,this._config.animation)}hide(){if(!this.isShown()||Se.trigger(this._element,vK).defaultPrevented)return;const i=()=>{this._element.classList.add(HT),this._element.classList.remove(Rc,Oc),Se.trigger(this._element,_K)};this._element.classList.add(Rc),this._queueCallback(i,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Oc),super.dispose()}isShown(){return this._element.classList.contains(Oc)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,i){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=i;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=i;break}}if(i){this._clearTimeout();return}const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){Se.on(this._element,pK,e=>this._onInteraction(e,!0)),Se.on(this._element,mK,e=>this._onInteraction(e,!1)),Se.on(this._element,gK,e=>this._onInteraction(e,!0)),Se.on(this._element,yK,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const i=Th.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](this)}})}}vh(Th);cr(Th);VD(xq).use(g8).use(Sq).mount("#app");
